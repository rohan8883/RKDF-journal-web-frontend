import{j as I,X as et,e as Ue,r as ye,_ as he,S as tt,C as nt}from"./index-CcP31-MS.js";import{P as rt}from"./index-BuLA2Zcz.js";import{r as de,f as ge,a as it,g as ot,u as lt}from"./router-GXfyPTrP.js";import{B as we}from"./button-1B5J0yav.js";import{c as at,d as ut,C as st,a as ft}from"./card-BUwt69pt.js";import{T as ct,a as dt,b as Re,c as xe,d as ht,e as _e,P as pt}from"./index-DpmhSYUg.js";import{C as vt,k as yt,d as He,o as ze,F as Ke,j as Se,R as ke,B as Ve,f as ce,l as mt,e as je}from"./file-upload-RN2qJPxu.js";import{R as gt}from"./RHFTextArea-CE2wi2G-.js";import{T as Ie}from"./label-BZX6spI0.js";import{D as $e,T as bt,S as Ze,F as _t,L as Ot}from"./index-COzUokNX.js";import{u as We,b as xt,a as Oe}from"./useCustomQuery-CyGYSctF.js";import{d as Et,T as wt,a as Nt,b as Ne}from"./isEqual-DogWZKV_.js";import{B as Pe}from"./book-open-Ckb_domj.js";import{B as Ge}from"./book-Cw3T6Lat.js";import{A as At}from"./archive-bkRqJO6r.js";import{U as Me}from"./upload-1RwiwBS6.js";import{F as Ee}from"./file-text-Di_qLonZ.js";import{S as kt}from"./separator-CNOKkEwr.js";import{B as Be}from"./badge-B_hu0FcF.js";import{D as Tt,a as St,b as jt,c as Te}from"./dropdown-menu-CZPXPtWQ.js";import{C as Pt}from"./calendar-B7qepxDc.js";import{H as Lt}from"./hash-Dzg1AZRP.js";import{C as qt}from"./circle-plus-oGhiSEz9.js";import{S as Rt}from"./search-CCpwhhT9.js";import{S as De}from"./square-pen-9yW6PE9n.js";import"./axios-DmypytPv.js";import"./chevron-right-GzMuV-zV.js";import"./select-CZPb9YGE.js";import"./index-CAeIp94X.js";import"./_baseIsEqual-qqLIoS6a.js";import"./check-CbVWe5nB.js";const It=({control:ne,name:Y,label:j,placeholder:d})=>{const[h,k]=de.useState([]),[N,O]=de.useState(""),y=(f,i)=>{if((f.key==="Enter"||f.key===",")&&N.trim()){f.preventDefault();const e=N.trim().replace(/,/g,"");if(e&&!h.includes(e)){const t=[...h,e];k(t),i(t.join(", "))}O("")}if(f.key==="Backspace"&&!N&&h.length>0){const e=h.slice(0,-1);k(e),i(e.join(", "))}},g=(f,i)=>{const e=h.filter(t=>t!==f);k(e),i(e.join(", "))};return de.useEffect(()=>()=>{k([]),O("")},[]),I.jsx(vt,{name:Y,control:ne,render:({field:f,fieldState:i})=>(de.useEffect(()=>{if(f.value&&typeof f.value=="string"){const e=f.value.split(",").map(t=>t.trim()).filter(t=>t);k(e)}},[f.value]),I.jsxs("div",{className:"w-full",children:[j&&I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:j}),I.jsxs("div",{className:`flex flex-wrap items-center gap-2 p-2 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 ${i.error?"border-red-500":"border-gray-300"} bg-white`,children:[h.map((e,t)=>I.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-md",children:[I.jsx("span",{children:e}),I.jsx("button",{type:"button",onClick:()=>g(e,f.onChange),className:"ml-1 text-blue-600 hover:text-blue-800 focus:outline-none",children:I.jsx(et,{className:"h-3 w-3"})})]},t)),I.jsx("input",{type:"text",value:N,onChange:e=>O(e.target.value),onKeyDown:e=>y(e,f.onChange),onBlur:()=>{if(f.onBlur(),N.trim()){const e=N.trim();if(!h.includes(e)){const t=[...h,e];k(t),f.onChange(t.join(", "))}O("")}},placeholder:h.length===0?d||"Add keywords...":"",className:"flex-1 outline-none text-sm min-w-[120px]"})]}),i.error&&I.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.error.message})]}))})},Ye=It;var Xe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(ne,Y){(function(d,h){ne.exports=h()})(typeof self<"u"?self:ge,function(){return function(j){var d={};function h(k){if(d[k])return d[k].exports;var N=d[k]={i:k,l:!1,exports:{}};return j[k].call(N.exports,N,N.exports,h),N.l=!0,N.exports}return h.m=j,h.c=d,h.d=function(k,N,O){h.o(k,N)||Object.defineProperty(k,N,{configurable:!1,enumerable:!0,get:O})},h.n=function(k){var N=k&&k.__esModule?function(){return k.default}:function(){return k};return h.d(N,"a",N),N},h.o=function(k,N){return Object.prototype.hasOwnProperty.call(k,N)},h.p="",h(h.s=109)}([function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(17),N=h(18),O=h(19),y=h(45),g=h(46),f=h(47),i=h(48),e=h(49),t=h(12),s=h(32),a=h(33),l=h(31),r=h(1),o={Scope:r.Scope,create:r.create,find:r.find,query:r.query,register:r.register,Container:k.default,Format:N.default,Leaf:O.default,Embed:i.default,Scroll:y.default,Block:f.default,Inline:g.default,Text:e.default,Attributor:{Attribute:t.default,Class:s.default,Style:a.default,Store:l.default}};d.default=o},function(j,d,h){var k=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)o.hasOwnProperty(u)&&(r[u]=o[u])};return function(r,o){l(r,o);function u(){this.constructor=r}r.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=function(l){k(r,l);function r(o){var u=this;return o="[Parchment] "+o,u=l.call(this,o)||this,u.message=o,u.name=u.constructor.name,u}return r}(Error);d.ParchmentError=N;var O={},y={},g={},f={};d.DATA_KEY="__blot";var i;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(i=d.Scope||(d.Scope={}));function e(l,r){var o=s(l);if(o==null)throw new N("Unable to create "+l+" blot");var u=o,n=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:u.create(r);return new u(n,r)}d.create=e;function t(l,r){return r===void 0&&(r=!1),l==null?null:l[d.DATA_KEY]!=null?l[d.DATA_KEY].blot:r?t(l.parentNode,r):null}d.find=t;function s(l,r){r===void 0&&(r=i.ANY);var o;if(typeof l=="string")o=f[l]||O[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)o=f.text;else if(typeof l=="number")l&i.LEVEL&i.BLOCK?o=f.block:l&i.LEVEL&i.INLINE&&(o=f.inline);else if(l instanceof HTMLElement){var u=(l.getAttribute("class")||"").split(/\s+/);for(var n in u)if(o=y[u[n]],o)break;o=o||g[l.tagName]}return o==null?null:r&i.LEVEL&o.scope&&r&i.TYPE&o.scope?o:null}d.query=s;function a(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];if(l.length>1)return l.map(function(n){return a(n)});var o=l[0];if(typeof o.blotName!="string"&&typeof o.attrName!="string")throw new N("Invalid definition");if(o.blotName==="abstract")throw new N("Cannot register abstract class");if(f[o.blotName||o.attrName]=o,typeof o.keyName=="string")O[o.keyName]=o;else if(o.className!=null&&(y[o.className]=o),o.tagName!=null){Array.isArray(o.tagName)?o.tagName=o.tagName.map(function(n){return n.toUpperCase()}):o.tagName=o.tagName.toUpperCase();var u=Array.isArray(o.tagName)?o.tagName:[o.tagName];u.forEach(function(n){(g[n]==null||o.className==null)&&(g[n]=o)})}return o}d.register=a},function(j,d,h){var k=h(51),N=h(11),O=h(3),y=h(20),g="\0",f=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};f.prototype.insert=function(i,e){var t={};return i.length===0?this:(t.insert=i,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},f.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},f.prototype.retain=function(i,e){if(i<=0)return this;var t={retain:i};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},f.prototype.push=function(i){var e=this.ops.length,t=this.ops[e-1];if(i=O(!0,{},i),typeof t=="object"){if(typeof i.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+i.delete},this;if(typeof t.delete=="number"&&i.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(i),this;if(N(i.attributes,t.attributes)){if(typeof i.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+i.insert},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+i.retain},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this}}return e===this.ops.length?this.ops.push(i):this.ops.splice(e,0,i),this},f.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},f.prototype.filter=function(i){return this.ops.filter(i)},f.prototype.forEach=function(i){this.ops.forEach(i)},f.prototype.map=function(i){return this.ops.map(i)},f.prototype.partition=function(i){var e=[],t=[];return this.forEach(function(s){var a=i(s)?e:t;a.push(s)}),[e,t]},f.prototype.reduce=function(i,e){return this.ops.reduce(i,e)},f.prototype.changeLength=function(){return this.reduce(function(i,e){return e.insert?i+y.length(e):e.delete?i-e.delete:i},0)},f.prototype.length=function(){return this.reduce(function(i,e){return i+y.length(e)},0)},f.prototype.slice=function(i,e){i=i||0,typeof e!="number"&&(e=1/0);for(var t=[],s=y.iterator(this.ops),a=0;a<e&&s.hasNext();){var l;a<i?l=s.next(i-a):(l=s.next(e-a),t.push(l)),a+=y.length(l)}return new f(t)},f.prototype.compose=function(i){var e=y.iterator(this.ops),t=y.iterator(i.ops),s=[],a=t.peek();if(a!=null&&typeof a.retain=="number"&&a.attributes==null){for(var l=a.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),s.push(e.next());a.retain-l>0&&t.next(a.retain-l)}for(var r=new f(s);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")r.push(t.next());else if(e.peekType()==="delete")r.push(e.next());else{var o=Math.min(e.peekLength(),t.peekLength()),u=e.next(o),n=t.next(o);if(typeof n.retain=="number"){var c={};typeof u.retain=="number"?c.retain=o:c.insert=u.insert;var w=y.attributes.compose(u.attributes,n.attributes,typeof u.retain=="number");if(w&&(c.attributes=w),r.push(c),!t.hasNext()&&N(r.ops[r.ops.length-1],c)){var b=new f(e.rest());return r.concat(b).chop()}}else typeof n.delete=="number"&&typeof u.retain=="number"&&r.push(n)}return r.chop()},f.prototype.concat=function(i){var e=new f(this.ops.slice());return i.ops.length>0&&(e.push(i.ops[0]),e.ops=e.ops.concat(i.ops.slice(1))),e},f.prototype.diff=function(i,e){if(this.ops===i.ops)return new f;var t=[this,i].map(function(o){return o.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:g;var n=o===i?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),s=new f,a=k(t[0],t[1],e),l=y.iterator(this.ops),r=y.iterator(i.ops);return a.forEach(function(o){for(var u=o[1].length;u>0;){var n=0;switch(o[0]){case k.INSERT:n=Math.min(r.peekLength(),u),s.push(r.next(n));break;case k.DELETE:n=Math.min(u,l.peekLength()),l.next(n),s.delete(n);break;case k.EQUAL:n=Math.min(l.peekLength(),r.peekLength(),u);var c=l.next(n),w=r.next(n);N(c.insert,w.insert)?s.retain(n,y.attributes.diff(c.attributes,w.attributes)):s.push(w).delete(n);break}u-=n}}),s.chop()},f.prototype.eachLine=function(i,e){e=e||`
`;for(var t=y.iterator(this.ops),s=new f,a=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),r=y.length(l)-t.peekLength(),o=typeof l.insert=="string"?l.insert.indexOf(e,r)-r:-1;if(o<0)s.push(t.next());else if(o>0)s.push(t.next(o));else{if(i(s,t.next(1).attributes||{},a)===!1)return;a+=1,s=new f}}s.length()>0&&i(s,{},a)},f.prototype.transform=function(i,e){if(e=!!e,typeof i=="number")return this.transformPosition(i,e);for(var t=y.iterator(this.ops),s=y.iterator(i.ops),a=new f;t.hasNext()||s.hasNext();)if(t.peekType()==="insert"&&(e||s.peekType()!=="insert"))a.retain(y.length(t.next()));else if(s.peekType()==="insert")a.push(s.next());else{var l=Math.min(t.peekLength(),s.peekLength()),r=t.next(l),o=s.next(l);if(r.delete)continue;o.delete?a.push(o):a.retain(l,y.attributes.transform(r.attributes,o.attributes,e))}return a.chop()},f.prototype.transformPosition=function(i,e){e=!!e;for(var t=y.iterator(this.ops),s=0;t.hasNext()&&s<=i;){var a=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){i-=Math.min(a,i-s);continue}else l==="insert"&&(s<i||!e)&&(i+=a);s+=a}return i},j.exports=f},function(j,d){var h=Object.prototype.hasOwnProperty,k=Object.prototype.toString,N=Object.defineProperty,O=Object.getOwnPropertyDescriptor,y=function(t){return typeof Array.isArray=="function"?Array.isArray(t):k.call(t)==="[object Array]"},g=function(t){if(!t||k.call(t)!=="[object Object]")return!1;var s=h.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&h.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!a)return!1;var l;for(l in t);return typeof l>"u"||h.call(t,l)},f=function(t,s){N&&s.name==="__proto__"?N(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},i=function(t,s){if(s==="__proto__")if(h.call(t,s)){if(O)return O(t,s).value}else return;return t[s]};j.exports=function e(){var t,s,a,l,r,o,u=arguments[0],n=1,c=arguments.length,w=!1;for(typeof u=="boolean"&&(w=u,u=arguments[1]||{},n=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});n<c;++n)if(t=arguments[n],t!=null)for(s in t)a=i(u,s),l=i(t,s),u!==l&&(w&&l&&(g(l)||(r=y(l)))?(r?(r=!1,o=a&&y(a)?a:[]):o=a&&g(a)?a:{},f(u,{name:s,newValue:e(w,o,l)})):typeof l<"u"&&f(u,{name:s,newValue:l}));return u}},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BlockEmbed=d.bubbleFormats=void 0;var k=function(){function p(v,x){for(var T=0;T<x.length;T++){var L=x[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(v,L.key,L)}}return function(v,x,T){return x&&p(v.prototype,x),T&&p(v,T),v}}(),N=function p(v,x,T){v===null&&(v=Function.prototype);var L=Object.getOwnPropertyDescriptor(v,x);if(L===void 0){var C=Object.getPrototypeOf(v);return C===null?void 0:p(C,x,T)}else{if("value"in L)return L.value;var D=L.get;return D===void 0?void 0:D.call(T)}},O=h(3),y=u(O),g=h(2),f=u(g),i=h(0),e=u(i),t=h(16),s=u(t),a=h(6),l=u(a),r=h(7),o=u(r);function u(p){return p&&p.__esModule?p:{default:p}}function n(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function w(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var b=1,_=function(p){w(v,p);function v(){return n(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return k(v,[{key:"attach",value:function(){N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,y.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,L){var C=e.default.query(T,e.default.Scope.BLOCK_ATTRIBUTE);C!=null&&this.attributes.attribute(C,L)}},{key:"formatAt",value:function(T,L,C,D){this.format(C,D)}},{key:"insertAt",value:function(T,L,C){if(typeof L=="string"&&L.endsWith(`
`)){var D=e.default.create(A.blotName);this.parent.insertBefore(D,T===0?this:this.next),D.insertAt(0,L.slice(0,-1))}else N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertAt",this).call(this,T,L,C)}}]),v}(e.default.Embed);_.scope=e.default.Scope.BLOCK_BLOT;var A=function(p){w(v,p);function v(x){n(this,v);var T=c(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x));return T.cache={},T}return k(v,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(T,L){return L.length()===0?T:T.insert(L.value(),m(L))},new f.default).insert(`
`,m(this))),this.cache.delta}},{key:"deleteAt",value:function(T,L){N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"deleteAt",this).call(this,T,L),this.cache={}}},{key:"formatAt",value:function(T,L,C,D){L<=0||(e.default.query(C,e.default.Scope.BLOCK)?T+L===this.length()&&this.format(C,D):N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"formatAt",this).call(this,T,Math.min(L,this.length()-T-1),C,D),this.cache={})}},{key:"insertAt",value:function(T,L,C){if(C!=null)return N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertAt",this).call(this,T,L,C);if(L.length!==0){var D=L.split(`
`),V=D.shift();V.length>0&&(T<this.length()-1||this.children.tail==null?N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),V):this.children.tail.insertAt(this.children.tail.length(),V),this.cache={});var B=this;D.reduce(function(q,E){return B=B.split(q,!0),B.insertAt(0,E),E.length},T+V.length)}}},{key:"insertBefore",value:function(T,L){var C=this.children.head;N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertBefore",this).call(this,T,L),C instanceof s.default&&C.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"length",this).call(this)+b),this.cache.length}},{key:"moveChildren",value:function(T,L){N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"moveChildren",this).call(this,T,L),this.cache={}}},{key:"optimize",value:function(T){N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(T===0||T>=this.length()-b)){var C=this.clone();return T===0?(this.parent.insertBefore(C,this),this):(this.parent.insertBefore(C,this.next),C)}else{var D=N(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"split",this).call(this,T,L);return this.cache={},D}}}]),v}(e.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[l.default,e.default.Embed,o.default];function m(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p==null||(typeof p.formats=="function"&&(v=(0,y.default)(v,p.formats())),p.parent==null||p.parent.blotName=="scroll"||p.parent.statics.scope!==p.statics.scope)?v:m(p.parent,v)}d.bubbleFormats=m,d.BlockEmbed=_,d.default=A},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.overload=d.expandConfig=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},N=function(){function B(q,E){var P=[],R=!0,U=!1,F=void 0;try{for(var S=q[Symbol.iterator](),M;!(R=(M=S.next()).done)&&(P.push(M.value),!(E&&P.length===E));R=!0);}catch(H){U=!0,F=H}finally{try{!R&&S.return&&S.return()}finally{if(U)throw F}}return P}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return B(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function B(q,E){for(var P=0;P<E.length;P++){var R=E[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(q,R.key,R)}}return function(q,E,P){return E&&B(q.prototype,E),P&&B(q,P),q}}();h(50);var y=h(2),g=m(y),f=h(14),i=m(f),e=h(8),t=m(e),s=h(9),a=m(s),l=h(0),r=m(l),o=h(15),u=m(o),n=h(3),c=m(n),w=h(10),b=m(w),_=h(34),A=m(_);function m(B){return B&&B.__esModule?B:{default:B}}function p(B,q,E){return q in B?Object.defineProperty(B,q,{value:E,enumerable:!0,configurable:!0,writable:!0}):B[q]=E,B}function v(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}var x=(0,b.default)("quill"),T=function(){O(B,null,[{key:"debug",value:function(E){E===!0&&(E="log"),b.default.level(E)}},{key:"find",value:function(E){return E.__quill||r.default.find(E)}},{key:"import",value:function(E){return this.imports[E]==null&&x.error("Cannot import "+E+". Are you sure it was registered?"),this.imports[E]}},{key:"register",value:function(E,P){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof E!="string"){var F=E.attrName||E.blotName;typeof F=="string"?this.register("formats/"+F,E,P):Object.keys(E).forEach(function(S){R.register(S,E[S],P)})}else this.imports[E]!=null&&!U&&x.warn("Overwriting "+E+" with",P),this.imports[E]=P,(E.startsWith("blots/")||E.startsWith("formats/"))&&P.blotName!=="abstract"?r.default.register(P):E.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function B(q){var E=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(v(this,B),this.options=L(q,P),this.container=this.options.container,this.container==null)return x.error("Invalid Quill container",q);this.options.debug&&B.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=r.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(F){F===t.default.events.TEXT_CHANGE&&E.root.classList.toggle("ql-blank",E.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(F,S){var M=E.selection.lastRange,H=M&&M.length===0?M.index:void 0;C.call(E,function(){return E.editor.update(null,S,H)},F)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return O(B,[{key:"addContainer",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof E=="string"){var R=E;E=document.createElement("div"),E.classList.add(R)}return this.container.insertBefore(E,P),E}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(E,P,R){var U=this,F=D(E,P,R),S=N(F,4);return E=S[0],P=S[1],R=S[3],C.call(this,function(){return U.editor.deleteText(E,P)},R,E,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(E),this.container.classList.toggle("ql-disabled",!E)}},{key:"focus",value:function(){var E=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=E,this.scrollIntoView()}},{key:"format",value:function(E,P){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return C.call(this,function(){var F=R.getSelection(!0),S=new g.default;if(F==null)return S;if(r.default.query(E,r.default.Scope.BLOCK))S=R.editor.formatLine(F.index,F.length,p({},E,P));else{if(F.length===0)return R.selection.format(E,P),S;S=R.editor.formatText(F.index,F.length,p({},E,P))}return R.setSelection(F,t.default.sources.SILENT),S},U)}},{key:"formatLine",value:function(E,P,R,U,F){var S=this,M=void 0,H=D(E,P,R,U,F),z=N(H,4);return E=z[0],P=z[1],M=z[2],F=z[3],C.call(this,function(){return S.editor.formatLine(E,P,M)},F,E,0)}},{key:"formatText",value:function(E,P,R,U,F){var S=this,M=void 0,H=D(E,P,R,U,F),z=N(H,4);return E=z[0],P=z[1],M=z[2],F=z[3],C.call(this,function(){return S.editor.formatText(E,P,M)},F,E,0)}},{key:"getBounds",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=void 0;typeof E=="number"?R=this.selection.getBounds(E,P):R=this.selection.getBounds(E.index,E.length);var U=this.container.getBoundingClientRect();return{bottom:R.bottom-U.top,height:R.height,left:R.left-U.left,right:R.right-U.left,top:R.top-U.top,width:R.width}}},{key:"getContents",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,R=D(E,P),U=N(R,2);return E=U[0],P=U[1],this.editor.getContents(E,P)}},{key:"getFormat",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof E=="number"?this.editor.getFormat(E,P):this.editor.getFormat(E.index,E.length)}},{key:"getIndex",value:function(E){return E.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(E){return this.scroll.leaf(E)}},{key:"getLine",value:function(E){return this.scroll.line(E)}},{key:"getLines",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof E!="number"?this.scroll.lines(E.index,E.length):this.scroll.lines(E,P)}},{key:"getModule",value:function(E){return this.theme.modules[E]}},{key:"getSelection",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return E&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-E,R=D(E,P),U=N(R,2);return E=U[0],P=U[1],this.editor.getText(E,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(E,P,R){var U=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return C.call(this,function(){return U.editor.insertEmbed(E,P,R)},F,E)}},{key:"insertText",value:function(E,P,R,U,F){var S=this,M=void 0,H=D(E,0,R,U,F),z=N(H,4);return E=z[0],M=z[2],F=z[3],C.call(this,function(){return S.editor.insertText(E,P,M)},F,E,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(E,P,R){this.clipboard.dangerouslyPasteHTML(E,P,R)}},{key:"removeFormat",value:function(E,P,R){var U=this,F=D(E,P,R),S=N(F,4);return E=S[0],P=S[1],R=S[3],C.call(this,function(){return U.editor.removeFormat(E,P)},R,E)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(E){var P=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return C.call(this,function(){E=new g.default(E);var U=P.getLength(),F=P.editor.deleteText(0,U),S=P.editor.applyDelta(E),M=S.ops[S.ops.length-1];M!=null&&typeof M.insert=="string"&&M.insert[M.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),S.delete(1));var H=F.compose(S);return H},R)}},{key:"setSelection",value:function(E,P,R){if(E==null)this.selection.setRange(null,P||B.sources.API);else{var U=D(E,P,R),F=N(U,4);E=F[0],P=F[1],R=F[3],this.selection.setRange(new o.Range(E,P),R),R!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,R=new g.default().insert(E);return this.setContents(R,P)}},{key:"update",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,P=this.scroll.update(E);return this.selection.update(E),P}},{key:"updateContents",value:function(E){var P=this,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return C.call(this,function(){return E=new g.default(E),P.editor.applyDelta(E,R)},R,!0)}}]),B}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=t.default.events,T.sources=t.default.sources,T.version="1.3.7",T.imports={delta:g.default,parchment:r.default,"core/module":a.default,"core/theme":A.default};function L(B,q){if(q=(0,c.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},q),!q.theme||q.theme===T.DEFAULTS.theme)q.theme=A.default;else if(q.theme=T.import("themes/"+q.theme),q.theme==null)throw new Error("Invalid theme "+q.theme+". Did you register it?");var E=(0,c.default)(!0,{},q.theme.DEFAULTS);[E,q].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(F){U.modules[F]===!0&&(U.modules[F]={})})});var P=Object.keys(E.modules).concat(Object.keys(q.modules)),R=P.reduce(function(U,F){var S=T.import("modules/"+F);return S==null?x.error("Cannot load "+F+" module. Are you sure you registered it?"):U[F]=S.DEFAULTS||{},U},{});return q.modules!=null&&q.modules.toolbar&&q.modules.toolbar.constructor!==Object&&(q.modules.toolbar={container:q.modules.toolbar}),q=(0,c.default)(!0,{},T.DEFAULTS,{modules:R},E,q),["bounds","container","scrollingContainer"].forEach(function(U){typeof q[U]=="string"&&(q[U]=document.querySelector(q[U]))}),q.modules=Object.keys(q.modules).reduce(function(U,F){return q.modules[F]&&(U[F]=q.modules[F]),U},{}),q}function C(B,q,E,P){if(this.options.strict&&!this.isEnabled()&&q===t.default.sources.USER)return new g.default;var R=E==null?null:this.getSelection(),U=this.editor.delta,F=B();if(R!=null&&(E===!0&&(E=R.index),P==null?R=V(R,F,q):P!==0&&(R=V(R,E,P,q)),this.setSelection(R,t.default.sources.SILENT)),F.length()>0){var S,M=[t.default.events.TEXT_CHANGE,F,U,q];if((S=this.emitter).emit.apply(S,[t.default.events.EDITOR_CHANGE].concat(M)),q!==t.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,M)}}return F}function D(B,q,E,P,R){var U={};return typeof B.index=="number"&&typeof B.length=="number"?typeof q!="number"?(R=P,P=E,E=q,q=B.length,B=B.index):(q=B.length,B=B.index):typeof q!="number"&&(R=P,P=E,E=q,q=0),(typeof E>"u"?"undefined":k(E))==="object"?(U=E,R=P):typeof E=="string"&&(P!=null?U[E]=P:R=E),R=R||t.default.sources.API,[B,q,U,R]}function V(B,q,E,P){if(B==null)return null;var R=void 0,U=void 0;if(q instanceof g.default){var F=[B.index,B.index+B.length].map(function(z){return q.transformPosition(z,P!==t.default.sources.USER)}),S=N(F,2);R=S[0],U=S[1]}else{var M=[B.index,B.index+B.length].map(function(z){return z<q||z===q&&P===t.default.sources.USER?z:E>=0?z+E:Math.max(q,z+E)}),H=N(M,2);R=H[0],U=H[1]}return new o.Range(R,U-R)}d.expandConfig=L,d.overload=D,d.default=T},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),N=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(u)}},O=h(7),y=i(O),g=h(0),f=i(g);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function t(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function s(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var a=function(l){s(r,l);function r(){return e(this,r),t(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"formatAt",value:function(u,n,c,w){if(r.compare(this.statics.blotName,c)<0&&f.default.query(c,f.default.Scope.BLOT)){var b=this.isolate(u,n);w&&b.wrap(c,w)}else N(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"formatAt",this).call(this,u,n,c,w)}},{key:"optimize",value:function(u){if(N(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"optimize",this).call(this,u),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(u,n){var c=r.order.indexOf(u),w=r.order.indexOf(n);return c>=0||w>=0?c-w:u===n?0:u<n?-1:1}}]),r}(f.default.Inline);a.allowedChildren=[a,f.default.Embed,y.default],a.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],d.default=a},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(N.default.Text);d.default=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function o(u,n){for(var c=0;c<n.length;c++){var w=n[c];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(u,w.key,w)}}return function(u,n,c){return n&&o(u.prototype,n),c&&o(u,c),u}}(),N=function o(u,n,c){u===null&&(u=Function.prototype);var w=Object.getOwnPropertyDescriptor(u,n);if(w===void 0){var b=Object.getPrototypeOf(u);return b===null?void 0:o(b,n,c)}else{if("value"in w)return w.value;var _=w.get;return _===void 0?void 0:_.call(c)}},O=h(54),y=i(O),g=h(10),f=i(g);function i(o){return o&&o.__esModule?o:{default:o}}function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function s(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var a=(0,f.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(o){document.addEventListener(o,function(){for(var u=arguments.length,n=Array(u),c=0;c<u;c++)n[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(w){if(w.__quill&&w.__quill.emitter){var b;(b=w.__quill.emitter).handleDOM.apply(b,n)}})})});var r=function(o){s(u,o);function u(){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return n.listeners={},n.on("error",a.error),n}return k(u,[{key:"emit",value:function(){a.log.apply(a,arguments),N(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(c){for(var w=arguments.length,b=Array(w>1?w-1:0),_=1;_<w;_++)b[_-1]=arguments[_];(this.listeners[c.type]||[]).forEach(function(A){var m=A.node,p=A.handler;(c.target===m||m.contains(c.target))&&p.apply(void 0,[c].concat(b))})}},{key:"listenDOM",value:function(c,w,b){this.listeners[c]||(this.listeners[c]=[]),this.listeners[c].push({node:w,handler:b})}}]),u}(y.default);r.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},r.sources={API:"api",SILENT:"silent",USER:"user"},d.default=r},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});function k(O,y){if(!(O instanceof y))throw new TypeError("Cannot call a class as a function")}var N=function O(y){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,O),this.quill=y,this.options=g};N.DEFAULTS={},d.default=N},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=["error","warn","log","info"],N="warn";function O(g){if(k.indexOf(g)<=k.indexOf(N)){for(var f,i=arguments.length,e=Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];(f=console)[g].apply(f,e)}}function y(g){return k.reduce(function(f,i){return f[i]=O.bind(console,i,g),f},{})}O.level=y.level=function(g){N=g},d.default=y},function(j,d,h){var k=Array.prototype.slice,N=h(52),O=h(53),y=j.exports=function(e,t,s){return s||(s={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?s.strict?e===t:e==t:i(e,t,s)};function g(e){return e==null}function f(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function i(e,t,s){var a,l;if(g(e)||g(t)||e.prototype!==t.prototype)return!1;if(O(e))return O(t)?(e=k.call(e),t=k.call(t),y(e,t,s)):!1;if(f(e)){if(!f(t)||e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var r=N(e),o=N(t)}catch{return!1}if(r.length!=o.length)return!1;for(r.sort(),o.sort(),a=r.length-1;a>=0;a--)if(r[a]!=o[a])return!1;for(a=r.length-1;a>=0;a--)if(l=r[a],!y(e[l],t[l],s))return!1;return typeof e==typeof t}},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(1),N=function(){function O(y,g,f){f===void 0&&(f={}),this.attrName=y,this.keyName=g;var i=k.Scope.TYPE&k.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&k.Scope.LEVEL|i:this.scope=k.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return O.keys=function(y){return[].map.call(y.attributes,function(g){return g.name})},O.prototype.add=function(y,g){return this.canAdd(y,g)?(y.setAttribute(this.keyName,g),!0):!1},O.prototype.canAdd=function(y,g){var f=k.query(y,k.Scope.BLOT&(this.scope|k.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof g=="string"?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1},O.prototype.remove=function(y){y.removeAttribute(this.keyName)},O.prototype.value=function(y){var g=y.getAttribute(this.keyName);return this.canAdd(y,g)&&g?g:""},O}();d.default=N},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.Code=void 0;var k=function(){function _(A,m){var p=[],v=!0,x=!1,T=void 0;try{for(var L=A[Symbol.iterator](),C;!(v=(C=L.next()).done)&&(p.push(C.value),!(m&&p.length===m));v=!0);}catch(D){x=!0,T=D}finally{try{!v&&L.return&&L.return()}finally{if(x)throw T}}return p}return function(A,m){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function _(A,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(A,v.key,v)}}return function(A,m,p){return m&&_(A.prototype,m),p&&_(A,p),A}}(),O=function _(A,m,p){A===null&&(A=Function.prototype);var v=Object.getOwnPropertyDescriptor(A,m);if(v===void 0){var x=Object.getPrototypeOf(A);return x===null?void 0:_(x,m,p)}else{if("value"in v)return v.value;var T=v.get;return T===void 0?void 0:T.call(p)}},y=h(2),g=o(y),f=h(0),i=o(f),e=h(4),t=o(e),s=h(6),a=o(s),l=h(7),r=o(l);function o(_){return _&&_.__esModule?_:{default:_}}function u(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function n(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function c(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var w=function(_){c(A,_);function A(){return u(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(a.default);w.blotName="code",w.tagName="CODE";var b=function(_){c(A,_);function A(){return u(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return N(A,[{key:"delta",value:function(){var p=this,v=this.domNode.textContent;return v.endsWith(`
`)&&(v=v.slice(0,-1)),v.split(`
`).reduce(function(x,T){return x.insert(T).insert(`
`,p.formats())},new g.default)}},{key:"format",value:function(p,v){if(!(p===this.statics.blotName&&v)){var x=this.descendant(r.default,this.length()-1),T=k(x,1),L=T[0];L!=null&&L.deleteAt(L.length()-1,1),O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,p,v)}}},{key:"formatAt",value:function(p,v,x,T){if(v!==0&&!(i.default.query(x,i.default.Scope.BLOCK)==null||x===this.statics.blotName&&T===this.statics.formats(this.domNode))){var L=this.newlineIndex(p);if(!(L<0||L>=p+v)){var C=this.newlineIndex(p,!0)+1,D=L-C+1,V=this.isolate(C,D),B=V.next;V.format(x,T),B instanceof A&&B.formatAt(0,p-C+v-D,x,T)}}}},{key:"insertAt",value:function(p,v,x){if(x==null){var T=this.descendant(r.default,p),L=k(T,2),C=L[0],D=L[1];C.insertAt(D,v)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?p:p+1}},{key:"newlineIndex",value:function(p){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(v)return this.domNode.textContent.slice(0,p).lastIndexOf(`
`);var x=this.domNode.textContent.slice(p).indexOf(`
`);return x>-1?p+x:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,p);var v=this.next;v!=null&&v.prev===this&&v.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===v.statics.formats(v.domNode)&&(v.optimize(p),v.moveChildren(this),v.remove())}},{key:"replace",value:function(p){O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(v){var x=i.default.find(v);x==null?v.parentNode.removeChild(v):x instanceof i.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(p){var v=O(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,p);return v.setAttribute("spellcheck",!1),v}},{key:"formats",value:function(){return!0}}]),A}(t.default);b.blotName="code-block",b.tagName="PRE",b.TAB="  ",d.Code=w,d.default=b},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},N=function(){function B(q,E){var P=[],R=!0,U=!1,F=void 0;try{for(var S=q[Symbol.iterator](),M;!(R=(M=S.next()).done)&&(P.push(M.value),!(E&&P.length===E));R=!0);}catch(H){U=!0,F=H}finally{try{!R&&S.return&&S.return()}finally{if(U)throw F}}return P}return function(q,E){if(Array.isArray(q))return q;if(Symbol.iterator in Object(q))return B(q,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function B(q,E){for(var P=0;P<E.length;P++){var R=E[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(q,R.key,R)}}return function(q,E,P){return E&&B(q.prototype,E),P&&B(q,P),q}}(),y=h(2),g=v(y),f=h(20),i=v(f),e=h(0),t=v(e),s=h(13),a=v(s),l=h(24),r=v(l),o=h(4),u=v(o),n=h(16),c=v(n),w=h(21),b=v(w),_=h(11),A=v(_),m=h(3),p=v(m);function v(B){return B&&B.__esModule?B:{default:B}}function x(B,q,E){return q in B?Object.defineProperty(B,q,{value:E,enumerable:!0,configurable:!0,writable:!0}):B[q]=E,B}function T(B,q){if(!(B instanceof q))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,C=function(){function B(q){T(this,B),this.scroll=q,this.delta=this.getDelta()}return O(B,[{key:"applyDelta",value:function(E){var P=this,R=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),E=V(E),E.reduce(function(F,S){var M=S.retain||S.delete||S.insert.length||1,H=S.attributes||{};if(S.insert!=null){if(typeof S.insert=="string"){var z=S.insert;z.endsWith(`
`)&&R&&(R=!1,z=z.slice(0,-1)),F>=U&&!z.endsWith(`
`)&&(R=!0),P.scroll.insertAt(F,z);var Z=P.scroll.line(F),Q=N(Z,2),ee=Q[0],te=Q[1],re=(0,p.default)({},(0,o.bubbleFormats)(ee));if(ee instanceof u.default){var W=ee.descendant(t.default.Leaf,te),se=N(W,1),ae=se[0];re=(0,p.default)(re,(0,o.bubbleFormats)(ae))}H=i.default.attributes.diff(re,H)||{}}else if(k(S.insert)==="object"){var K=Object.keys(S.insert)[0];if(K==null)return F;P.scroll.insertAt(F,K,S.insert[K])}U+=M}return Object.keys(H).forEach(function($){P.scroll.formatAt(F,M,$,H[$])}),F+M},0),E.reduce(function(F,S){return typeof S.delete=="number"?(P.scroll.deleteAt(F,S.delete),F):F+(S.retain||S.insert.length||1)},0),this.scroll.batchEnd(),this.update(E)}},{key:"deleteText",value:function(E,P){return this.scroll.deleteAt(E,P),this.update(new g.default().retain(E).delete(P))}},{key:"formatLine",value:function(E,P){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(F){if(!(R.scroll.whitelist!=null&&!R.scroll.whitelist[F])){var S=R.scroll.lines(E,Math.max(P,1)),M=P;S.forEach(function(H){var z=H.length();if(!(H instanceof a.default))H.format(F,U[F]);else{var Z=E-H.offset(R.scroll),Q=H.newlineIndex(Z+M)-Z+1;H.formatAt(Z,Q,F,U[F])}M-=z})}}),this.scroll.optimize(),this.update(new g.default().retain(E).retain(P,(0,b.default)(U)))}},{key:"formatText",value:function(E,P){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(F){R.scroll.formatAt(E,P,F,U[F])}),this.update(new g.default().retain(E).retain(P,(0,b.default)(U)))}},{key:"getContents",value:function(E,P){return this.delta.slice(E,E+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(E,P){return E.concat(P.delta())},new g.default)}},{key:"getFormat",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=[],U=[];P===0?this.scroll.path(E).forEach(function(S){var M=N(S,1),H=M[0];H instanceof u.default?R.push(H):H instanceof t.default.Leaf&&U.push(H)}):(R=this.scroll.lines(E,P),U=this.scroll.descendants(t.default.Leaf,E,P));var F=[R,U].map(function(S){if(S.length===0)return{};for(var M=(0,o.bubbleFormats)(S.shift());Object.keys(M).length>0;){var H=S.shift();if(H==null)return M;M=D((0,o.bubbleFormats)(H),M)}return M});return p.default.apply(p.default,F)}},{key:"getText",value:function(E,P){return this.getContents(E,P).filter(function(R){return typeof R.insert=="string"}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(E,P,R){return this.scroll.insertAt(E,P,R),this.update(new g.default().retain(E).insert(x({},P,R)))}},{key:"insertText",value:function(E,P){var R=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(E,P),Object.keys(U).forEach(function(F){R.scroll.formatAt(E,P.length,F,U[F])}),this.update(new g.default().retain(E).insert(P,(0,b.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var E=this.scroll.children.head;return E.statics.blotName!==u.default.blotName||E.children.length>1?!1:E.children.head instanceof c.default}},{key:"removeFormat",value:function(E,P){var R=this.getText(E,P),U=this.scroll.line(E+P),F=N(U,2),S=F[0],M=F[1],H=0,z=new g.default;S!=null&&(S instanceof a.default?H=S.newlineIndex(M)-M+1:H=S.length()-M,z=S.delta().slice(M,M+H-1).insert(`
`));var Z=this.getContents(E,P+H),Q=Z.diff(new g.default().insert(R).concat(z)),ee=new g.default().retain(E).concat(Q);return this.applyDelta(ee)}},{key:"update",value:function(E){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match(L)&&t.default.find(P[0].target)){var F=t.default.find(P[0].target),S=(0,o.bubbleFormats)(F),M=F.offset(this.scroll),H=P[0].oldValue.replace(r.default.CONTENTS,""),z=new g.default().insert(H),Z=new g.default().insert(F.value()),Q=new g.default().retain(M).concat(z.diff(Z,R));E=Q.reduce(function(ee,te){return te.insert?ee.insert(te.insert,S):ee.push(te)},new g.default),this.delta=U.compose(E)}else this.delta=this.getDelta(),(!E||!(0,A.default)(U.compose(E),this.delta))&&(E=U.diff(this.delta,R));return E}}]),B}();function D(B,q){return Object.keys(q).reduce(function(E,P){return B[P]==null||(q[P]===B[P]?E[P]=q[P]:Array.isArray(q[P])?q[P].indexOf(B[P])<0&&(E[P]=q[P].concat([B[P]])):E[P]=[q[P],B[P]]),E},{})}function V(B){return B.reduce(function(q,E){if(E.insert===1){var P=(0,b.default)(E.attributes);return delete P.image,q.insert({image:E.attributes.image},P)}if(E.attributes!=null&&(E.attributes.list===!0||E.attributes.bullet===!0)&&(E=(0,b.default)(E),E.attributes.list?E.attributes.list="ordered":(E.attributes.list="bullet",delete E.attributes.bullet)),typeof E.insert=="string"){var R=E.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return q.insert(R,E.attributes)}return q.push(E)},new g.default)}d.default=C},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.Range=void 0;var k=function(){function _(A,m){var p=[],v=!0,x=!1,T=void 0;try{for(var L=A[Symbol.iterator](),C;!(v=(C=L.next()).done)&&(p.push(C.value),!(m&&p.length===m));v=!0);}catch(D){x=!0,T=D}finally{try{!v&&L.return&&L.return()}finally{if(x)throw T}}return p}return function(A,m){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function _(A,m){for(var p=0;p<m.length;p++){var v=m[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(A,v.key,v)}}return function(A,m,p){return m&&_(A.prototype,m),p&&_(A,p),A}}(),O=h(0),y=r(O),g=h(21),f=r(g),i=h(11),e=r(i),t=h(8),s=r(t),a=h(10),l=r(a);function r(_){return _&&_.__esModule?_:{default:_}}function o(_){if(Array.isArray(_)){for(var A=0,m=Array(_.length);A<_.length;A++)m[A]=_[A];return m}else return Array.from(_)}function u(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}var n=(0,l.default)("quill:selection"),c=function _(A){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,_),this.index=A,this.length=m},w=function(){function _(A,m){var p=this;u(this,_),this.emitter=m,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=y.default.create("cursor",this),this.lastRange=this.savedRange=new c(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,s.default.sources.USER),1)}),this.emitter.on(s.default.events.EDITOR_CHANGE,function(v,x){v===s.default.events.TEXT_CHANGE&&x.length()>0&&p.update(s.default.sources.SILENT)}),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var v=p.getNativeRange();v!=null&&v.start.node!==p.cursor.textNode&&p.emitter.once(s.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(v.start.node,v.start.offset,v.end.node,v.end.offset)}catch{}})}}),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,function(v,x){if(x.range){var T=x.range,L=T.startNode,C=T.startOffset,D=T.endNode,V=T.endOffset;p.setNativeRange(L,C,D,V)}}),this.update(s.default.sources.SILENT)}return N(_,[{key:"handleComposition",value:function(){var m=this;this.root.addEventListener("compositionstart",function(){m.composing=!0}),this.root.addEventListener("compositionend",function(){if(m.composing=!1,m.cursor.parent){var p=m.cursor.restore();if(!p)return;setTimeout(function(){m.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var m=this;this.emitter.listenDOM("mousedown",document.body,function(){m.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){m.mouseDown=!1,m.update(s.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(m,p){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[m])){this.scroll.update();var v=this.getNativeRange();if(!(v==null||!v.native.collapsed||y.default.query(m,y.default.Scope.BLOCK))){if(v.start.node!==this.cursor.textNode){var x=y.default.find(v.start.node,!1);if(x==null)return;if(x instanceof y.default.Leaf){var T=x.split(v.start.offset);x.parent.insertBefore(this.cursor,T)}else x.insertBefore(this.cursor,v.start.node);this.cursor.attach()}this.cursor.format(m,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,v=this.scroll.length();m=Math.min(m,v-1),p=Math.min(m+p,v-1)-m;var x=void 0,T=this.scroll.leaf(m),L=k(T,2),C=L[0],D=L[1];if(C==null)return null;var V=C.position(D,!0),B=k(V,2);x=B[0],D=B[1];var q=document.createRange();if(p>0){q.setStart(x,D);var E=this.scroll.leaf(m+p),P=k(E,2);if(C=P[0],D=P[1],C==null)return null;var R=C.position(D,!0),U=k(R,2);return x=U[0],D=U[1],q.setEnd(x,D),q.getBoundingClientRect()}else{var F="left",S=void 0;return x instanceof Text?(D<x.data.length?(q.setStart(x,D),q.setEnd(x,D+1)):(q.setStart(x,D-1),q.setEnd(x,D),F="right"),S=q.getBoundingClientRect()):(S=C.domNode.getBoundingClientRect(),D>0&&(F="right")),{bottom:S.top+S.height,height:S.height,left:S[F],right:S[F],top:S.top,width:0}}}},{key:"getNativeRange",value:function(){var m=document.getSelection();if(m==null||m.rangeCount<=0)return null;var p=m.getRangeAt(0);if(p==null)return null;var v=this.normalizeNative(p);return n.info("getNativeRange",v),v}},{key:"getRange",value:function(){var m=this.getNativeRange();if(m==null)return[null,null];var p=this.normalizedToRange(m);return[p,m]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(m){var p=this,v=[[m.start.node,m.start.offset]];m.native.collapsed||v.push([m.end.node,m.end.offset]);var x=v.map(function(C){var D=k(C,2),V=D[0],B=D[1],q=y.default.find(V,!0),E=q.offset(p.scroll);return B===0?E:q instanceof y.default.Container?E+q.length():E+q.index(V,B)}),T=Math.min(Math.max.apply(Math,o(x)),this.scroll.length()-1),L=Math.min.apply(Math,[T].concat(o(x)));return new c(L,T-L)}},{key:"normalizeNative",value:function(m){if(!b(this.root,m.startContainer)||!m.collapsed&&!b(this.root,m.endContainer))return null;var p={start:{node:m.startContainer,offset:m.startOffset},end:{node:m.endContainer,offset:m.endOffset},native:m};return[p.start,p.end].forEach(function(v){for(var x=v.node,T=v.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>T)x=x.childNodes[T],T=0;else if(x.childNodes.length===T)x=x.lastChild,T=x instanceof Text?x.data.length:x.childNodes.length+1;else break;v.node=x,v.offset=T}),p}},{key:"rangeToNative",value:function(m){var p=this,v=m.collapsed?[m.index]:[m.index,m.index+m.length],x=[],T=this.scroll.length();return v.forEach(function(L,C){L=Math.min(T-1,L);var D=void 0,V=p.scroll.leaf(L),B=k(V,2),q=B[0],E=B[1],P=q.position(E,C!==0),R=k(P,2);D=R[0],E=R[1],x.push(D,E)}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(m){var p=this.lastRange;if(p!=null){var v=this.getBounds(p.index,p.length);if(v!=null){var x=this.scroll.length()-1,T=this.scroll.line(Math.min(p.index,x)),L=k(T,1),C=L[0],D=C;if(p.length>0){var V=this.scroll.line(Math.min(p.index+p.length,x)),B=k(V,1);D=B[0]}if(!(C==null||D==null)){var q=m.getBoundingClientRect();v.top<q.top?m.scrollTop-=q.top-v.top:v.bottom>q.bottom&&(m.scrollTop+=v.bottom-q.bottom)}}}}},{key:"setNativeRange",value:function(m,p){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:m,x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n.info("setNativeRange",m,p,v,x),!(m!=null&&(this.root.parentNode==null||m.parentNode==null||v.parentNode==null))){var L=document.getSelection();if(L!=null)if(m!=null){this.hasFocus()||this.root.focus();var C=(this.getNativeRange()||{}).native;if(C==null||T||m!==C.startContainer||p!==C.startOffset||v!==C.endContainer||x!==C.endOffset){m.tagName=="BR"&&(p=[].indexOf.call(m.parentNode.childNodes,m),m=m.parentNode),v.tagName=="BR"&&(x=[].indexOf.call(v.parentNode.childNodes,v),v=v.parentNode);var D=document.createRange();D.setStart(m,p),D.setEnd(v,x),L.removeAllRanges(),L.addRange(D)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(m){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.default.sources.API;if(typeof p=="string"&&(v=p,p=!1),n.info("setRange",m),m!=null){var x=this.rangeToNative(m);this.setNativeRange.apply(this,o(x).concat([p]))}else this.setNativeRange(null);this.update(v)}},{key:"update",value:function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.default.sources.USER,p=this.lastRange,v=this.getRange(),x=k(v,2),T=x[0],L=x[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(p,this.lastRange)){var C;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var D=[s.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(p),m];if((C=this.emitter).emit.apply(C,[s.default.events.EDITOR_CHANGE].concat(D)),m!==s.default.sources.SILENT){var V;(V=this.emitter).emit.apply(V,D)}}}}]),_}();function b(_,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),_.contains(A)}d.Range=c,d.default=w},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),N=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(0),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,[{key:"insertInto",value:function(r,o){r.children.length===0?N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"insertInto",this).call(this,r,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(y.default.Embed);t.blotName="break",t.tagName="BR",d.default=t},function(j,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(44),O=h(30),y=h(1),g=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.build(),s}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){i.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new N.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(s){try{var a=f(s);t.insertBefore(a,t.children.head||void 0)}catch(l){if(l instanceof y.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,s){if(t===0&&s===this.length())return this.remove();this.children.forEachAt(t,s,function(a,l,r){a.deleteAt(l,r)})},e.prototype.descendant=function(t,s){var a=this.children.find(s),l=a[0],r=a[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,r]:l instanceof e?l.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,s,a){s===void 0&&(s=0),a===void 0&&(a=Number.MAX_VALUE);var l=[],r=a;return this.children.forEachAt(s,a,function(o,u,n){(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&l.push(o),o instanceof e&&(l=l.concat(o.descendants(t,u,r))),r-=n}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),i.prototype.detach.call(this)},e.prototype.formatAt=function(t,s,a,l){this.children.forEachAt(t,s,function(r,o,u){r.formatAt(o,u,a,l)})},e.prototype.insertAt=function(t,s,a){var l=this.children.find(t),r=l[0],o=l[1];if(r)r.insertAt(o,s,a);else{var u=a==null?y.create("text",s):y.create(s,a);this.appendChild(u)}},e.prototype.insertBefore=function(t,s){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(a){return t instanceof a}))throw new y.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,s)},e.prototype.length=function(){return this.children.reduce(function(t,s){return t+s.length()},0)},e.prototype.moveChildren=function(t,s){this.children.forEach(function(a){t.insertBefore(a,s)})},e.prototype.optimize=function(t){if(i.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var s=y.create(this.statics.defaultChild);this.appendChild(s),s.optimize(t)}else this.remove()},e.prototype.path=function(t,s){s===void 0&&(s=!1);var a=this.children.find(t,s),l=a[0],r=a[1],o=[[this,t]];return l instanceof e?o.concat(l.path(r,s)):(l!=null&&o.push([l,r]),o)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),i.prototype.replace.call(this,t)},e.prototype.split=function(t,s){if(s===void 0&&(s=!1),!s){if(t===0)return this;if(t===this.length())return this.next}var a=this.clone();return this.parent.insertBefore(a,this.next),this.children.forEachAt(t,this.length(),function(l,r,o){l=l.split(r,s),a.appendChild(l)}),a},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,s){var a=this,l=[],r=[];t.forEach(function(o){o.target===a.domNode&&o.type==="childList"&&(l.push.apply(l,o.addedNodes),r.push.apply(r,o.removedNodes))}),r.forEach(function(o){if(!(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var u=y.find(o);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===a.domNode)&&u.detach()}}),l.filter(function(o){return o.parentNode==a.domNode}).sort(function(o,u){return o===u?0:o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var u=null;o.nextSibling!=null&&(u=y.find(o.nextSibling));var n=f(o);(n.next!=u||n.next==null)&&(n.parent!=null&&n.parent.removeChild(a),a.insertBefore(n,u||void 0))})},e}(O.default);function f(i){var e=y.find(i);if(e==null)try{e=y.create(i)}catch{e=y.create(y.Scope.INLINE),[].slice.call(i.childNodes).forEach(function(s){e.domNode.appendChild(s)}),i.parentNode&&i.parentNode.replaceChild(e.domNode,i),e.attach()}return e}d.default=g},function(j,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(12),O=h(31),y=h(17),g=h(1),f=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.attributes=new O.default(s.domNode),s}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,s){var a=g.query(t);a instanceof N.default?this.attributes.attribute(a,s):s&&a!=null&&(t!==this.statics.blotName||this.formats()[t]!==s)&&this.replaceWith(t,s)},e.prototype.formats=function(){var t=this.attributes.values(),s=this.statics.formats(this.domNode);return s!=null&&(t[this.statics.blotName]=s),t},e.prototype.replaceWith=function(t,s){var a=i.prototype.replaceWith.call(this,t,s);return this.attributes.copy(a),a},e.prototype.update=function(t,s){var a=this;i.prototype.update.call(this,t,s),t.some(function(l){return l.target===a.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,s){var a=i.prototype.wrap.call(this,t,s);return a instanceof e&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},e}(y.default);d.default=f},function(j,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(30),O=h(1),y=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.value=function(i){return!0},f.prototype.index=function(i,e){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},f.prototype.position=function(i,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return i>0&&(t+=1),[this.parent.domNode,t]},f.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},f.scope=O.Scope.INLINE_BLOT,f}(N.default);d.default=y},function(j,d,h){var k=h(11),N=h(3),O={attributes:{compose:function(g,f,i){typeof g!="object"&&(g={}),typeof f!="object"&&(f={});var e=N(!0,{},f);i||(e=Object.keys(e).reduce(function(s,a){return e[a]!=null&&(s[a]=e[a]),s},{}));for(var t in g)g[t]!==void 0&&f[t]===void 0&&(e[t]=g[t]);return Object.keys(e).length>0?e:void 0},diff:function(g,f){typeof g!="object"&&(g={}),typeof f!="object"&&(f={});var i=Object.keys(g).concat(Object.keys(f)).reduce(function(e,t){return k(g[t],f[t])||(e[t]=f[t]===void 0?null:f[t]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(g,f,i){if(typeof g!="object")return f;if(typeof f=="object"){if(!i)return f;var e=Object.keys(f).reduce(function(t,s){return g[s]===void 0&&(t[s]=f[s]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(g){return new y(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};function y(g){this.ops=g,this.index=0,this.offset=0}y.prototype.hasNext=function(){return this.peekLength()<1/0},y.prototype.next=function(g){g||(g=1/0);var f=this.ops[this.index];if(f){var i=this.offset,e=O.length(f);if(g>=e-i?(g=e-i,this.index+=1,this.offset=0):this.offset+=g,typeof f.delete=="number")return{delete:g};var t={};return f.attributes&&(t.attributes=f.attributes),typeof f.retain=="number"?t.retain=g:typeof f.insert=="string"?t.insert=f.insert.substr(i,g):t.insert=f.insert,t}else return{retain:1/0}},y.prototype.peek=function(){return this.ops[this.index]},y.prototype.peekLength=function(){return this.ops[this.index]?O.length(this.ops[this.index])-this.offset:1/0},y.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},y.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var g=this.offset,f=this.index,i=this.next(),e=this.ops.slice(this.index);return this.offset=g,this.index=f,[i].concat(e)}else return[]},j.exports=O},function(j,d){var h=function(){function k(a,l){return l!=null&&a instanceof l}var N;try{N=Map}catch{N=function(){}}var O;try{O=Set}catch{O=function(){}}var y;try{y=Promise}catch{y=function(){}}function g(a,l,r,o,u){typeof l=="object"&&(r=l.depth,o=l.prototype,u=l.includeNonEnumerable,l=l.circular);var n=[],c=[],w=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof r>"u"&&(r=1/0);function b(_,A){if(_===null)return null;if(A===0)return _;var m,p;if(typeof _!="object")return _;if(k(_,N))m=new N;else if(k(_,O))m=new O;else if(k(_,y))m=new y(function(q,E){_.then(function(P){q(b(P,A-1))},function(P){E(b(P,A-1))})});else if(g.__isArray(_))m=[];else if(g.__isRegExp(_))m=new RegExp(_.source,s(_)),_.lastIndex&&(m.lastIndex=_.lastIndex);else if(g.__isDate(_))m=new Date(_.getTime());else{if(w&&Buffer.isBuffer(_))return Buffer.allocUnsafe?m=Buffer.allocUnsafe(_.length):m=new Buffer(_.length),_.copy(m),m;k(_,Error)?m=Object.create(_):typeof o>"u"?(p=Object.getPrototypeOf(_),m=Object.create(p)):(m=Object.create(o),p=o)}if(l){var v=n.indexOf(_);if(v!=-1)return c[v];n.push(_),c.push(m)}k(_,N)&&_.forEach(function(q,E){var P=b(E,A-1),R=b(q,A-1);m.set(P,R)}),k(_,O)&&_.forEach(function(q){var E=b(q,A-1);m.add(E)});for(var x in _){var T;p&&(T=Object.getOwnPropertyDescriptor(p,x)),!(T&&T.set==null)&&(m[x]=b(_[x],A-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(_),x=0;x<L.length;x++){var C=L[x],D=Object.getOwnPropertyDescriptor(_,C);D&&!D.enumerable&&!u||(m[C]=b(_[C],A-1),D.enumerable||Object.defineProperty(m,C,{enumerable:!1}))}if(u)for(var V=Object.getOwnPropertyNames(_),x=0;x<V.length;x++){var B=V[x],D=Object.getOwnPropertyDescriptor(_,B);D&&D.enumerable||(m[B]=b(_[B],A-1),Object.defineProperty(m,B,{enumerable:!1}))}return m}return b(a,r)}g.clonePrototype=function(l){if(l===null)return null;var r=function(){};return r.prototype=l,new r};function f(a){return Object.prototype.toString.call(a)}g.__objToStr=f;function i(a){return typeof a=="object"&&f(a)==="[object Date]"}g.__isDate=i;function e(a){return typeof a=="object"&&f(a)==="[object Array]"}g.__isArray=e;function t(a){return typeof a=="object"&&f(a)==="[object RegExp]"}g.__isRegExp=t;function s(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}return g.__getRegExpFlags=s,g}();typeof j=="object"&&j.exports&&(j.exports=h)},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function m(p,v){var x=[],T=!0,L=!1,C=void 0;try{for(var D=p[Symbol.iterator](),V;!(T=(V=D.next()).done)&&(x.push(V.value),!(v&&x.length===v));T=!0);}catch(B){L=!0,C=B}finally{try{!T&&D.return&&D.return()}finally{if(L)throw C}}return x}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function m(p,v){for(var x=0;x<v.length;x++){var T=v[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,v,x){return v&&m(p.prototype,v),x&&m(p,x),p}}(),O=function m(p,v,x){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,v);if(T===void 0){var L=Object.getPrototypeOf(p);return L===null?void 0:m(L,v,x)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(x)}},y=h(0),g=n(y),f=h(8),i=n(f),e=h(4),t=n(e),s=h(16),a=n(s),l=h(13),r=n(l),o=h(25),u=n(o);function n(m){return m&&m.__esModule?m:{default:m}}function c(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function w(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function b(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}function _(m){return m instanceof t.default||m instanceof e.BlockEmbed}var A=function(m){b(p,m);function p(v,x){c(this,p);var T=w(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v));return T.emitter=x.emitter,Array.isArray(x.whitelist)&&(T.whitelist=x.whitelist.reduce(function(L,C){return L[C]=!0,L},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return N(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,T){var L=this.line(x),C=k(L,2),D=C[0],V=C[1],B=this.line(x+T),q=k(B,1),E=q[0];if(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,x,T),E!=null&&D!==E&&V>0){if(D instanceof e.BlockEmbed||E instanceof e.BlockEmbed){this.optimize();return}if(D instanceof r.default){var P=D.newlineIndex(D.length(),!0);if(P>-1&&(D=D.split(P+1),D===E)){this.optimize();return}}else if(E instanceof r.default){var R=E.newlineIndex(0);R>-1&&E.split(R+1)}var U=E.children.head instanceof a.default?null:E.children.head;D.moveChildren(E,U),D.remove()}this.optimize()}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",x)}},{key:"formatAt",value:function(x,T,L,C){this.whitelist!=null&&!this.whitelist[L]||(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,x,T,L,C),this.optimize())}},{key:"insertAt",value:function(x,T,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[T])){if(x>=this.length())if(L==null||g.default.query(T,g.default.Scope.BLOCK)==null){var C=g.default.create(this.statics.defaultChild);this.appendChild(C),L==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),C.insertAt(0,T,L)}else{var D=g.default.create(T,L);this.appendChild(D)}else O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,x,T,L);this.optimize()}}},{key:"insertBefore",value:function(x,T){if(x.statics.scope===g.default.Scope.INLINE_BLOT){var L=g.default.create(this.statics.defaultChild);L.appendChild(x),x=L}O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,x,T)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(_,x)}},{key:"lines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function C(D,V,B){var q=[],E=B;return D.children.forEachAt(V,B,function(P,R,U){_(P)?q.push(P):P instanceof g.default.Container&&(q=q.concat(C(P,R,E))),E-=U}),q};return L(this,x,T)}},{key:"optimize",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,x,T),x.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,x,T))}},{key:"path",value:function(x){return O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(this.batch!==!0){var T=i.default.sources.USER;typeof x=="string"&&(T=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,T,x),O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,T,x)}}}]),p}(g.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[t.default,e.BlockEmbed,u.default],d.default=A},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.SHORTKEY=d.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},N=function(){function S(M,H){var z=[],Z=!0,Q=!1,ee=void 0;try{for(var te=M[Symbol.iterator](),re;!(Z=(re=te.next()).done)&&(z.push(re.value),!(H&&z.length===H));Z=!0);}catch(W){Q=!0,ee=W}finally{try{!Z&&te.return&&te.return()}finally{if(Q)throw ee}}return z}return function(M,H){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return S(M,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function S(M,H){for(var z=0;z<H.length;z++){var Z=H[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(M,Z.key,Z)}}return function(M,H,z){return H&&S(M.prototype,H),z&&S(M,z),M}}(),y=h(21),g=m(y),f=h(11),i=m(f),e=h(3),t=m(e),s=h(2),a=m(s),l=h(20),r=m(l),o=h(0),u=m(o),n=h(5),c=m(n),w=h(10),b=m(w),_=h(9),A=m(_);function m(S){return S&&S.__esModule?S:{default:S}}function p(S,M,H){return M in S?Object.defineProperty(S,M,{value:H,enumerable:!0,configurable:!0,writable:!0}):S[M]=H,S}function v(S,M){if(!(S instanceof M))throw new TypeError("Cannot call a class as a function")}function x(S,M){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:S}function T(S,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);S.prototype=Object.create(M&&M.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(S,M):S.__proto__=M)}var L=(0,b.default)("quill:keyboard"),C=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",D=function(S){T(M,S),O(M,null,[{key:"match",value:function(z,Z){return Z=F(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Q){return!!Z[Q]!==z[Q]&&Z[Q]!==null})?!1:Z.key===(z.which||z.keyCode)}}]);function M(H,z){v(this,M);var Z=x(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,H,z));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(Q){Q==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||Z.options.bindings[Q]&&Z.addBinding(Z.options.bindings[Q])}),Z.addBinding({key:M.keys.ENTER,shiftKey:null},P),Z.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},B),Z.addBinding({key:M.keys.DELETE},{collapsed:!0},q)):(Z.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),Z.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},q)),Z.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},E),Z.addBinding({key:M.keys.DELETE},{collapsed:!1},E),Z.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),Z.listen(),Z}return O(M,[{key:"addBinding",value:function(z){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=F(z);if(ee==null||ee.key==null)return L.warn("Attempted to add invalid keyboard binding",ee);typeof Z=="function"&&(Z={handler:Z}),typeof Q=="function"&&(Q={handler:Q}),ee=(0,t.default)(ee,Z,Q),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var Q=Z.which||Z.keyCode,ee=(z.bindings[Q]||[]).filter(function(fe){return M.match(Z,fe)});if(ee.length!==0){var te=z.quill.getSelection();if(!(te==null||!z.quill.hasFocus())){var re=z.quill.getLine(te.index),W=N(re,2),se=W[0],ae=W[1],K=z.quill.getLeaf(te.index),$=N(K,2),X=$[0],J=$[1],G=te.length===0?[X,J]:z.quill.getLeaf(te.index+te.length),ie=N(G,2),oe=ie[0],le=ie[1],pe=X instanceof u.default.Text?X.value().slice(0,J):"",me=oe instanceof u.default.Text?oe.value().slice(le):"",ue={collapsed:te.length===0,empty:te.length===0&&se.length()<=1,format:z.quill.getFormat(te),offset:ae,prefix:pe,suffix:me},Je=ee.some(function(fe){if(fe.collapsed!=null&&fe.collapsed!==ue.collapsed||fe.empty!=null&&fe.empty!==ue.empty||fe.offset!=null&&fe.offset!==ue.offset)return!1;if(Array.isArray(fe.format)){if(fe.format.every(function(be){return ue.format[be]==null}))return!1}else if(k(fe.format)==="object"&&!Object.keys(fe.format).every(function(be){return fe.format[be]===!0?ue.format[be]!=null:fe.format[be]===!1?ue.format[be]==null:(0,i.default)(fe.format[be],ue.format[be])}))return!1;return fe.prefix!=null&&!fe.prefix.test(ue.prefix)||fe.suffix!=null&&!fe.suffix.test(ue.suffix)?!1:fe.handler.call(z,te,ue)!==!0});Je&&Z.preventDefault()}}}})}}]),M}(A.default);D.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},D.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:D.keys.TAB,format:["blockquote","indent","list"],handler:function(M,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:D.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(M,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:D.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(M,H){H.format.indent!=null?this.quill.format("indent","-1",c.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:D.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(M){this.quill.deleteText(M.index-1,1,c.default.sources.USER)}},tab:{key:D.keys.TAB,handler:function(M){this.quill.history.cutoff();var H=new a.default().retain(M.index).delete(M.length).insert("	");this.quill.updateContents(H,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index+1,c.default.sources.SILENT)}},"list empty enter":{key:D.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(M,H){this.quill.format("list",!1,c.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:D.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(M){var H=this.quill.getLine(M.index),z=N(H,2),Z=z[0],Q=z[1],ee=(0,t.default)({},Z.formats(),{list:"checked"}),te=new a.default().retain(M.index).insert(`
`,ee).retain(Z.length()-Q-1).retain(1,{list:"unchecked"});this.quill.updateContents(te,c.default.sources.USER),this.quill.setSelection(M.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:D.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(M,H){var z=this.quill.getLine(M.index),Z=N(z,2),Q=Z[0],ee=Z[1],te=new a.default().retain(M.index).insert(`
`,H.format).retain(Q.length()-ee-1).retain(1,{header:null});this.quill.updateContents(te,c.default.sources.USER),this.quill.setSelection(M.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(M,H){var z=H.prefix.length,Z=this.quill.getLine(M.index),Q=N(Z,2),ee=Q[0],te=Q[1];if(te>z)return!0;var re=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":re="unchecked";break;case"[x]":re="checked";break;case"-":case"*":re="bullet";break;default:re="ordered"}this.quill.insertText(M.index," ",c.default.sources.USER),this.quill.history.cutoff();var W=new a.default().retain(M.index-te).delete(z+1).retain(ee.length()-2-te).retain(1,{list:re});this.quill.updateContents(W,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index-z,c.default.sources.SILENT)}},"code exit":{key:D.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(M){var H=this.quill.getLine(M.index),z=N(H,2),Z=z[0],Q=z[1],ee=new a.default().retain(M.index+Z.length()-Q-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,c.default.sources.USER)}},"embed left":V(D.keys.LEFT,!1),"embed left shift":V(D.keys.LEFT,!0),"embed right":V(D.keys.RIGHT,!1),"embed right shift":V(D.keys.RIGHT,!0)}};function V(S,M){var H,z=S===D.keys.LEFT?"prefix":"suffix";return H={key:S,shiftKey:M,altKey:null},p(H,z,/^$/),p(H,"handler",function(Q){var ee=Q.index;S===D.keys.RIGHT&&(ee+=Q.length+1);var te=this.quill.getLeaf(ee),re=N(te,1),W=re[0];return W instanceof u.default.Embed?(S===D.keys.LEFT?M?this.quill.setSelection(Q.index-1,Q.length+1,c.default.sources.USER):this.quill.setSelection(Q.index-1,c.default.sources.USER):M?this.quill.setSelection(Q.index,Q.length+1,c.default.sources.USER):this.quill.setSelection(Q.index+Q.length+1,c.default.sources.USER),!1):!0}),H}function B(S,M){if(!(S.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(S.index),z=N(H,1),Z=z[0],Q={};if(M.offset===0){var ee=this.quill.getLine(S.index-1),te=N(ee,1),re=te[0];if(re!=null&&re.length()>1){var W=Z.formats(),se=this.quill.getFormat(S.index-1,1);Q=r.default.attributes.diff(W,se)||{}}}var ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(S.index-ae,ae,c.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(S.index-ae,ae,Q,c.default.sources.USER),this.quill.focus()}}function q(S,M){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(S.index>=this.quill.getLength()-H)){var z={},Z=0,Q=this.quill.getLine(S.index),ee=N(Q,1),te=ee[0];if(M.offset>=te.length()-1){var re=this.quill.getLine(S.index+1),W=N(re,1),se=W[0];if(se){var ae=te.formats(),K=this.quill.getFormat(S.index,1);z=r.default.attributes.diff(ae,K)||{},Z=se.length()}}this.quill.deleteText(S.index,H,c.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(S.index+Z-1,H,z,c.default.sources.USER)}}function E(S){var M=this.quill.getLines(S),H={};if(M.length>1){var z=M[0].formats(),Z=M[M.length-1].formats();H=r.default.attributes.diff(Z,z)||{}}this.quill.deleteText(S,c.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(S.index,1,H,c.default.sources.USER),this.quill.setSelection(S.index,c.default.sources.SILENT),this.quill.focus()}function P(S,M){var H=this;S.length>0&&this.quill.scroll.deleteAt(S.index,S.length);var z=Object.keys(M.format).reduce(function(Z,Q){return u.default.query(Q,u.default.Scope.BLOCK)&&!Array.isArray(M.format[Q])&&(Z[Q]=M.format[Q]),Z},{});this.quill.insertText(S.index,`
`,z,c.default.sources.USER),this.quill.setSelection(S.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(Z){z[Z]==null&&(Array.isArray(M.format[Z])||Z!=="link"&&H.quill.format(Z,M.format[Z],c.default.sources.USER))})}function R(S){return{key:D.keys.TAB,shiftKey:!S,format:{"code-block":!0},handler:function(H){var z=u.default.query("code-block"),Z=H.index,Q=H.length,ee=this.quill.scroll.descendant(z,Z),te=N(ee,2),re=te[0],W=te[1];if(re!=null){var se=this.quill.getIndex(re),ae=re.newlineIndex(W,!0)+1,K=re.newlineIndex(se+W+Q),$=re.domNode.textContent.slice(ae,K).split(`
`);W=0,$.forEach(function(X,J){S?(re.insertAt(ae+W,z.TAB),W+=z.TAB.length,J===0?Z+=z.TAB.length:Q+=z.TAB.length):X.startsWith(z.TAB)&&(re.deleteAt(ae+W,z.TAB.length),W-=z.TAB.length,J===0?Z-=z.TAB.length:Q-=z.TAB.length),W+=X.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(Z,Q,c.default.sources.SILENT)}}}}function U(S){return{key:S[0].toUpperCase(),shortKey:!0,handler:function(H,z){this.quill.format(S,!z.format[S],c.default.sources.USER)}}}function F(S){if(typeof S=="string"||typeof S=="number")return F({key:S});if((typeof S>"u"?"undefined":k(S))==="object"&&(S=(0,g.default)(S,!1)),typeof S.key=="string")if(D.keys[S.key.toUpperCase()]!=null)S.key=D.keys[S.key.toUpperCase()];else if(S.key.length===1)S.key=S.key.toUpperCase().charCodeAt(0);else return null;return S.shortKey&&(S[C]=S.shortKey,delete S.shortKey),S}d.default=D,d.SHORTKEY=C},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function r(o,u){var n=[],c=!0,w=!1,b=void 0;try{for(var _=o[Symbol.iterator](),A;!(c=(A=_.next()).done)&&(n.push(A.value),!(u&&n.length===u));c=!0);}catch(m){w=!0,b=m}finally{try{!c&&_.return&&_.return()}finally{if(w)throw b}}return n}return function(o,u){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return r(o,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:r(w,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),y=h(0),g=e(y),f=h(7),i=e(f);function e(r){return r&&r.__esModule?r:{default:r}}function t(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function s(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function a(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){a(o,r),O(o,null,[{key:"value",value:function(){}}]);function o(u,n){t(this,o);var c=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u));return c.selection=n,c.textNode=document.createTextNode(o.CONTENTS),c.domNode.appendChild(c.textNode),c._length=0,c}return O(o,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(n,c){if(this._length!==0)return N(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,n,c);for(var w=this,b=0;w!=null&&w.statics.scope!==g.default.Scope.BLOCK_BLOT;)b+=w.offset(w.parent),w=w.parent;w!=null&&(this._length=o.CONTENTS.length,w.optimize(),w.formatAt(b,o.CONTENTS.length,n,c),this._length=0)}},{key:"index",value:function(n,c){return n===this.textNode?0:N(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){N(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var n=this.textNode,c=this.selection.getNativeRange(),w=void 0,b=void 0,_=void 0;if(c!=null&&c.start.node===n&&c.end.node===n){var A=[n,c.start.offset,c.end.offset];w=A[0],b=A[1],_=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var m=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof i.default?(w=this.next.domNode,this.next.insertAt(0,m),this.textNode.data=o.CONTENTS):(this.textNode.data=m,this.parent.insertBefore(g.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),b!=null){var p=[b,_].map(function(x){return Math.max(0,Math.min(w.data.length,x-1))}),v=k(p,2);return b=v[0],_=v[1],{startNode:w,startOffset:b,endNode:w,endOffset:_}}}}},{key:"update",value:function(n,c){var w=this;if(n.some(function(_){return _.type==="characterData"&&_.target===w.textNode})){var b=this.restore();b&&(c.range=b)}}},{key:"value",value:function(){return""}}]),o}(g.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",d.default=l},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),N=g(k),O=h(4),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(N.default.Container);t.allowedChildren=[y.default,O.BlockEmbed,t],d.default=t},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.ColorStyle=d.ColorClass=d.ColorAttributor=void 0;var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),N=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(u)}},O=h(0),y=g(O);function g(l){return l&&l.__esModule?l:{default:l}}function f(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function i(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function e(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var t=function(l){e(r,l);function r(){return f(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"value",value:function(u){var n=N(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"value",this).call(this,u);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(c){return("00"+parseInt(c).toString(16)).slice(-2)}).join("")):n}}]),r}(y.default.Attributor.Style),s=new y.default.Attributor.Class("color","ql-color",{scope:y.default.Scope.INLINE}),a=new t("color","color",{scope:y.default.Scope.INLINE});d.ColorAttributor=t,d.ColorClass=s,d.ColorStyle=a},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.sanitize=d.default=void 0;var k=function(){function a(l,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,r,o){return r&&a(l.prototype,r),o&&a(l,o),l}}(),N=function a(l,r,o){l===null&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,r);if(u===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,r,o)}else{if("value"in u)return u.value;var c=u.get;return c===void 0?void 0:c.call(o)}},O=h(6),y=g(O);function g(a){return a&&a.__esModule?a:{default:a}}function f(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function i(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return f(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return k(l,[{key:"format",value:function(o,u){if(o!==this.statics.blotName||!u)return N(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,o,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(o){var u=N(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o);return o=this.sanitize(o),u.setAttribute("href",o),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return s(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),l}(y.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function s(a,l){var r=document.createElement("a");r.href=a;var o=r.href.slice(0,r.href.indexOf(":"));return l.indexOf(o)>-1}d.default=t,d.sanitize=s},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},N=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),O=h(23),y=i(O),g=h(107),f=i(g);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}var t=0;function s(l,r){l.setAttribute(r,l.getAttribute(r)!=="true")}var a=function(){function l(r){var o=this;e(this,l),this.select=r,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(u){switch(u.keyCode){case y.default.keys.ENTER:o.togglePicker();break;case y.default.keys.ESCAPE:o.escape(),u.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return N(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),s(this.label,"aria-expanded"),s(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var u=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),o.hasAttribute("value")&&n.setAttribute("data-value",o.getAttribute("value")),o.textContent&&n.setAttribute("data-label",o.textContent),n.addEventListener("click",function(){u.selectItem(n,!0)}),n.addEventListener("keydown",function(c){switch(c.keyCode){case y.default.keys.ENTER:u.selectItem(n,!0),c.preventDefault();break;case y.default.keys.ESCAPE:u.escape(),c.preventDefault();break}}),n}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=f.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,u=document.createElement("span");u.classList.add("ql-picker-options"),u.setAttribute("aria-hidden","true"),u.tabIndex="-1",u.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",u.id),this.options=u,[].slice.call(this.select.options).forEach(function(n){var c=o.buildItem(n);u.appendChild(c),n.selected===!0&&o.selectItem(c)}),this.container.appendChild(u)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(u){o.container.setAttribute(u.name,u.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");if(o!==n&&(n!=null&&n.classList.remove("ql-selected"),o!=null&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),u))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":k(Event))==="object"){var c=document.createEvent("Event");c.initEvent("change",!0,!0),this.select.dispatchEvent(c)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);var n=o!=null&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),l}();d.default=a},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),N=L(k),O=h(5),y=L(O),g=h(4),f=L(g),i=h(16),e=L(i),t=h(25),s=L(t),a=h(24),l=L(a),r=h(35),o=L(r),u=h(6),n=L(u),c=h(22),w=L(c),b=h(7),_=L(b),A=h(55),m=L(A),p=h(42),v=L(p),x=h(23),T=L(x);function L(C){return C&&C.__esModule?C:{default:C}}y.default.register({"blots/block":f.default,"blots/block/embed":g.BlockEmbed,"blots/break":e.default,"blots/container":s.default,"blots/cursor":l.default,"blots/embed":o.default,"blots/inline":n.default,"blots/scroll":w.default,"blots/text":_.default,"modules/clipboard":m.default,"modules/history":v.default,"modules/keyboard":T.default}),N.default.register(f.default,e.default,l.default,n.default,w.default,_.default),d.default=y.default},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(1),N=function(){function O(y){this.domNode=y,this.domNode[k.DATA_KEY]={blot:this}}return Object.defineProperty(O.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),O.create=function(y){if(this.tagName==null)throw new k.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?(typeof y=="string"&&(y=y.toUpperCase(),parseInt(y).toString()===y&&(y=parseInt(y))),typeof y=="number"?g=document.createElement(this.tagName[y-1]):this.tagName.indexOf(y)>-1?g=document.createElement(y):g=document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},O.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},O.prototype.clone=function(){var y=this.domNode.cloneNode(!1);return k.create(y)},O.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[k.DATA_KEY]},O.prototype.deleteAt=function(y,g){var f=this.isolate(y,g);f.remove()},O.prototype.formatAt=function(y,g,f,i){var e=this.isolate(y,g);if(k.query(f,k.Scope.BLOT)!=null&&i)e.wrap(f,i);else if(k.query(f,k.Scope.ATTRIBUTE)!=null){var t=k.create(this.statics.scope);e.wrap(t),t.format(f,i)}},O.prototype.insertAt=function(y,g,f){var i=f==null?k.create("text",g):k.create(g,f),e=this.split(y);this.parent.insertBefore(i,e)},O.prototype.insertInto=function(y,g){g===void 0&&(g=null),this.parent!=null&&this.parent.children.remove(this);var f=null;y.children.insertBefore(this,g),g!=null&&(f=g.domNode),(this.domNode.parentNode!=y.domNode||this.domNode.nextSibling!=f)&&y.domNode.insertBefore(this.domNode,f),this.parent=y,this.attach()},O.prototype.isolate=function(y,g){var f=this.split(y);return f.split(g),f},O.prototype.length=function(){return 1},O.prototype.offset=function(y){return y===void 0&&(y=this.parent),this.parent==null||this==y?0:this.parent.children.offset(this)+this.parent.offset(y)},O.prototype.optimize=function(y){this.domNode[k.DATA_KEY]!=null&&delete this.domNode[k.DATA_KEY].mutations},O.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},O.prototype.replace=function(y){y.parent!=null&&(y.parent.insertBefore(this,y.next),y.remove())},O.prototype.replaceWith=function(y,g){var f=typeof y=="string"?k.create(y,g):y;return f.replace(this),f},O.prototype.split=function(y,g){return y===0?this:this.next},O.prototype.update=function(y,g){},O.prototype.wrap=function(y,g){var f=typeof y=="string"?k.create(y,g):y;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},O.blotName="abstract",O}();d.default=N},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(12),N=h(32),O=h(33),y=h(1),g=function(){function f(i){this.attributes={},this.domNode=i,this.build()}return f.prototype.attribute=function(i,e){e?i.add(this.domNode,e)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])},f.prototype.build=function(){var i=this;this.attributes={};var e=k.default.keys(this.domNode),t=N.default.keys(this.domNode),s=O.default.keys(this.domNode);e.concat(t).concat(s).forEach(function(a){var l=y.query(a,y.Scope.ATTRIBUTE);l instanceof k.default&&(i.attributes[l.attrName]=l)})},f.prototype.copy=function(i){var e=this;Object.keys(this.attributes).forEach(function(t){var s=e.attributes[t].value(e.domNode);i.format(t,s)})},f.prototype.move=function(i){var e=this;this.copy(i),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},f.prototype.values=function(){var i=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=i.attributes[t].value(i.domNode),e},{})},f}();d.default=g},function(j,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(12);function O(g,f){var i=g.getAttribute("class")||"";return i.split(/\s+/).filter(function(e){return e.indexOf(f+"-")===0})}var y=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},f.prototype.add=function(i,e){return this.canAdd(i,e)?(this.remove(i),i.classList.add(this.keyName+"-"+e),!0):!1},f.prototype.remove=function(i){var e=O(i,this.keyName);e.forEach(function(t){i.classList.remove(t)}),i.classList.length===0&&i.removeAttribute("class")},f.prototype.value=function(i){var e=O(i,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(i,t)?t:""},f}(N.default);d.default=y},function(j,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(12);function O(g){var f=g.split("-"),i=f.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return f[0]+i}var y=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},f.prototype.add=function(i,e){return this.canAdd(i,e)?(i.style[O(this.keyName)]=e,!0):!1},f.prototype.remove=function(i){i.style[O(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},f.prototype.value=function(i){var e=i.style[O(this.keyName)];return this.canAdd(i,e)?e:""},f}(N.default);d.default=y},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function y(g,f){for(var i=0;i<f.length;i++){var e=f[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(g,e.key,e)}}return function(g,f,i){return f&&y(g.prototype,f),i&&y(g,i),g}}();function N(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}var O=function(){function y(g,f){N(this,y),this.quill=g,this.options=f,this.modules={}}return k(y,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(i){f.modules[i]==null&&f.addModule(i)})}},{key:"addModule",value:function(f){var i=this.quill.constructor.import("modules/"+f);return this.modules[f]=new i(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),y}();O.DEFAULTS={modules:{}},O.themes={default:O},d.default=O},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),N=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:r(w,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=h(0),y=i(O),g=h(7),f=i(g);function i(r){return r&&r.__esModule?r:{default:r}}function e(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function t(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function s(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var a="\uFEFF",l=function(r){s(o,r);function o(u){e(this,o);var n=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(c){n.contentNode.appendChild(c)}),n.leftGuard=document.createTextNode(a),n.rightGuard=document.createTextNode(a),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return k(o,[{key:"index",value:function(n,c){return n===this.leftGuard?0:n===this.rightGuard?1:N(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,c)}},{key:"restore",value:function(n){var c=void 0,w=void 0,b=n.data.split(a).join("");if(n===this.leftGuard)if(this.prev instanceof f.default){var _=this.prev.length();this.prev.insertAt(_,b),c={startNode:this.prev.domNode,startOffset:_+b.length}}else w=document.createTextNode(b),this.parent.insertBefore(y.default.create(w),this),c={startNode:w,startOffset:b.length};else n===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,b),c={startNode:this.next.domNode,startOffset:b.length}):(w=document.createTextNode(b),this.parent.insertBefore(y.default.create(w),this.next),c={startNode:w,startOffset:b.length}));return n.data=a,c}},{key:"update",value:function(n,c){var w=this;n.forEach(function(b){if(b.type==="characterData"&&(b.target===w.leftGuard||b.target===w.rightGuard)){var _=w.restore(b.target);_&&(c.range=_)}})}}]),o}(y.default.Embed);d.default=l},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.AlignStyle=d.AlignClass=d.AlignAttribute=void 0;var k=h(0),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}var y={scope:N.default.Scope.BLOCK,whitelist:["right","center","justify"]},g=new N.default.Attributor.Attribute("align","align",y),f=new N.default.Attributor.Class("align","ql-align",y),i=new N.default.Attributor.Style("align","text-align",y);d.AlignAttribute=g,d.AlignClass=f,d.AlignStyle=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.BackgroundStyle=d.BackgroundClass=void 0;var k=h(0),N=y(k),O=h(26);function y(i){return i&&i.__esModule?i:{default:i}}var g=new N.default.Attributor.Class("background","ql-bg",{scope:N.default.Scope.INLINE}),f=new O.ColorAttributor("background","background-color",{scope:N.default.Scope.INLINE});d.BackgroundClass=g,d.BackgroundStyle=f},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.DirectionStyle=d.DirectionClass=d.DirectionAttribute=void 0;var k=h(0),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}var y={scope:N.default.Scope.BLOCK,whitelist:["rtl"]},g=new N.default.Attributor.Attribute("direction","dir",y),f=new N.default.Attributor.Class("direction","ql-direction",y),i=new N.default.Attributor.Style("direction","direction",y);d.DirectionAttribute=g,d.DirectionClass=f,d.DirectionStyle=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.FontClass=d.FontStyle=void 0;var k=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),N=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var w=Object.getPrototypeOf(o);return w===null?void 0:r(w,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=h(0),y=g(O);function g(r){return r&&r.__esModule?r:{default:r}}function f(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function i(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function e(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var t={scope:y.default.Scope.INLINE,whitelist:["serif","monospace"]},s=new y.default.Attributor.Class("font","ql-font",t),a=function(r){e(o,r);function o(){return f(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return k(o,[{key:"value",value:function(n){return N(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),o}(y.default.Attributor.Style),l=new a("font","font-family",t);d.FontStyle=l,d.FontClass=s},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.SizeStyle=d.SizeClass=void 0;var k=h(0),N=O(k);function O(f){return f&&f.__esModule?f:{default:f}}var y=new N.default.Attributor.Class("size","ql-size",{scope:N.default.Scope.INLINE,whitelist:["small","large","huge"]}),g=new N.default.Attributor.Style("size","font-size",{scope:N.default.Scope.INLINE,whitelist:["10px","18px","32px"]});d.SizeClass=y,d.SizeStyle=g},function(j,d,h){j.exports={align:{"":h(76),center:h(77),right:h(78),justify:h(79)},background:h(80),blockquote:h(81),bold:h(82),clean:h(83),code:h(58),"code-block":h(58),color:h(84),direction:{"":h(85),rtl:h(86)},float:{center:h(87),full:h(88),left:h(89),right:h(90)},formula:h(91),header:{1:h(92),2:h(93)},italic:h(94),image:h(95),indent:{"+1":h(96),"-1":h(97)},link:h(98),list:{ordered:h(99),bullet:h(100),check:h(101)},script:{sub:h(102),super:h(103)},strike:h(104),underline:h(105),video:h(106)}},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.getLastChangeIndex=d.default=void 0;var k=function(){function u(n,c){for(var w=0;w<c.length;w++){var b=c[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,c,w){return c&&u(n.prototype,c),w&&u(n,w),n}}(),N=h(0),O=e(N),y=h(5),g=e(y),f=h(9),i=e(f);function e(u){return u&&u.__esModule?u:{default:u}}function t(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function s(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:u}function a(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var l=function(u){a(n,u);function n(c,w){t(this,n);var b=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c,w));return b.lastRecorded=0,b.ignoreChange=!1,b.clear(),b.quill.on(g.default.events.EDITOR_CHANGE,function(_,A,m,p){_!==g.default.events.TEXT_CHANGE||b.ignoreChange||(!b.options.userOnly||p===g.default.sources.USER?b.record(A,m):b.transform(A))}),b.quill.keyboard.addBinding({key:"Z",shortKey:!0},b.undo.bind(b)),b.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},b.redo.bind(b)),/Win/i.test(navigator.platform)&&b.quill.keyboard.addBinding({key:"Y",shortKey:!0},b.redo.bind(b)),b}return k(n,[{key:"change",value:function(w,b){if(this.stack[w].length!==0){var _=this.stack[w].pop();this.stack[b].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[w],g.default.sources.USER),this.ignoreChange=!1;var A=o(_[w]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(w,b){if(w.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(b),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var m=this.stack.undo.pop();_=_.compose(m.undo),w=m.redo.compose(w)}else this.lastRecorded=A;this.stack.undo.push({redo:w,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(w){this.stack.undo.forEach(function(b){b.undo=w.transform(b.undo,!0),b.redo=w.transform(b.redo,!0)}),this.stack.redo.forEach(function(b){b.undo=w.transform(b.undo,!0),b.redo=w.transform(b.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(i.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function r(u){var n=u.ops[u.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(function(c){return O.default.query(c,O.default.Scope.BLOCK)!=null}):!1}function o(u){var n=u.reduce(function(w,b){return w+=b.delete||0,w},0),c=u.length()-n;return r(u)&&(c-=1),c}d.default=l,d.getLastChangeIndex=o},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BaseTooltip=void 0;var k=function(){function P(R,U){for(var F=0;F<U.length;F++){var S=U[F];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(R,S.key,S)}}return function(R,U,F){return U&&P(R.prototype,U),F&&P(R,F),R}}(),N=function P(R,U,F){R===null&&(R=Function.prototype);var S=Object.getOwnPropertyDescriptor(R,U);if(S===void 0){var M=Object.getPrototypeOf(R);return M===null?void 0:P(M,U,F)}else{if("value"in S)return S.value;var H=S.get;return H===void 0?void 0:H.call(F)}},O=h(3),y=A(O),g=h(2),f=A(g),i=h(8),e=A(i),t=h(23),s=A(t),a=h(34),l=A(a),r=h(59),o=A(r),u=h(60),n=A(u),c=h(28),w=A(c),b=h(61),_=A(b);function A(P){return P&&P.__esModule?P:{default:P}}function m(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function p(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function v(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var x=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],C=["1","2","3",!1],D=["small",!1,"large","huge"],V=function(P){v(R,P);function R(U,F){m(this,R);var S=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,F)),M=function H(z){if(!document.body.contains(U.root))return document.body.removeEventListener("click",H);S.tooltip!=null&&!S.tooltip.root.contains(z.target)&&document.activeElement!==S.tooltip.textbox&&!S.quill.hasFocus()&&S.tooltip.hide(),S.pickers!=null&&S.pickers.forEach(function(Z){Z.container.contains(z.target)||Z.close()})};return U.emitter.listenDOM("click",document.body,M),S}return k(R,[{key:"addModule",value:function(F){var S=N(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,F);return F==="toolbar"&&this.extendToolbar(S),S}},{key:"buildButtons",value:function(F,S){F.forEach(function(M){var H=M.getAttribute("class")||"";H.split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),S[z]!=null))if(z==="direction")M.innerHTML=S[z][""]+S[z].rtl;else if(typeof S[z]=="string")M.innerHTML=S[z];else{var Z=M.value||"";Z!=null&&S[z][Z]&&(M.innerHTML=S[z][Z])}})})}},{key:"buildPickers",value:function(F,S){var M=this;this.pickers=F.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&E(z,x),new n.default(z,S.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var Z=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&E(z,T,Z==="background"?"#ffffff":"#000000"),new o.default(z,S[Z])}else return z.querySelector("option")==null&&(z.classList.contains("ql-font")?E(z,L):z.classList.contains("ql-header")?E(z,C):z.classList.contains("ql-size")&&E(z,D)),new w.default(z)});var H=function(){M.pickers.forEach(function(Z){Z.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,H)}}]),R}(l.default);V.DEFAULTS=(0,y.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var F=new FileReader;F.onload=function(S){var M=R.quill.getSelection(!0);R.quill.updateContents(new f.default().retain(M.index).delete(M.length).insert({image:S.target.result}),e.default.sources.USER),R.quill.setSelection(M.index+1,e.default.sources.SILENT),U.value=""},F.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(P){v(R,P);function R(U,F){m(this,R);var S=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,U,F));return S.textbox=S.root.querySelector('input[type="text"]'),S.listen(),S}return k(R,[{key:"listen",value:function(){var F=this;this.textbox.addEventListener("keydown",function(S){s.default.match(S,"enter")?(F.save(),S.preventDefault()):s.default.match(S,"escape")&&(F.cancel(),S.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),S!=null?this.textbox.value=S:F!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+F)||""),this.root.setAttribute("data-mode",F)}},{key:"restoreFocus",value:function(){var F=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=F}},{key:"save",value:function(){var F=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var S=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",F,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",F,e.default.sources.USER)),this.quill.root.scrollTop=S;break}case"video":F=q(F);case"formula":{if(!F)break;var M=this.quill.getSelection(!0);if(M!=null){var H=M.index+M.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),F,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",e.default.sources.USER),this.quill.setSelection(H+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),R}(_.default);function q(P){var R=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":P}function E(P,R){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;R.forEach(function(F){var S=document.createElement("option");F===U?S.setAttribute("selected","selected"):S.setAttribute("value",F),P.appendChild(S)})}d.BaseTooltip=B,d.default=V},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function N(){this.head=this.tail=null,this.length=0}return N.prototype.append=function(){for(var O=[],y=0;y<arguments.length;y++)O[y]=arguments[y];this.insertBefore(O[0],null),O.length>1&&this.append.apply(this,O.slice(1))},N.prototype.contains=function(O){for(var y,g=this.iterator();y=g();)if(y===O)return!0;return!1},N.prototype.insertBefore=function(O,y){O&&(O.next=y,y!=null?(O.prev=y.prev,y.prev!=null&&(y.prev.next=O),y.prev=O,y===this.head&&(this.head=O)):this.tail!=null?(this.tail.next=O,O.prev=this.tail,this.tail=O):(O.prev=null,this.head=this.tail=O),this.length+=1)},N.prototype.offset=function(O){for(var y=0,g=this.head;g!=null;){if(g===O)return y;y+=g.length(),g=g.next}return-1},N.prototype.remove=function(O){this.contains(O)&&(O.prev!=null&&(O.prev.next=O.next),O.next!=null&&(O.next.prev=O.prev),O===this.head&&(this.head=O.next),O===this.tail&&(this.tail=O.prev),this.length-=1)},N.prototype.iterator=function(O){return O===void 0&&(O=this.head),function(){var y=O;return O!=null&&(O=O.next),y}},N.prototype.find=function(O,y){y===void 0&&(y=!1);for(var g,f=this.iterator();g=f();){var i=g.length();if(O<i||y&&O===i&&(g.next==null||g.next.length()!==0))return[g,O];O-=i}return[null,0]},N.prototype.forEach=function(O){for(var y,g=this.iterator();y=g();)O(y)},N.prototype.forEachAt=function(O,y,g){if(!(y<=0))for(var f=this.find(O),i=f[0],e=f[1],t,s=O-e,a=this.iterator(i);(t=a())&&s<O+y;){var l=t.length();O>s?g(t,O-s,Math.min(y,s+l-O)):g(t,0,Math.min(l,O+y-s)),s+=l}},N.prototype.map=function(O){return this.reduce(function(y,g){return y.push(O(g)),y},[])},N.prototype.reduce=function(O,y){for(var g,f=this.iterator();g=f();)y=O(y,g);return y},N}();d.default=k},function(j,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(17),O=h(1),y={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=100,f=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.scroll=s,s.observer=new MutationObserver(function(a){s.update(a)}),s.observer.observe(s.domNode,y),s.attach(),s}return e.prototype.detach=function(){i.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,s){this.update(),t===0&&s===this.length()?this.children.forEach(function(a){a.remove()}):i.prototype.deleteAt.call(this,t,s)},e.prototype.formatAt=function(t,s,a,l){this.update(),i.prototype.formatAt.call(this,t,s,a,l)},e.prototype.insertAt=function(t,s,a){this.update(),i.prototype.insertAt.call(this,t,s,a)},e.prototype.optimize=function(t,s){var a=this;t===void 0&&(t=[]),s===void 0&&(s={}),i.prototype.optimize.call(this,s);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var r=function(c,w){w===void 0&&(w=!0),!(c==null||c===a)&&c.domNode.parentNode!=null&&(c.domNode[O.DATA_KEY].mutations==null&&(c.domNode[O.DATA_KEY].mutations=[]),w&&r(c.parent))},o=function(c){c.domNode[O.DATA_KEY]==null||c.domNode[O.DATA_KEY].mutations==null||(c instanceof N.default&&c.children.forEach(o),c.optimize(s))},u=t,n=0;u.length>0;n+=1){if(n>=g)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(c){var w=O.find(c.target,!0);w!=null&&(w.domNode===c.target&&(c.type==="childList"?(r(O.find(c.previousSibling,!1)),[].forEach.call(c.addedNodes,function(b){var _=O.find(b,!1);r(_,!1),_ instanceof N.default&&_.children.forEach(function(A){r(A,!1)})})):c.type==="attributes"&&r(w.prev)),r(w))}),this.children.forEach(o),u=[].slice.call(this.observer.takeRecords()),l=u.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,s){var a=this;s===void 0&&(s={}),t=t||this.observer.takeRecords(),t.map(function(l){var r=O.find(l.target,!0);return r==null?null:r.domNode[O.DATA_KEY].mutations==null?(r.domNode[O.DATA_KEY].mutations=[l],r):(r.domNode[O.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===a||l.domNode[O.DATA_KEY]==null||l.update(l.domNode[O.DATA_KEY].mutations||[],s)}),this.domNode[O.DATA_KEY].mutations!=null&&i.prototype.update.call(this,this.domNode[O.DATA_KEY].mutations,s),this.optimize(t,s)},e.blotName="scroll",e.defaultChild="block",e.scope=O.Scope.BLOCK_BLOT,e.tagName="DIV",e}(N.default);d.default=f},function(j,d,h){var k=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])};return function(i,e){f(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(18),O=h(1);function y(f,i){if(Object.keys(f).length!==Object.keys(i).length)return!1;for(var e in f)if(f[e]!==i[e])return!1;return!0}var g=function(f){k(i,f);function i(){return f!==null&&f.apply(this,arguments)||this}return i.formats=function(e){if(e.tagName!==i.tagName)return f.formats.call(this,e)},i.prototype.format=function(e,t){var s=this;e===this.statics.blotName&&!t?(this.children.forEach(function(a){a instanceof N.default||(a=a.wrap(i.blotName,!0)),s.attributes.copy(a)}),this.unwrap()):f.prototype.format.call(this,e,t)},i.prototype.formatAt=function(e,t,s,a){if(this.formats()[s]!=null||O.query(s,O.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(s,a)}else f.prototype.formatAt.call(this,e,t,s,a)},i.prototype.optimize=function(e){f.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var s=this.next;s instanceof i&&s.prev===this&&y(t,s.formats())&&(s.moveChildren(this),s.remove())},i.blotName="inline",i.scope=O.Scope.INLINE_BLOT,i.tagName="SPAN",i}(N.default);d.default=g},function(j,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(18),O=h(1),y=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.formats=function(i){var e=O.query(f.blotName).tagName;if(i.tagName!==e)return g.formats.call(this,i)},f.prototype.format=function(i,e){O.query(i,O.Scope.BLOCK)!=null&&(i===this.statics.blotName&&!e?this.replaceWith(f.blotName):g.prototype.format.call(this,i,e))},f.prototype.formatAt=function(i,e,t,s){O.query(t,O.Scope.BLOCK)!=null?this.format(t,s):g.prototype.formatAt.call(this,i,e,t,s)},f.prototype.insertAt=function(i,e,t){if(t==null||O.query(e,O.Scope.INLINE)!=null)g.prototype.insertAt.call(this,i,e,t);else{var s=this.split(i),a=O.create(e,t);s.parent.insertBefore(a,s)}},f.prototype.update=function(i,e){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,i,e)},f.blotName="block",f.scope=O.Scope.BLOCK_BLOT,f.tagName="P",f}(N.default);d.default=y},function(j,d,h){var k=this&&this.__extends||function(){var y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)f.hasOwnProperty(i)&&(g[i]=f[i])};return function(g,f){y(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(19),O=function(y){k(g,y);function g(){return y!==null&&y.apply(this,arguments)||this}return g.formats=function(f){},g.prototype.format=function(f,i){y.prototype.formatAt.call(this,0,this.length(),f,i)},g.prototype.formatAt=function(f,i,e,t){f===0&&i===this.length()?this.format(e,t):y.prototype.formatAt.call(this,f,i,e,t)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g}(N.default);d.default=O},function(j,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var N=h(19),O=h(1),y=function(g){k(f,g);function f(i){var e=g.call(this,i)||this;return e.text=e.statics.value(e.domNode),e}return f.create=function(i){return document.createTextNode(i)},f.value=function(i){var e=i.data;return e.normalize&&(e=e.normalize()),e},f.prototype.deleteAt=function(i,e){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+e)},f.prototype.index=function(i,e){return this.domNode===i?e:-1},f.prototype.insertAt=function(i,e,t){t==null?(this.text=this.text.slice(0,i)+e+this.text.slice(i),this.domNode.data=this.text):g.prototype.insertAt.call(this,i,e,t)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(i){g.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(i,e){return[this.domNode,i]},f.prototype.split=function(i,e){if(e===void 0&&(e=!1),!e){if(i===0)return this;if(i===this.length())return this.next}var t=O.create(this.domNode.splitText(i));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},f.prototype.update=function(i,e){var t=this;i.some(function(s){return s.type==="characterData"&&s.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=O.Scope.INLINE_BLOT,f}(N.default);d.default=y},function(j,d,h){var k=document.createElement("div");if(k.classList.toggle("test-class",!1),k.classList.contains("test-class")){var N=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(O,y){return arguments.length>1&&!this.contains(O)==!y?y:N.call(this,O)}}String.prototype.startsWith||(String.prototype.startsWith=function(O,y){return y=y||0,this.substr(y,O.length)===O}),String.prototype.endsWith||(String.prototype.endsWith=function(O,y){var g=this.toString();(typeof y!="number"||!isFinite(y)||Math.floor(y)!==y||y>g.length)&&(y=g.length),y-=O.length;var f=g.indexOf(O,y);return f!==-1&&f===y}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var g=Object(this),f=g.length>>>0,i=arguments[1],e,t=0;t<f;t++)if(e=g[t],y.call(i,e,t,g))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(j,d){var h=-1,k=1,N=0;function O(n,c,w){if(n==c)return n?[[N,n]]:[];(w<0||n.length<w)&&(w=null);var b=i(n,c),_=n.substring(0,b);n=n.substring(b),c=c.substring(b),b=e(n,c);var A=n.substring(n.length-b);n=n.substring(0,n.length-b),c=c.substring(0,c.length-b);var m=y(n,c);return _&&m.unshift([N,_]),A&&m.push([N,A]),s(m),w!=null&&(m=r(m,w)),m=o(m),m}function y(n,c){var w;if(!n)return[[k,c]];if(!c)return[[h,n]];var b=n.length>c.length?n:c,_=n.length>c.length?c:n,A=b.indexOf(_);if(A!=-1)return w=[[k,b.substring(0,A)],[N,_],[k,b.substring(A+_.length)]],n.length>c.length&&(w[0][0]=w[2][0]=h),w;if(_.length==1)return[[h,n],[k,c]];var m=t(n,c);if(m){var p=m[0],v=m[1],x=m[2],T=m[3],L=m[4],C=O(p,x),D=O(v,T);return C.concat([[N,L]],D)}return g(n,c)}function g(n,c){for(var w=n.length,b=c.length,_=Math.ceil((w+b)/2),A=_,m=2*_,p=new Array(m),v=new Array(m),x=0;x<m;x++)p[x]=-1,v[x]=-1;p[A+1]=0,v[A+1]=0;for(var T=w-b,L=T%2!=0,C=0,D=0,V=0,B=0,q=0;q<_;q++){for(var E=-q+C;E<=q-D;E+=2){var P=A+E,R;E==-q||E!=q&&p[P-1]<p[P+1]?R=p[P+1]:R=p[P-1]+1;for(var U=R-E;R<w&&U<b&&n.charAt(R)==c.charAt(U);)R++,U++;if(p[P]=R,R>w)D+=2;else if(U>b)C+=2;else if(L){var F=A+T-E;if(F>=0&&F<m&&v[F]!=-1){var S=w-v[F];if(R>=S)return f(n,c,R,U)}}}for(var M=-q+V;M<=q-B;M+=2){var F=A+M,S;M==-q||M!=q&&v[F-1]<v[F+1]?S=v[F+1]:S=v[F-1]+1;for(var H=S-M;S<w&&H<b&&n.charAt(w-S-1)==c.charAt(b-H-1);)S++,H++;if(v[F]=S,S>w)B+=2;else if(H>b)V+=2;else if(!L){var P=A+T-M;if(P>=0&&P<m&&p[P]!=-1){var R=p[P],U=A+R-P;if(S=w-S,R>=S)return f(n,c,R,U)}}}}return[[h,n],[k,c]]}function f(n,c,w,b){var _=n.substring(0,w),A=c.substring(0,b),m=n.substring(w),p=c.substring(b),v=O(_,A),x=O(m,p);return v.concat(x)}function i(n,c){if(!n||!c||n.charAt(0)!=c.charAt(0))return 0;for(var w=0,b=Math.min(n.length,c.length),_=b,A=0;w<_;)n.substring(A,_)==c.substring(A,_)?(w=_,A=w):b=_,_=Math.floor((b-w)/2+w);return _}function e(n,c){if(!n||!c||n.charAt(n.length-1)!=c.charAt(c.length-1))return 0;for(var w=0,b=Math.min(n.length,c.length),_=b,A=0;w<_;)n.substring(n.length-_,n.length-A)==c.substring(c.length-_,c.length-A)?(w=_,A=w):b=_,_=Math.floor((b-w)/2+w);return _}function t(n,c){var w=n.length>c.length?n:c,b=n.length>c.length?c:n;if(w.length<4||b.length*2<w.length)return null;function _(D,V,B){for(var q=D.substring(B,B+Math.floor(D.length/4)),E=-1,P="",R,U,F,S;(E=V.indexOf(q,E+1))!=-1;){var M=i(D.substring(B),V.substring(E)),H=e(D.substring(0,B),V.substring(0,E));P.length<H+M&&(P=V.substring(E-H,E)+V.substring(E,E+M),R=D.substring(0,B-H),U=D.substring(B+M),F=V.substring(0,E-H),S=V.substring(E+M))}return P.length*2>=D.length?[R,U,F,S,P]:null}var A=_(w,b,Math.ceil(w.length/4)),m=_(w,b,Math.ceil(w.length/2)),p;if(!A&&!m)return null;m?A?p=A[4].length>m[4].length?A:m:p=m:p=A;var v,x,T,L;n.length>c.length?(v=p[0],x=p[1],T=p[2],L=p[3]):(T=p[0],L=p[1],v=p[2],x=p[3]);var C=p[4];return[v,x,T,L,C]}function s(n){n.push([N,""]);for(var c=0,w=0,b=0,_="",A="",m;c<n.length;)switch(n[c][0]){case k:b++,A+=n[c][1],c++;break;case h:w++,_+=n[c][1],c++;break;case N:w+b>1?(w!==0&&b!==0&&(m=i(A,_),m!==0&&(c-w-b>0&&n[c-w-b-1][0]==N?n[c-w-b-1][1]+=A.substring(0,m):(n.splice(0,0,[N,A.substring(0,m)]),c++),A=A.substring(m),_=_.substring(m)),m=e(A,_),m!==0&&(n[c][1]=A.substring(A.length-m)+n[c][1],A=A.substring(0,A.length-m),_=_.substring(0,_.length-m))),w===0?n.splice(c-b,w+b,[k,A]):b===0?n.splice(c-w,w+b,[h,_]):n.splice(c-w-b,w+b,[h,_],[k,A]),c=c-w-b+(w?1:0)+(b?1:0)+1):c!==0&&n[c-1][0]==N?(n[c-1][1]+=n[c][1],n.splice(c,1)):c++,b=0,w=0,_="",A="";break}n[n.length-1][1]===""&&n.pop();var p=!1;for(c=1;c<n.length-1;)n[c-1][0]==N&&n[c+1][0]==N&&(n[c][1].substring(n[c][1].length-n[c-1][1].length)==n[c-1][1]?(n[c][1]=n[c-1][1]+n[c][1].substring(0,n[c][1].length-n[c-1][1].length),n[c+1][1]=n[c-1][1]+n[c+1][1],n.splice(c-1,1),p=!0):n[c][1].substring(0,n[c+1][1].length)==n[c+1][1]&&(n[c-1][1]+=n[c+1][1],n[c][1]=n[c][1].substring(n[c+1][1].length)+n[c+1][1],n.splice(c+1,1),p=!0)),c++;p&&s(n)}var a=O;a.INSERT=k,a.DELETE=h,a.EQUAL=N,j.exports=a;function l(n,c){if(c===0)return[N,n];for(var w=0,b=0;b<n.length;b++){var _=n[b];if(_[0]===h||_[0]===N){var A=w+_[1].length;if(c===A)return[b+1,n];if(c<A){n=n.slice();var m=c-w,p=[_[0],_[1].slice(0,m)],v=[_[0],_[1].slice(m)];return n.splice(b,1,p,v),[b+1,n]}else w=A}}throw new Error("cursor_pos is out of bounds!")}function r(n,c){var w=l(n,c),b=w[1],_=w[0],A=b[_],m=b[_+1];if(A==null)return n;if(A[0]!==N)return n;if(m!=null&&A[1]+m[1]===m[1]+A[1])return b.splice(_,2,m,A),u(b,_,2);if(m!=null&&m[1].indexOf(A[1])===0){b.splice(_,2,[m[0],A[1]],[0,A[1]]);var p=m[1].slice(A[1].length);return p.length>0&&b.splice(_+2,0,[m[0],p]),u(b,_,3)}else return n}function o(n){for(var c=!1,w=function(m){return m.charCodeAt(0)>=56320&&m.charCodeAt(0)<=57343},b=function(m){return m.charCodeAt(m.length-1)>=55296&&m.charCodeAt(m.length-1)<=56319},_=2;_<n.length;_+=1)n[_-2][0]===N&&b(n[_-2][1])&&n[_-1][0]===h&&w(n[_-1][1])&&n[_][0]===k&&w(n[_][1])&&(c=!0,n[_-1][1]=n[_-2][1].slice(-1)+n[_-1][1],n[_][1]=n[_-2][1].slice(-1)+n[_][1],n[_-2][1]=n[_-2][1].slice(0,-1));if(!c)return n;for(var A=[],_=0;_<n.length;_+=1)n[_][1].length>0&&A.push(n[_]);return A}function u(n,c,w){for(var b=c+w-1;b>=0&&b>=c-1;b--)if(b+1<n.length){var _=n[b],A=n[b+1];_[0]===A[1]&&n.splice(b,2,[_[0],_[1]+A[1]])}return n}},function(j,d){d=j.exports=typeof Object.keys=="function"?Object.keys:h,d.shim=h;function h(k){var N=[];for(var O in k)N.push(O);return N}},function(j,d){var h=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";d=j.exports=h?k:N,d.supported=k;function k(O){return Object.prototype.toString.call(O)=="[object Arguments]"}d.unsupported=N;function N(O){return O&&typeof O=="object"&&typeof O.length=="number"&&Object.prototype.hasOwnProperty.call(O,"callee")&&!Object.prototype.propertyIsEnumerable.call(O,"callee")||!1}},function(j,d){var h=Object.prototype.hasOwnProperty,k="~";function N(){}Object.create&&(N.prototype=Object.create(null),new N().__proto__||(k=!1));function O(g,f,i){this.fn=g,this.context=f,this.once=i||!1}function y(){this._events=new N,this._eventsCount=0}y.prototype.eventNames=function(){var f=[],i,e;if(this._eventsCount===0)return f;for(e in i=this._events)h.call(i,e)&&f.push(k?e.slice(1):e);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(i)):f},y.prototype.listeners=function(f,i){var e=k?k+f:f,t=this._events[e];if(i)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var s=0,a=t.length,l=new Array(a);s<a;s++)l[s]=t[s].fn;return l},y.prototype.emit=function(f,i,e,t,s,a){var l=k?k+f:f;if(!this._events[l])return!1;var r=this._events[l],o=arguments.length,u,n;if(r.fn){switch(r.once&&this.removeListener(f,r.fn,void 0,!0),o){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,i),!0;case 3:return r.fn.call(r.context,i,e),!0;case 4:return r.fn.call(r.context,i,e,t),!0;case 5:return r.fn.call(r.context,i,e,t,s),!0;case 6:return r.fn.call(r.context,i,e,t,s,a),!0}for(n=1,u=new Array(o-1);n<o;n++)u[n-1]=arguments[n];r.fn.apply(r.context,u)}else{var c=r.length,w;for(n=0;n<c;n++)switch(r[n].once&&this.removeListener(f,r[n].fn,void 0,!0),o){case 1:r[n].fn.call(r[n].context);break;case 2:r[n].fn.call(r[n].context,i);break;case 3:r[n].fn.call(r[n].context,i,e);break;case 4:r[n].fn.call(r[n].context,i,e,t);break;default:if(!u)for(w=1,u=new Array(o-1);w<o;w++)u[w-1]=arguments[w];r[n].fn.apply(r[n].context,u)}}return!0},y.prototype.on=function(f,i,e){var t=new O(i,e||this),s=k?k+f:f;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},y.prototype.once=function(f,i,e){var t=new O(i,e||this,!0),s=k?k+f:f;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},y.prototype.removeListener=function(f,i,e,t){var s=k?k+f:f;if(!this._events[s])return this;if(!i)return--this._eventsCount===0?this._events=new N:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn===i&&(!t||a.once)&&(!e||a.context===e)&&(--this._eventsCount===0?this._events=new N:delete this._events[s]);else{for(var l=0,r=[],o=a.length;l<o;l++)(a[l].fn!==i||t&&!a[l].once||e&&a[l].context!==e)&&r.push(a[l]);r.length?this._events[s]=r.length===1?r[0]:r:--this._eventsCount===0?this._events=new N:delete this._events[s]}return this},y.prototype.removeAllListeners=function(f){var i;return f?(i=k?k+f:f,this._events[i]&&(--this._eventsCount===0?this._events=new N:delete this._events[i])):(this._events=new N,this._eventsCount=0),this},y.prototype.off=y.prototype.removeListener,y.prototype.addListener=y.prototype.on,y.prototype.setMaxListeners=function(){return this},y.prefixed=k,y.EventEmitter=y,typeof j<"u"&&(j.exports=y)},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.matchText=d.matchSpacing=d.matchNewline=d.matchBlot=d.matchAttributor=d.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},N=function(){function K($,X){var J=[],G=!0,ie=!1,oe=void 0;try{for(var le=$[Symbol.iterator](),pe;!(G=(pe=le.next()).done)&&(J.push(pe.value),!(X&&J.length===X));G=!0);}catch(me){ie=!0,oe=me}finally{try{!G&&le.return&&le.return()}finally{if(ie)throw oe}}return J}return function($,X){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return K($,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function K($,X){for(var J=0;J<X.length;J++){var G=X[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty($,G.key,G)}}return function($,X,J){return X&&K($.prototype,X),J&&K($,J),$}}(),y=h(3),g=v(y),f=h(2),i=v(f),e=h(0),t=v(e),s=h(5),a=v(s),l=h(10),r=v(l),o=h(9),u=v(o),n=h(36),c=h(37),w=h(13),b=v(w),_=h(26),A=h(38),m=h(39),p=h(40);function v(K){return K&&K.__esModule?K:{default:K}}function x(K,$,X){return $ in K?Object.defineProperty(K,$,{value:X,enumerable:!0,configurable:!0,writable:!0}):K[$]=X,K}function T(K,$){if(!(K instanceof $))throw new TypeError("Cannot call a class as a function")}function L(K,$){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:K}function C(K,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);K.prototype=Object.create($&&$.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(K,$):K.__proto__=$)}var D=(0,r.default)("quill:clipboard"),V="__ql-matcher",B=[[Node.TEXT_NODE,ae],[Node.TEXT_NODE,re],["br",Q],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,se],["li",te],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",ee]],q=[n.AlignAttribute,A.DirectionAttribute].reduce(function(K,$){return K[$.keyName]=$,K},{}),E=[n.AlignStyle,c.BackgroundStyle,_.ColorStyle,A.DirectionStyle,m.FontStyle,p.SizeStyle].reduce(function(K,$){return K[$.keyName]=$,K},{}),P=function(K){C($,K);function $(X,J){T(this,$);var G=L(this,($.__proto__||Object.getPrototypeOf($)).call(this,X,J));return G.quill.root.addEventListener("paste",G.onPaste.bind(G)),G.container=G.quill.addContainer("ql-clipboard"),G.container.setAttribute("contenteditable",!0),G.container.setAttribute("tabindex",-1),G.matchers=[],B.concat(G.options.matchers).forEach(function(ie){var oe=N(ie,2),le=oe[0],pe=oe[1];!J.matchVisual&&pe===W||G.addMatcher(le,pe)}),G}return O($,[{key:"addMatcher",value:function(J,G){this.matchers.push([J,G])}},{key:"convert",value:function(J){if(typeof J=="string")return this.container.innerHTML=J.replace(/\>\r?\n +\</g,"><"),this.convert();var G=this.quill.getFormat(this.quill.selection.savedRange.index);if(G[b.default.blotName]){var ie=this.container.innerText;return this.container.innerHTML="",new i.default().insert(ie,x({},b.default.blotName,G[b.default.blotName]))}var oe=this.prepareMatching(),le=N(oe,2),pe=le[0],me=le[1],ue=M(this.container,pe,me);return F(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new i.default().retain(ue.length()-1).delete(1))),D.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(J,G){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof J=="string")this.quill.setContents(this.convert(J),G),this.quill.setSelection(0,a.default.sources.SILENT);else{var oe=this.convert(G);this.quill.updateContents(new i.default().retain(J).concat(oe),ie),this.quill.setSelection(J+oe.length(),a.default.sources.SILENT)}}},{key:"onPaste",value:function(J){var G=this;if(!(J.defaultPrevented||!this.quill.isEnabled())){var ie=this.quill.getSelection(),oe=new i.default().retain(ie.index),le=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(a.default.sources.SILENT),setTimeout(function(){oe=oe.concat(G.convert()).delete(ie.length),G.quill.updateContents(oe,a.default.sources.USER),G.quill.setSelection(oe.length()-ie.length,a.default.sources.SILENT),G.quill.scrollingContainer.scrollTop=le,G.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var J=this,G=[],ie=[];return this.matchers.forEach(function(oe){var le=N(oe,2),pe=le[0],me=le[1];switch(pe){case Node.TEXT_NODE:ie.push(me);break;case Node.ELEMENT_NODE:G.push(me);break;default:[].forEach.call(J.container.querySelectorAll(pe),function(ue){ue[V]=ue[V]||[],ue[V].push(me)});break}}),[G,ie]}}]),$}(u.default);P.DEFAULTS={matchers:[],matchVisual:!0};function R(K,$,X){return(typeof $>"u"?"undefined":k($))==="object"?Object.keys($).reduce(function(J,G){return R(J,G,$[G])},K):K.reduce(function(J,G){return G.attributes&&G.attributes[$]?J.push(G):J.insert(G.insert,(0,g.default)({},x({},$,X),G.attributes))},new i.default)}function U(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var $="__ql-computed-style";return K[$]||(K[$]=window.getComputedStyle(K))}function F(K,$){for(var X="",J=K.ops.length-1;J>=0&&X.length<$.length;--J){var G=K.ops[J];if(typeof G.insert!="string")break;X=G.insert+X}return X.slice(-1*$.length)===$}function S(K){if(K.childNodes.length===0)return!1;var $=U(K);return["block","list-item"].indexOf($.display)>-1}function M(K,$,X){return K.nodeType===K.TEXT_NODE?X.reduce(function(J,G){return G(K,J)},new i.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(J,G){var ie=M(G,$,X);return G.nodeType===K.ELEMENT_NODE&&(ie=$.reduce(function(oe,le){return le(G,oe)},ie),ie=(G[V]||[]).reduce(function(oe,le){return le(G,oe)},ie)),J.concat(ie)},new i.default):new i.default}function H(K,$,X){return R(X,K,!0)}function z(K,$){var X=t.default.Attributor.Attribute.keys(K),J=t.default.Attributor.Class.keys(K),G=t.default.Attributor.Style.keys(K),ie={};return X.concat(J).concat(G).forEach(function(oe){var le=t.default.query(oe,t.default.Scope.ATTRIBUTE);le!=null&&(ie[le.attrName]=le.value(K),ie[le.attrName])||(le=q[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(ie[le.attrName]=le.value(K)||void 0),le=E[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(le=E[oe],ie[le.attrName]=le.value(K)||void 0))}),Object.keys(ie).length>0&&($=R($,ie)),$}function Z(K,$){var X=t.default.query(K);if(X==null)return $;if(X.prototype instanceof t.default.Embed){var J={},G=X.value(K);G!=null&&(J[X.blotName]=G,$=new i.default().insert(J,X.formats(K)))}else typeof X.formats=="function"&&($=R($,X.blotName,X.formats(K)));return $}function Q(K,$){return F($,`
`)||$.insert(`
`),$}function ee(){return new i.default}function te(K,$){var X=t.default.query(K);if(X==null||X.blotName!=="list-item"||!F($,`
`))return $;for(var J=-1,G=K.parentNode;!G.classList.contains("ql-clipboard");)(t.default.query(G)||{}).blotName==="list"&&(J+=1),G=G.parentNode;return J<=0?$:$.compose(new i.default().retain($.length()-1).retain(1,{indent:J}))}function re(K,$){return F($,`
`)||(S(K)||$.length()>0&&K.nextSibling&&S(K.nextSibling))&&$.insert(`
`),$}function W(K,$){if(S(K)&&K.nextElementSibling!=null&&!F($,`

`)){var X=K.offsetHeight+parseFloat(U(K).marginTop)+parseFloat(U(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+X*1.5&&$.insert(`
`)}return $}function se(K,$){var X={},J=K.style||{};return J.fontStyle&&U(K).fontStyle==="italic"&&(X.italic=!0),J.fontWeight&&(U(K).fontWeight.startsWith("bold")||parseInt(U(K).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&($=R($,X)),parseFloat(J.textIndent||0)>0&&($=new i.default().insert("	").concat($)),$}function ae(K,$){var X=K.data;if(K.parentNode.tagName==="O:P")return $.insert(X.trim());if(X.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return $;if(!U(K.parentNode).whiteSpace.startsWith("pre")){var J=function(ie,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&ie?" ":oe};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,J.bind(J,!0)),(K.previousSibling==null&&S(K.parentNode)||K.previousSibling!=null&&S(K.previousSibling))&&(X=X.replace(/^\s+/,J.bind(J,!1))),(K.nextSibling==null&&S(K.parentNode)||K.nextSibling!=null&&S(K.nextSibling))&&(X=X.replace(/\s+$/,J.bind(J,!1)))}return $.insert(X)}d.default=P,d.matchAttributor=z,d.matchBlot=Z,d.matchNewline=re,d.matchSpacing=W,d.matchText=ae},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),N=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(6),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,[{key:"optimize",value:function(r){N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,r),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return N(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),a}(y.default);t.blotName="bold",t.tagName=["STRONG","B"],d.default=t},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.addControls=d.default=void 0;var k=function(){function p(v,x){var T=[],L=!0,C=!1,D=void 0;try{for(var V=v[Symbol.iterator](),B;!(L=(B=V.next()).done)&&(T.push(B.value),!(x&&T.length===x));L=!0);}catch(q){C=!0,D=q}finally{try{!L&&V.return&&V.return()}finally{if(C)throw D}}return T}return function(v,x){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return p(v,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function(){function p(v,x){for(var T=0;T<x.length;T++){var L=x[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(v,L.key,L)}}return function(v,x,T){return x&&p(v.prototype,x),T&&p(v,T),v}}(),O=h(2),y=r(O),g=h(0),f=r(g),i=h(5),e=r(i),t=h(10),s=r(t),a=h(9),l=r(a);function r(p){return p&&p.__esModule?p:{default:p}}function o(p,v,x){return v in p?Object.defineProperty(p,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[v]=x,p}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function n(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function c(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var w=(0,s.default)("quill:toolbar"),b=function(p){c(v,p);function v(x,T){u(this,v);var L=n(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,x,T));if(Array.isArray(L.options.container)){var C=document.createElement("div");A(C,L.options.container),x.container.parentNode.insertBefore(C,x.container),L.container=C}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var D;return D=w.error("Container required for toolbar",L.options),n(L,D)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(V){L.addHandler(V,L.options.handlers[V])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(V){L.attach(V)}),L.quill.on(e.default.events.EDITOR_CHANGE,function(V,B){V===e.default.events.SELECTION_CHANGE&&L.update(B)}),L.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var V=L.quill.selection.getRange(),B=k(V,1),q=B[0];L.update(q)}),L}return N(v,[{key:"addHandler",value:function(T,L){this.handlers[T]=L}},{key:"attach",value:function(T){var L=this,C=[].find.call(T.classList,function(V){return V.indexOf("ql-")===0});if(C){if(C=C.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[C]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[C]==null){w.warn("ignoring attaching to disabled format",C,T);return}if(f.default.query(C)==null){w.warn("ignoring attaching to nonexistent format",C,T);return}}var D=T.tagName==="SELECT"?"change":"click";T.addEventListener(D,function(V){var B=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var q=T.options[T.selectedIndex];q.hasAttribute("selected")?B=!1:B=q.value||!1}else T.classList.contains("ql-active")?B=!1:B=T.value||!T.hasAttribute("value"),V.preventDefault();L.quill.focus();var E=L.quill.selection.getRange(),P=k(E,1),R=P[0];if(L.handlers[C]!=null)L.handlers[C].call(L,B);else if(f.default.query(C).prototype instanceof f.default.Embed){if(B=prompt("Enter "+C),!B)return;L.quill.updateContents(new y.default().retain(R.index).delete(R.length).insert(o({},C,B)),e.default.sources.USER)}else L.quill.format(C,B,e.default.sources.USER);L.update(R)}),this.controls.push([C,T])}}},{key:"update",value:function(T){var L=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(C){var D=k(C,2),V=D[0],B=D[1];if(B.tagName==="SELECT"){var q=void 0;if(T==null)q=null;else if(L[V]==null)q=B.querySelector("option[selected]");else if(!Array.isArray(L[V])){var E=L[V];typeof E=="string"&&(E=E.replace(/\"/g,'\\"')),q=B.querySelector('option[value="'+E+'"]')}q==null?(B.value="",B.selectedIndex=-1):q.selected=!0}else if(T==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var P=L[V]===B.getAttribute("value")||L[V]!=null&&L[V].toString()===B.getAttribute("value")||L[V]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",P)}else B.classList.toggle("ql-active",L[V]!=null)})}}]),v}(l.default);b.DEFAULTS={};function _(p,v,x){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+v),x!=null&&(T.value=x),p.appendChild(T)}function A(p,v){Array.isArray(v[0])||(v=[v]),v.forEach(function(x){var T=document.createElement("span");T.classList.add("ql-formats"),x.forEach(function(L){if(typeof L=="string")_(T,L);else{var C=Object.keys(L)[0],D=L[C];Array.isArray(D)?m(T,C,D):_(T,C,D)}}),p.appendChild(T)})}function m(p,v,x){var T=document.createElement("select");T.classList.add("ql-"+v),x.forEach(function(L){var C=document.createElement("option");L!==!1?C.setAttribute("value",L):C.setAttribute("selected","selected"),T.appendChild(C)}),p.appendChild(T)}b.DEFAULTS={container:null,handlers:{clean:function(){var v=this,x=this.quill.getSelection();if(x!=null)if(x.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(L){f.default.query(L,f.default.Scope.INLINE)!=null&&v.quill.format(L,!1)})}else this.quill.removeFormat(x,e.default.sources.USER)},direction:function(v){var x=this.quill.getFormat().align;v==="rtl"&&x==null?this.quill.format("align","right",e.default.sources.USER):!v&&x==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",v,e.default.sources.USER)},indent:function(v){var x=this.quill.getSelection(),T=this.quill.getFormat(x),L=parseInt(T.indent||0);if(v==="+1"||v==="-1"){var C=v==="+1"?1:-1;T.direction==="rtl"&&(C*=-1),this.quill.format("indent",L+C,e.default.sources.USER)}},link:function(v){v===!0&&(v=prompt("Enter link URL:")),this.quill.format("link",v,e.default.sources.USER)},list:function(v){var x=this.quill.getSelection(),T=this.quill.getFormat(x);v==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",v,e.default.sources.USER)}}},d.default=b,d.addControls=A},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),N=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(28),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,r){f(this,a);var o=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.label.innerHTML=r,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),o}return k(a,[{key:"buildItem",value:function(r){var o=N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,r);return o.style.backgroundColor=r.getAttribute("value")||"",o}},{key:"selectItem",value:function(r,o){N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,r,o);var u=this.label.querySelector(".ql-color-label"),n=r&&r.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=n:u.style.fill=n)}}]),a}(y.default);d.default=t},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),N=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(28),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,r){f(this,a);var o=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=r[u.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return k(a,[{key:"selectItem",value:function(r,o){N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,r,o),r=r||this.defaultItem,this.label.innerHTML=r.innerHTML}}]),a}(y.default);d.default=t},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function y(g,f){for(var i=0;i<f.length;i++){var e=f[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(g,e.key,e)}}return function(g,f,i){return f&&y(g.prototype,f),i&&y(g,i),g}}();function N(y,g){if(!(y instanceof g))throw new TypeError("Cannot call a class as a function")}var O=function(){function y(g,f){var i=this;N(this,y),this.quill=g,this.boundsContainer=f||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return k(y,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var i=f.left+f.width/2-this.root.offsetWidth/2,e=f.bottom+this.quill.root.scrollTop;this.root.style.left=i+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect(),a=0;if(s.right>t.right&&(a=t.right-s.right,this.root.style.left=i+a+"px"),s.left<t.left&&(a=t.left-s.left,this.root.style.left=i+a+"px"),s.bottom>t.bottom){var l=s.bottom-s.top,r=f.bottom-f.top+l;this.root.style.top=e-r+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),y}();d.default=O},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function m(p,v){var x=[],T=!0,L=!1,C=void 0;try{for(var D=p[Symbol.iterator](),V;!(T=(V=D.next()).done)&&(x.push(V.value),!(v&&x.length===v));T=!0);}catch(B){L=!0,C=B}finally{try{!T&&D.return&&D.return()}finally{if(L)throw C}}return x}return function(p,v){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return m(p,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),N=function m(p,v,x){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,v);if(T===void 0){var L=Object.getPrototypeOf(p);return L===null?void 0:m(L,v,x)}else{if("value"in T)return T.value;var C=T.get;return C===void 0?void 0:C.call(x)}},O=function(){function m(p,v){for(var x=0;x<v.length;x++){var T=v[x];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,v,x){return v&&m(p.prototype,v),x&&m(p,x),p}}(),y=h(3),g=u(y),f=h(8),i=u(f),e=h(43),t=u(e),s=h(27),a=u(s),l=h(15),r=h(41),o=u(r);function u(m){return m&&m.__esModule?m:{default:m}}function n(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}function c(m,p){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:m}function w(m,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);m.prototype=Object.create(p&&p.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(m,p):m.__proto__=p)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(m){w(p,m);function p(v,x){n(this,p),x.modules.toolbar!=null&&x.modules.toolbar.container==null&&(x.modules.toolbar.container=b);var T=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v,x));return T.quill.container.classList.add("ql-snow"),T}return O(p,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),o.default),this.tooltip=new A(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,L){x.handlers.link.call(x,!L.format.link)})}}]),p}(t.default);_.DEFAULTS=(0,g.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var v=this.quill.getSelection();if(v==null||v.length==0)return;var x=this.quill.getText(v);/^\S+@\S+\.\S+$/.test(x)&&x.indexOf("mailto:")!==0&&(x="mailto:"+x);var T=this.quill.theme.tooltip;T.edit("link",x)}else this.quill.format("link",!1)}}}}});var A=function(m){w(p,m);function p(v,x){n(this,p);var T=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,v,x));return T.preview=T.root.querySelector("a.ql-preview"),T}return O(p,[{key:"listen",value:function(){var x=this;N(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(x.linkRange!=null){var L=x.linkRange;x.restoreFocus(),x.quill.formatText(L,"link",!1,i.default.sources.USER),delete x.linkRange}T.preventDefault(),x.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(T,L,C){if(T!=null){if(T.length===0&&C===i.default.sources.USER){var D=x.quill.scroll.descendant(a.default,T.index),V=k(D,2),B=V[0],q=V[1];if(B!=null){x.linkRange=new l.Range(T.index-q,B.length());var E=a.default.formats(B.domNode);x.preview.textContent=E,x.preview.setAttribute("href",E),x.show(),x.position(x.quill.getBounds(x.linkRange));return}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){N(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(e.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),d.default=_},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(29),N=G(k),O=h(36),y=h(38),g=h(64),f=h(65),i=G(f),e=h(66),t=G(e),s=h(67),a=G(s),l=h(37),r=h(26),o=h(39),u=h(40),n=h(56),c=G(n),w=h(68),b=G(w),_=h(27),A=G(_),m=h(69),p=G(m),v=h(70),x=G(v),T=h(71),L=G(T),C=h(72),D=G(C),V=h(73),B=G(V),q=h(13),E=G(q),P=h(74),R=G(P),U=h(75),F=G(U),S=h(57),M=G(S),H=h(41),z=G(H),Z=h(28),Q=G(Z),ee=h(59),te=G(ee),re=h(60),W=G(re),se=h(61),ae=G(se),K=h(108),$=G(K),X=h(62),J=G(X);function G(ie){return ie&&ie.__esModule?ie:{default:ie}}N.default.register({"attributors/attribute/direction":y.DirectionAttribute,"attributors/class/align":O.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":r.ColorClass,"attributors/class/direction":y.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":u.SizeClass,"attributors/style/align":O.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":r.ColorStyle,"attributors/style/direction":y.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":u.SizeStyle},!0),N.default.register({"formats/align":O.AlignClass,"formats/direction":y.DirectionClass,"formats/indent":g.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":r.ColorStyle,"formats/font":o.FontClass,"formats/size":u.SizeClass,"formats/blockquote":i.default,"formats/code-block":E.default,"formats/header":t.default,"formats/list":a.default,"formats/bold":c.default,"formats/code":q.Code,"formats/italic":b.default,"formats/link":A.default,"formats/script":p.default,"formats/strike":x.default,"formats/underline":L.default,"formats/image":D.default,"formats/video":B.default,"formats/list/item":s.ListItem,"modules/formula":R.default,"modules/syntax":F.default,"modules/toolbar":M.default,"themes/bubble":$.default,"themes/snow":J.default,"ui/icons":z.default,"ui/picker":Q.default,"ui/icon-picker":W.default,"ui/color-picker":te.default,"ui/tooltip":ae.default},!0),d.default=N.default},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.IndentClass=void 0;var k=function(){function a(l,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,r,o){return r&&a(l.prototype,r),o&&a(l,o),l}}(),N=function a(l,r,o){l===null&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,r);if(u===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,r,o)}else{if("value"in u)return u.value;var c=u.get;return c===void 0?void 0:c.call(o)}},O=h(0),y=g(O);function g(a){return a&&a.__esModule?a:{default:a}}function f(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function i(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return f(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return k(l,[{key:"add",value:function(o,u){if(u==="+1"||u==="-1"){var n=this.value(o)||0;u=u==="+1"?n+1:n-1}return u===0?(this.remove(o),!0):N(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,o,u)}},{key:"canAdd",value:function(o,u){return N(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,u)||N(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,parseInt(u))}},{key:"value",value:function(o){return parseInt(N(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,o))||void 0}}]),l}(y.default.Attributor.Class),s=new t("indent","ql-indent",{scope:y.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});d.IndentClass=s},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(4),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(N.default);i.blotName="blockquote",i.tagName="blockquote",d.default=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function t(s,a){for(var l=0;l<a.length;l++){var r=a[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}return function(s,a,l){return a&&t(s.prototype,a),l&&t(s,l),s}}(),N=h(4),O=y(N);function y(t){return t&&t.__esModule?t:{default:t}}function g(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function f(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:t}function i(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}var e=function(t){i(s,t);function s(){return g(this,s),f(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return k(s,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),s}(O.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],d.default=e},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.ListItem=void 0;var k=function(){function n(c,w){for(var b=0;b<w.length;b++){var _=w[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,w,b){return w&&n(c.prototype,w),b&&n(c,b),c}}(),N=function n(c,w,b){c===null&&(c=Function.prototype);var _=Object.getOwnPropertyDescriptor(c,w);if(_===void 0){var A=Object.getPrototypeOf(c);return A===null?void 0:n(A,w,b)}else{if("value"in _)return _.value;var m=_.get;return m===void 0?void 0:m.call(b)}},O=h(0),y=t(O),g=h(4),f=t(g),i=h(25),e=t(i);function t(n){return n&&n.__esModule?n:{default:n}}function s(n,c,w){return c in n?Object.defineProperty(n,c,{value:w,enumerable:!0,configurable:!0,writable:!0}):n[c]=w,n}function a(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function l(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:n}function r(n,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);n.prototype=Object.create(c&&c.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(n,c):n.__proto__=c)}var o=function(n){r(c,n);function c(){return a(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return k(c,[{key:"format",value:function(b,_){b===u.blotName&&!_?this.replaceWith(y.default.create(this.statics.scope)):N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,b,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(b,_){return this.parent.isolate(this.offset(this.parent),this.length()),b===this.parent.statics.blotName?(this.parent.replaceWith(b,_),this):(this.parent.unwrap(),N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replaceWith",this).call(this,b,_))}}],[{key:"formats",value:function(b){return b.tagName===this.tagName?void 0:N(c.__proto__||Object.getPrototypeOf(c),"formats",this).call(this,b)}}]),c}(f.default);o.blotName="list-item",o.tagName="LI";var u=function(n){r(c,n),k(c,null,[{key:"create",value:function(b){var _=b==="ordered"?"OL":"UL",A=N(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,_);return(b==="checked"||b==="unchecked")&&A.setAttribute("data-checked",b==="checked"),A}},{key:"formats",value:function(b){if(b.tagName==="OL")return"ordered";if(b.tagName==="UL")return b.hasAttribute("data-checked")?b.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function c(w){a(this,c);var b=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,w)),_=function(m){if(m.target.parentNode===w){var p=b.statics.formats(w),v=y.default.find(m.target);p==="checked"?v.format("list","unchecked"):p==="unchecked"&&v.format("list","checked")}};return w.addEventListener("touchstart",_),w.addEventListener("mousedown",_),b}return k(c,[{key:"format",value:function(b,_){this.children.length>0&&this.children.tail.format(b,_)}},{key:"formats",value:function(){return s({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(b,_){if(b instanceof o)N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"insertBefore",this).call(this,b,_);else{var A=_==null?this.length():_.offset(this),m=this.split(A);m.parent.insertBefore(b,m)}}},{key:"optimize",value:function(b){N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,b);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(b){if(b.statics.blotName!==this.statics.blotName){var _=y.default.create(this.statics.defaultChild);b.moveChildren(_),this.appendChild(_)}N(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replace",this).call(this,b)}}]),c}(e.default);u.blotName="list",u.scope=y.default.Scope.BLOCK_BLOT,u.tagName=["OL","UL"],u.defaultChild="list-item",u.allowedChildren=[o],d.ListItem=o,d.default=u},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(56),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(N.default);i.blotName="italic",i.tagName=["EM","I"],d.default=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),N=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(6),y=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,null,[{key:"create",value:function(r){return r==="super"?document.createElement("sup"):r==="sub"?document.createElement("sub"):N(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,r)}},{key:"formats",value:function(r){if(r.tagName==="SUB")return"sub";if(r.tagName==="SUP")return"super"}}]),a}(y.default);t.blotName="script",t.tagName=["SUB","SUP"],d.default=t},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(6),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(N.default);i.blotName="strike",i.tagName="S",d.default=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(6),N=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return y(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(N.default);i.blotName="underline",i.tagName="U",d.default=i},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),N=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(u)}},O=h(0),y=f(O),g=h(27);function f(l){return l&&l.__esModule?l:{default:l}}function i(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function e(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function t(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var s=["alt","height","width"],a=function(l){t(r,l);function r(){return i(this,r),e(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"format",value:function(u,n){s.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):N(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=N(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,u);return typeof u=="string"&&n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return s.reduce(function(n,c){return u.hasAttribute(c)&&(n[c]=u.getAttribute(c)),n},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,g.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),r}(y.default.Embed);a.blotName="image",a.tagName="IMG",d.default=a},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),N=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var w=n.get;return w===void 0?void 0:w.call(u)}},O=h(4),y=h(27),g=f(y);function f(l){return l&&l.__esModule?l:{default:l}}function i(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function e(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function t(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var s=["height","width"],a=function(l){t(r,l);function r(){return i(this,r),e(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"format",value:function(u,n){s.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):N(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=N(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,u);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return s.reduce(function(n,c){return u.hasAttribute(c)&&(n[c]=u.getAttribute(c)),n},{})}},{key:"sanitize",value:function(u){return g.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),r}(O.BlockEmbed);a.blotName="video",a.className="ql-video",a.tagName="IFRAME",d.default=a},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.FormulaBlot=void 0;var k=function(){function u(n,c){for(var w=0;w<c.length;w++){var b=c[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,c,w){return c&&u(n.prototype,c),w&&u(n,w),n}}(),N=function u(n,c,w){n===null&&(n=Function.prototype);var b=Object.getOwnPropertyDescriptor(n,c);if(b===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:u(_,c,w)}else{if("value"in b)return b.value;var A=b.get;return A===void 0?void 0:A.call(w)}},O=h(35),y=t(O),g=h(5),f=t(g),i=h(9),e=t(i);function t(u){return u&&u.__esModule?u:{default:u}}function s(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function a(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:u}function l(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var r=function(u){l(n,u);function n(){return s(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return k(n,null,[{key:"create",value:function(w){var b=N(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,w);return typeof w=="string"&&(window.katex.render(w,b,{throwOnError:!1,errorColor:"#f00"}),b.setAttribute("data-value",w)),b}},{key:"value",value:function(w){return w.getAttribute("data-value")}}]),n}(y.default);r.blotName="formula",r.className="ql-formula",r.tagName="SPAN";var o=function(u){l(n,u),k(n,null,[{key:"register",value:function(){f.default.register(r,!0)}}]);function n(){s(this,n);var c=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return c}return n}(e.default);d.FormulaBlot=r,d.default=o},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.CodeToken=d.CodeBlock=void 0;var k=function(){function w(b,_){for(var A=0;A<_.length;A++){var m=_[A];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(b,m.key,m)}}return function(b,_,A){return _&&w(b.prototype,_),A&&w(b,A),b}}(),N=function w(b,_,A){b===null&&(b=Function.prototype);var m=Object.getOwnPropertyDescriptor(b,_);if(m===void 0){var p=Object.getPrototypeOf(b);return p===null?void 0:w(p,_,A)}else{if("value"in m)return m.value;var v=m.get;return v===void 0?void 0:v.call(A)}},O=h(0),y=a(O),g=h(5),f=a(g),i=h(9),e=a(i),t=h(13),s=a(t);function a(w){return w&&w.__esModule?w:{default:w}}function l(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function r(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function o(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var u=function(w){o(b,w);function b(){return l(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),N(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var m=this.domNode.textContent;this.cachedText!==m&&((m.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(m),this.domNode.normalize(),this.attach()),this.cachedText=m)}}]),b}(s.default);u.className="ql-syntax";var n=new y.default.Attributor.Class("token","hljs",{scope:y.default.Scope.INLINE}),c=function(w){o(b,w),k(b,null,[{key:"register",value:function(){f.default.register(n,!0),f.default.register(u,!0)}}]);function b(_,A){l(this,b);var m=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,A));if(typeof m.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return m.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){m.highlight(),p=null},m.options.interval)}),m.highlight(),m}return k(b,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var m=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(p){p.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),m!=null&&this.quill.setSelection(m,f.default.sources.SILENT)}}}]),b}(e.default);c.DEFAULTS={highlight:function(){return window.hljs==null?null:function(w){var b=window.hljs.highlightAuto(w);return b.value}}(),interval:1e3},d.CodeBlock=u,d.CodeToken=n,d.default=c},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(j,d){j.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(j,d){j.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(j,d){j.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(j,d){j.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(j,d){j.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(j,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BubbleTooltip=void 0;var k=function b(_,A,m){_===null&&(_=Function.prototype);var p=Object.getOwnPropertyDescriptor(_,A);if(p===void 0){var v=Object.getPrototypeOf(_);return v===null?void 0:b(v,A,m)}else{if("value"in p)return p.value;var x=p.get;return x===void 0?void 0:x.call(m)}},N=function(){function b(_,A){for(var m=0;m<A.length;m++){var p=A[m];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,p.key,p)}}return function(_,A,m){return A&&b(_.prototype,A),m&&b(_,m),_}}(),O=h(3),y=l(O),g=h(8),f=l(g),i=h(43),e=l(i),t=h(15),s=h(41),a=l(s);function l(b){return b&&b.__esModule?b:{default:b}}function r(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function o(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function u(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],c=function(b){u(_,b);function _(A,m){r(this,_),m.modules.toolbar!=null&&m.modules.toolbar.container==null&&(m.modules.toolbar.container=n);var p=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,m));return p.quill.container.classList.add("ql-bubble"),p}return N(_,[{key:"extendToolbar",value:function(m){this.tooltip=new w(this.quill,this.options.bounds),this.tooltip.root.appendChild(m.container),this.buildButtons([].slice.call(m.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(m.container.querySelectorAll("select")),a.default)}}]),_}(e.default);c.DEFAULTS=(0,y.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var w=function(b){u(_,b);function _(A,m){r(this,_);var p=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,m));return p.quill.on(f.default.events.EDITOR_CHANGE,function(v,x,T,L){if(v===f.default.events.SELECTION_CHANGE)if(x!=null&&x.length>0&&L===f.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var C=p.quill.getLines(x.index,x.length);if(C.length===1)p.position(p.quill.getBounds(x));else{var D=C[C.length-1],V=p.quill.getIndex(D),B=Math.min(D.length()-1,x.index+x.length-V),q=p.quill.getBounds(new t.Range(V,B));p.position(q)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return N(_,[{key:"listen",value:function(){var m=this;k(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){m.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!m.root.classList.contains("ql-hidden")){var p=m.quill.getSelection();p!=null&&m.position(m.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(m){var p=k(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,m),v=this.root.querySelector(".ql-tooltip-arrow");if(v.style.marginLeft="",p===0)return p;v.style.marginLeft=-1*p-v.offsetWidth/2+"px"}}]),_}(i.BaseTooltip);w.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),d.BubbleTooltip=w,d.default=c},function(j,d,h){j.exports=h(63)}]).default})})(Xe);var Mt=Xe.exports,Bt=ge&&ge.__extends||function(){var ne=function(Y,j){return ne=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var k in h)h.hasOwnProperty(k)&&(d[k]=h[k])},ne(Y,j)};return function(Y,j){ne(Y,j);function d(){this.constructor=Y}Y.prototype=j===null?Object.create(j):(d.prototype=j.prototype,new d)}}(),Le=ge&&ge.__assign||function(){return Le=Object.assign||function(ne){for(var Y,j=1,d=arguments.length;j<d;j++){Y=arguments[j];for(var h in Y)Object.prototype.hasOwnProperty.call(Y,h)&&(ne[h]=Y[h])}return ne},Le.apply(this,arguments)},Dt=ge&&ge.__spreadArrays||function(){for(var ne=0,Y=0,j=arguments.length;Y<j;Y++)ne+=arguments[Y].length;for(var d=Array(ne),h=0,Y=0;Y<j;Y++)for(var k=arguments[Y],N=0,O=k.length;N<O;N++,h++)d[h]=k[N];return d},qe=ge&&ge.__importDefault||function(ne){return ne&&ne.__esModule?ne:{default:ne}},ve=qe(de),Ct=qe(it),Ae=qe(Et),Ce=qe(Mt),Ft=function(ne){Bt(Y,ne);function Y(j){var d=ne.call(this,j)||this;d.dirtyProps=["modules","formats","bounds","theme","children"],d.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],d.state={generation:0},d.selection=null,d.onEditorChange=function(k,N,O,y){var g,f,i,e;k==="text-change"?(f=(g=d).onEditorChangeText)===null||f===void 0||f.call(g,d.editor.root.innerHTML,N,y,d.unprivilegedEditor):k==="selection-change"&&((e=(i=d).onEditorChangeSelection)===null||e===void 0||e.call(i,N,y,d.unprivilegedEditor))};var h=d.isControlled()?j.value:j.defaultValue;return d.value=h??"",d}return Y.prototype.validateProps=function(j){var d;if(ve.default.Children.count(j.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ve.default.Children.count(j.children)){var h=ve.default.Children.only(j.children);if(((d=h)===null||d===void 0?void 0:d.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&j.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},Y.prototype.shouldComponentUpdate=function(j,d){var h=this,k;if(this.validateProps(j),!this.editor||this.state.generation!==d.generation)return!0;if("value"in j){var N=this.getEditorContents(),O=(k=j.value,k??"");this.isEqualValue(O,N)||this.setEditorContents(this.editor,O)}return j.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,j.readOnly),Dt(this.cleanProps,this.dirtyProps).some(function(y){return!Ae.default(j[y],h.props[y])})},Y.prototype.shouldComponentRegenerate=function(j){var d=this;return this.dirtyProps.some(function(h){return!Ae.default(j[h],d.props[h])})},Y.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},Y.prototype.componentWillUnmount=function(){this.destroyEditor()},Y.prototype.componentDidUpdate=function(j,d){var h=this;if(this.editor&&this.shouldComponentRegenerate(j)){var k=this.editor.getContents(),N=this.editor.getSelection();this.regenerationSnapshot={delta:k,selection:N},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==d.generation){var O=this.regenerationSnapshot,k=O.delta,y=O.selection;delete this.regenerationSnapshot,this.instantiateEditor();var g=this.editor;g.setContents(k),Fe(function(){return h.setEditorSelection(g,y)})}},Y.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},Y.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},Y.prototype.isControlled=function(){return"value"in this.props},Y.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},Y.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},Y.prototype.createEditor=function(j,d){var h=new Ce.default(j,d);return d.tabIndex!=null&&this.setEditorTabIndex(h,d.tabIndex),this.hookEditor(h),h},Y.prototype.hookEditor=function(j){this.unprivilegedEditor=this.makeUnprivilegedEditor(j),j.on("editor-change",this.onEditorChange)},Y.prototype.unhookEditor=function(j){j.off("editor-change",this.onEditorChange)},Y.prototype.getEditorContents=function(){return this.value},Y.prototype.getEditorSelection=function(){return this.selection},Y.prototype.isDelta=function(j){return j&&j.ops},Y.prototype.isEqualValue=function(j,d){return this.isDelta(j)&&this.isDelta(d)?Ae.default(j.ops,d.ops):Ae.default(j,d)},Y.prototype.setEditorContents=function(j,d){var h=this;this.value=d;var k=this.getEditorSelection();typeof d=="string"?j.setContents(j.clipboard.convert(d)):j.setContents(d),Fe(function(){return h.setEditorSelection(j,k)})},Y.prototype.setEditorSelection=function(j,d){if(this.selection=d,d){var h=j.getLength();d.index=Math.max(0,Math.min(d.index,h-1)),d.length=Math.max(0,Math.min(d.length,h-1-d.index)),j.setSelection(d)}},Y.prototype.setEditorTabIndex=function(j,d){var h,k;!((k=(h=j)===null||h===void 0?void 0:h.scroll)===null||k===void 0)&&k.domNode&&(j.scroll.domNode.tabIndex=d)},Y.prototype.setEditorReadOnly=function(j,d){d?j.disable():j.enable()},Y.prototype.makeUnprivilegedEditor=function(j){var d=j;return{getHTML:function(){return d.root.innerHTML},getLength:d.getLength.bind(d),getText:d.getText.bind(d),getContents:d.getContents.bind(d),getSelection:d.getSelection.bind(d),getBounds:d.getBounds.bind(d)}},Y.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var j=Ct.default.findDOMNode(this.editingArea);if(!j)throw new Error("Cannot find element for editing area");if(j.nodeType===3)throw new Error("Editing area cannot be a text node");return j},Y.prototype.renderEditingArea=function(){var j=this,d=this.props,h=d.children,k=d.preserveWhitespace,N=this.state.generation,O={key:N,ref:function(y){j.editingArea=y}};return ve.default.Children.count(h)?ve.default.cloneElement(ve.default.Children.only(h),O):k?ve.default.createElement("pre",Le({},O)):ve.default.createElement("div",Le({},O))},Y.prototype.render=function(){var j;return ve.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(j=this.props.className,j??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},Y.prototype.onEditorChangeText=function(j,d,h,k){var N,O;if(this.editor){var y=this.isDelta(this.value)?k.getContents():k.getHTML();y!==this.getEditorContents()&&(this.lastDeltaChangeSet=d,this.value=y,(O=(N=this.props).onChange)===null||O===void 0||O.call(N,j,d,h,k))}},Y.prototype.onEditorChangeSelection=function(j,d,h){var k,N,O,y,g,f;if(this.editor){var i=this.getEditorSelection(),e=!i&&j,t=i&&!j;Ae.default(j,i)||(this.selection=j,(N=(k=this.props).onChangeSelection)===null||N===void 0||N.call(k,j,d,h),e?(y=(O=this.props).onFocus)===null||y===void 0||y.call(O,j,d,h):t&&((f=(g=this.props).onBlur)===null||f===void 0||f.call(g,i,d,h)))}},Y.prototype.focus=function(){this.editor&&this.editor.focus()},Y.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},Y.displayName="React Quill",Y.Quill=Ce.default,Y.defaultProps={theme:"snow",modules:{},readOnly:!1},Y}(ve.default.Component);function Fe(ne){Promise.resolve().then(ne)}var Ut=Ft;const Ht=ot(Ut),zt=({name:ne,control:Y,label:j,...d})=>{const{field:h}=yt({name:ne,control:Y,defaultValue:""}),k=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c5c5c"],N={toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image"],[{color:k},{background:k}],[{align:[]}],["clean"]]},clipboard:{matchVisual:!1}},O=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","align"];return I.jsxs("div",{className:`mb-4 ${d.className||""}`,children:[j&&I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:j}),I.jsx(Ht,{theme:"snow",value:h.value,onChange:(y,g,f,i)=>{h.onChange(i.getHTML())},modules:N,formats:O,placeholder:d.placeholder,className:"bg-white rounded-md [&_.ql-editor]:min-h-[150px]"})]})},Qe=zt,Kt=ne=>{const Y={title:ce().required("Title is required"),submittedBy:ne!=="Author"?ce().required("Author is required"):ce().notRequired(),abstract:ce().required("Abstract is required"),keywords:ce(),references:ce(),journalId:ce().required("Journal is required"),manuscriptFile:mt().test("fileRequired","Manuscript file is required",j=>ne==="EDIT_MODE"?!0:!!j).test("fileType","Only PDF, DOC or DOCX files are accepted",j=>{if(!j)return!0;const d=Array.isArray(j)?j[0]:j;return d&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(d.type)}).test("fileSize","File size must be less than 10MB",j=>{if(!j)return!0;const d=Array.isArray(j)?j[0]:j;return d&&d.size<=10485760})};return ne!=="Author"?je().shape({...Y,submittedBy:ce().required("Author is required")}):je().shape(Y)};function Vt({open:ne,setOpen:Y,title:j,id:d,edit:h,setEdit:k,refetch:N}){var w,b,_,A,m,p;const[O,y]=de.useState(""),g=We({}),f=xt({}),{user:i}=Ue(),e=Kt((i==null?void 0:i.role)||""),{data:t,isFetching:s}=Oe({api:`${ye.getSubmissionsById}/${d}`,options:{enabled:h}}),a=Oe({api:`${ye.getAllJournal}?page=1&limit=100`,options:{enabled:!0}}),l=Oe({api:`${ye.getAvailableAuthors}?page=1&limit=100`,options:{enabled:!0}}),r=He({defaultValues:{title:"",abstract:"",references:"",keywords:"",journalId:"",manuscriptFile:void 0,...(i==null?void 0:i.role)!=="Author"&&{submittedBy:""}},resolver:ze(e)}),o=v=>{if(v.target.files&&v.target.files[0]){const x=v.target.files[0];if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(x.type)){he.error("Only PDF, DOC or DOCX files are allowed");return}if(x.size>10*1024*1024){he.error("File size should not exceed 10MB");return}r.setValue("manuscriptFile",x),y(x.name),he.success("Manuscript file selected successfully")}},u=()=>{r.setValue("manuscriptFile",""),y("")},n=async v=>{var x,T,L,C;try{const D=new FormData;if(D.append("title",v.title),D.append("abstract",v.abstract),(i==null?void 0:i.role)!=="Author"&&(v!=null&&v.submittedBy)&&D.append("submittedBy",v==null?void 0:v.submittedBy),v.keywords){const V=v.keywords.split(",").map(B=>B.trim()).filter(B=>B);D.append("keywords",JSON.stringify(V))}if(D.append("journalId",v.journalId),v.manuscriptFile&&typeof v.manuscriptFile!="string"){const V=Array.isArray(v.manuscriptFile)?v.manuscriptFile[0]:v.manuscriptFile;D.append("manuscriptFile",V)}if(h&&d){const V=await f.mutateAsync({api:`${ye.updateSubmissions}/${d}`,data:D,headers:{"Content-Type":"multipart/form-data"}});(x=V.data)!=null&&x.success?he.success((T=V==null?void 0:V.data)==null?void 0:T.message):he.error("Submission not updated successfully")}else{const V=await g.mutateAsync({api:ye.createSubmissions,data:D,headers:{"Content-Type":"multipart/form-data"}});(L=V.data)!=null&&L.success?he.success((C=V==null?void 0:V.data)==null?void 0:C.message):he.error("Submission not created successfully")}Y(!1),k&&k(!1),N&&N()}catch{he.error("Failed to submit the form")}};de.useEffect(()=>{var v,x,T,L,C,D,V,B,q,E,P,R,U,F;if(h&&t){const S={title:(v=t==null?void 0:t.data)==null?void 0:v.title,abstract:(x=t==null?void 0:t.data)==null?void 0:x.abstract,references:(T=t==null?void 0:t.data)==null?void 0:T.references,keywords:(C=(L=t==null?void 0:t.data)==null?void 0:L.keywords)==null?void 0:C.join(", "),journalId:((V=(D=t==null?void 0:t.data)==null?void 0:D.journalId)==null?void 0:V._id)||((B=t==null?void 0:t.data)==null?void 0:B.journalId),manuscriptFile:(q=t==null?void 0:t.data)==null?void 0:q.manuscriptFile};(i==null?void 0:i.role)!=="Author"&&(S.submittedBy=((P=(E=t==null?void 0:t.data)==null?void 0:E.submittedBy)==null?void 0:P._id)||((R=t==null?void 0:t.data)==null?void 0:R.submittedBy)),r.reset(S),(U=t==null?void 0:t.data)!=null&&U.manuscriptFile&&y(((F=t==null?void 0:t.data)==null?void 0:F.manuscriptFile.split("/").pop())||"Current manuscript file")}else{const S={title:"",abstract:"",references:"",keywords:"",journalId:"",manuscriptFile:void 0};(i==null?void 0:i.role)!=="Author"&&(S.submittedBy=""),r.reset(S),y("")}},[h,t,r.reset,i==null?void 0:i.role]);const c=()=>{const v=r.formState.errors,x=Object.entries(v).map(([,T])=>T==null?void 0:T.message).filter(Boolean);x.length>0&&he.error(x.join(", "))};return I.jsx($e,{open:ne,setOpen:Y,title:j,setEdit:k,edit:h,isLoading:s,children:I.jsx(Ke,{methods:r,onSubmit:r.handleSubmit(n,c),children:I.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[I.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[(i==null?void 0:i.role)!=="Author"&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Author Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(Se,{name:"submittedBy",label:"Select Author",data:(_=(b=(w=l==null?void 0:l.data)==null?void 0:w.data)==null?void 0:b.docs)==null?void 0:_.map(v=>({label:v.fullName,value:v._id})),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Ge,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"relative",children:I.jsx(ke,{name:"title",label:"Submission Title",placeholder:"Enter a descriptive title for your submission",className:"pr-2 pl-2"})}),I.jsx("div",{className:"relative w-full",children:I.jsx(Qe,{name:"abstract",control:r.control,label:"Abstract",placeholder:"Enter your abstract here..."})}),I.jsx("div",{className:"flex flex-col w-full",children:I.jsx(Ye,{control:r.control,name:"keywords",label:"Keywords",placeholder:"Type and press Enter to add keywords"})})]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(Se,{name:"journalId",label:"Select Journal",data:(p=(m=(A=a==null?void 0:a.data)==null?void 0:A.data)==null?void 0:m.docs)==null?void 0:p.map(v=>({label:v.title,value:v._id})),className:"pr-2 pl-2"})})]}),I.jsx("div",{className:"relative w-full",children:I.jsx(gt,{name:"references",label:"References",placeholder:"Enter your references here...",rows:8,className:"w-full border rounded-md p-1 shadow-sm"})}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(At,{className:"h-5 w-5 mr-2 text-blue-600"}),"Manuscript File"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-4 bg-blue-50 hover:bg-blue-100 transition-colors",children:I.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[I.jsx(Me,{className:"h-10 w-10 text-blue-500"}),I.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Upload your manuscript file (PDF, DOC, DOCX - max 10MB)"}),I.jsx("input",{type:"file",id:"manuscriptUpload",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:o,className:"hidden"}),I.jsxs("label",{htmlFor:"manuscriptUpload",className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[I.jsx(Me,{className:"h-4 w-4 inline mr-2"}),"Select Manuscript File"]})]})}),O&&I.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),I.jsx("span",{className:"text-gray-700 font-medium",children:O})]}),I.jsx("button",{type:"button",onClick:u,className:"text-red-500 hover:text-red-700",children:I.jsx(bt,{className:"h-4 w-4"})})]})})]})]})]}),I.jsx("div",{className:"mt-4",children:I.jsxs(Ve,{isLoading:r.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:r.formState.isSubmitting,children:[I.jsx(Ze,{className:"h-5 w-5 mr-2"}),h?"Update Submission":"Submit Manuscript"]})})]})})})}const $t=ne=>{const Y={title:ce().required("Title is required"),submittedBy:ne!=="Author"?ce().required("Author is required"):ce().notRequired(),abstract:ce().required("Abstract is required"),keywords:ce(),issueId:ce().required("Issue  is required"),submissionId:ce(),doi:ce(),pages:ce().matches(/^\d+-\d+$/,"Pages must be in format XXXX-XXXX"),publicationDate:ce().required("Publication date is required")};return ne!=="Author"?je().shape({...Y,submittedBy:ce().required("Author is required")}):je().shape(Y)};function Zt({open:ne,setOpen:Y,title:j,id:d,edit:h,setEdit:k,refetch:N}){var u,n,c,w,b,_;const[O,y]=de.useState(""),g=We({}),{user:f}=Ue(),i=$t((f==null?void 0:f.role)||""),{data:e,isFetching:t}=Oe({api:`${ye.getSubmissionsById}/${d}`,options:{enabled:h}}),s=Oe({api:`${ye.getAllIssue}?page=1&limit=100`,options:{enabled:!0}}),a=Oe({api:`${ye.getAvailableAuthors}?page=1&limit=100`,options:{enabled:!0}}),l=He({defaultValues:{title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",...(f==null?void 0:f.role)!=="Author"&&{submittedBy:""}},resolver:ze(i)}),r=async A=>{var m,p,v;try{const x={title:A.title,abstract:A.abstract,issueId:A.issueId,submissionId:d,doi:A.doi,pages:A.pages,publicationDate:A.publicationDate,manuscriptFile:(m=e==null?void 0:e.data)==null?void 0:m.fullManuscriptUrl};if((f==null?void 0:f.role)!=="Author"&&(A!=null&&A.submittedBy)&&(x.submittedBy=A.submittedBy),A.keywords){const T=A.keywords.split(",").map(L=>L.trim()).filter(L=>L);x.keywords=T}if(h&&d){const T=await g.mutateAsync({api:ye.createPublication,data:x});(p=T.data)!=null&&p.success?he.success((v=T==null?void 0:T.data)==null?void 0:v.message):he.error("Submission not created successfully")}Y(!1),k&&k(!1),N&&N()}catch{he.error("Failed to submit the form")}};de.useEffect(()=>{var A,m,p,v,x,T,L,C,D,V,B,q;if(h&&e){const E={title:(A=e==null?void 0:e.data)==null?void 0:A.title,abstract:(m=e==null?void 0:e.data)==null?void 0:m.abstract,keywords:(v=(p=e==null?void 0:e.data)==null?void 0:p.keywords)==null?void 0:v.join(", "),journalId:((T=(x=e==null?void 0:e.data)==null?void 0:x.journalId)==null?void 0:T._id)||((L=e==null?void 0:e.data)==null?void 0:L.journalId)};(f==null?void 0:f.role)!=="Author"&&(E.submittedBy=((D=(C=e==null?void 0:e.data)==null?void 0:C.submittedBy)==null?void 0:D._id)||((V=e==null?void 0:e.data)==null?void 0:V.submittedBy)),l.reset(E),(B=e==null?void 0:e.data)!=null&&B.fullManuscriptUrl&&y(((q=e==null?void 0:e.data)==null?void 0:q.fullManuscriptUrl.split("/").pop())||"Current manuscript file")}else{const E={title:"",abstract:"",keywords:"",issueId:""};(f==null?void 0:f.role)!=="Author"&&(E.submittedBy=""),l.reset(E),y("")}},[h,e,l.reset,f==null?void 0:f.role]);const o=()=>{const A=l.formState.errors,m=Object.entries(A).map(([,p])=>p==null?void 0:p.message).filter(Boolean);m.length>0&&he.error(m.join(", "))};return I.jsx($e,{open:ne,setOpen:Y,title:j,setEdit:k,edit:h,isLoading:t,children:I.jsx(Ke,{methods:l,onSubmit:l.handleSubmit(r,o),children:I.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[I.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[(f==null?void 0:f.role)!=="Author"&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Author Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(Se,{name:"submittedBy",label:"Select Author",data:(c=(n=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:n.docs)==null?void 0:c.map(A=>({label:A.fullName,value:A._id})),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Ge,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"relative",children:I.jsx(ke,{name:"title",label:"Submission Title",placeholder:"Enter a descriptive title for your submission",className:"pr-2 pl-2"})}),I.jsx("div",{className:"relative w-full",children:I.jsx(Qe,{name:"abstract",control:l.control,label:"Abstract",placeholder:"Enter your abstract here..."})}),I.jsx("div",{className:"flex flex-col w-full",children:I.jsx(Ye,{control:l.control,name:"keywords",label:"Keywords",placeholder:"Type and press Enter to add keywords"})})]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(Se,{name:"issueId",label:"Select Issue",data:(_=(b=(w=s==null?void 0:s.data)==null?void 0:w.data)==null?void 0:b.docs)==null?void 0:_.map(A=>{var m;return{label:`${(m=A.journal)==null?void 0:m.title} - Vol. ${A.volume}, No. ${A.issueNumber}`,value:A._id}}),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(_t,{className:"h-5 w-5 mr-2 text-blue-600"}),"Publication Details"]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Pt,{className:"h-4 w-4 text-blue-600"}),I.jsx(ke,{name:"publicationDate",label:"Publication Date",type:"date",className:"pr-2 pl-2"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Ot,{className:"h-4 w-4 text-blue-600"}),I.jsx(ke,{name:"doi",label:"DOI",placeholder:"e.g., 10.1000/xyz123",className:"pr-2 pl-2"})]})]}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Lt,{className:"h-4 w-4 text-blue-600"}),I.jsx(ke,{name:"pages",label:"Page Range",placeholder:"e.g., 123-145",className:"pr-2 pl-2"})]})})]}),O&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Ee,{className:"h-5 w-5 mr-2 text-blue-600"}),"Manuscript File"]}),I.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),I.jsx("span",{className:"text-gray-700 font-medium",children:O})]})})]})]}),I.jsx("div",{className:"mt-4",children:I.jsxs(Ve,{isLoading:l.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:l.formState.isSubmitting,children:[I.jsx(Ze,{className:"h-5 w-5 mr-2"}),h?"Update Publication":"Submit Manuscript"]})})]})})})}function Wt(){var p,v,x,T,L,C,D,V,B,q,E,P,R,U,F,S,M,H,z,Z,Q,ee,te,re;const ne=lt(),[Y,j]=de.useState(1),[d,h]=de.useState(10),[k,N]=de.useState(""),[O,y]=de.useState(!1),[g,f]=de.useState(!1),[i,e]=de.useState(""),[t,s]=de.useState(!1),[a,l]=de.useState(!1),[r,o]=de.useState("all"),u=Oe({api:`${ye.getAllSubmissions}?page=${Y}&limit=${d}&q=${k}${r!=="all"?`&status=${r}`:""}`,key:"getAllSubmissions",value:[Y,d,k,r],options:{enabled:!0}}),n=W=>{f(!0),s(!0),e(W)},c=W=>{y(!0),l(!0),e(W)},w=W=>{ne(`/journal/submissions/${W}`)},b=W=>{N(W.target.value)},_=W=>{W.preventDefault(),j(1),u.refetch()},A=W=>{o(W),j(1)},m=({submission:W,handleViewDetails:se})=>{var ae,K;return I.jsx(st,{className:"mb-4",children:I.jsxs(ft,{className:"pt-4",children:[I.jsxs("div",{className:"flex justify-between items-start mb-2",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-medium",children:W==null?void 0:W.title}),I.jsxs("p",{className:"text-sm text-gray-500",children:[(ae=W==null?void 0:W.journal)==null?void 0:ae.title," • Submitted by ",(K=W==null?void 0:W.author)==null?void 0:K.fullName]})]}),I.jsx(Be,{variant:"outline"})]}),I.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:W==null?void 0:W.abstract}),I.jsxs("div",{className:"flex justify-between items-center mt-2",children:[I.jsxs("div",{className:"flex gap-2",children:[I.jsxs(we,{size:"sm",onClick:()=>n(W==null?void 0:W._id),className:"flex items-center gap-1",children:[I.jsx(De,{size:14})," Edit"]}),I.jsxs(we,{size:"sm",variant:"destructive",className:"flex items-center gap-1",children:[I.jsx(Ie,{size:14})," Delete"]})]}),I.jsx("div",{className:"flex ",children:I.jsxs(we,{size:"sm",variant:"outline",onClick:()=>se(W==null?void 0:W._id),children:[I.jsx(Ee,{size:14,className:"mr-2"})," View Details"]})})]})]})})};return I.jsxs("main",{className:"container mx-auto px-4 py-6",children:[I.jsx(Vt,{open:g,setOpen:f,title:t?"Edit Submission":"Add Submission",id:i,edit:t,setEdit:s,refetch:u.refetch}),I.jsx(Zt,{open:O,setOpen:y,title:a?"Publication":"Add Publication",id:i,edit:a,setEdit:l,refetch:u.refetch}),I.jsx("div",{className:"bg-white rounded-lg shadow",children:I.jsxs("div",{className:"p-4 md:p-6",children:[I.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx(at,{className:"text-xl font-bold",children:"Submission Management"}),I.jsxs(we,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{s(!1),e(""),f(!0)},children:[I.jsx(qt,{size:18}),"Add Submission"]})]}),I.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[I.jsx(wt,{defaultValue:"all",value:r,onValueChange:A,className:"w-full md:w-auto",children:I.jsxs(Nt,{className:"w-full grid grid-cols-5 bg-gray-100 p-1 rounded-lg",children:[I.jsx(Ne,{value:"all",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"All"}),I.jsx(Ne,{value:"submitted",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Submitted"}),I.jsx(Ne,{value:"under_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Reviewing"}),I.jsx(Ne,{value:"completed_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Completed"}),I.jsx(Ne,{value:"rejected_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Rejected"})]})}),I.jsxs("form",{onSubmit:_,className:"relative w-full md:w-64",children:[I.jsx("input",{type:"text",placeholder:"Search submissions...",value:k,onChange:b,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),I.jsx(Rt,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),I.jsxs(ut,{className:"mb-4",children:["Total ",r==="all"?"Reviews":r==="submitted"?"Submitted":r==="under_review"?"Under Review":r==="rejected_review"?"Rejected Review":"Completed Review"," Submissions: ",((v=(p=u==null?void 0:u.data)==null?void 0:p.data)==null?void 0:v.totalDocs)||0]}),u!=null&&u.isLoading?I.jsx("div",{className:"flex h-32 items-center justify-center",children:I.jsx(tt,{})}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hidden md:block overflow-x-auto",children:I.jsxs(ct,{children:[I.jsx(dt,{children:I.jsxs(Re,{children:[I.jsx(xe,{className:"w-12",children:"#"}),I.jsx(xe,{children:"Title"}),I.jsx(xe,{children:"Journal"}),I.jsx(xe,{children:"Submitted By"}),I.jsx(xe,{children:"Status"}),I.jsx(xe,{className:"text-right",children:"Actions"})]})}),I.jsx(ht,{children:((L=(T=(x=u==null?void 0:u.data)==null?void 0:x.data)==null?void 0:T.docs)==null?void 0:L.length)===0?I.jsx(Re,{children:I.jsxs(_e,{colSpan:7,className:"text-center py-8",children:["No ",r==="all"?"":r==="submitted"?"submitted":r==="under_review"?"under review":"completed review"," submissions found"]})}):(V=(D=(C=u==null?void 0:u.data)==null?void 0:C.data)==null?void 0:D.docs)==null?void 0:V.map((W,se)=>{var ae,K;return I.jsxs(Re,{children:[I.jsx(_e,{children:Y*d-d+se+1}),I.jsx(_e,{className:"font-medium",children:W==null?void 0:W.title}),I.jsx(_e,{children:(ae=W==null?void 0:W.journal)==null?void 0:ae.title}),I.jsx(_e,{children:(K=W==null?void 0:W.author)==null?void 0:K.fullName}),I.jsx(_e,{children:I.jsx(Be,{variant:"outline",className:`capitalize ${(W==null?void 0:W.status)==="submitted"?"bg-blue-50 text-blue-700 border-blue-200":(W==null?void 0:W.status)==="under_review"?"bg-amber-50 text-amber-700 border-amber-200":(W==null?void 0:W.status)==="rejected_review"?"bg-red-50 text-red-500 border-black":"bg-green-50 text-green-700 border-green-200"}`,children:(W==null?void 0:W.status)||"N/A"})}),I.jsx(_e,{className:"text-right",children:I.jsxs(Tt,{children:[I.jsx(St,{asChild:!0,children:I.jsxs(we,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",I.jsx(nt,{size:14})]})}),I.jsxs(jt,{align:"end",children:[I.jsxs(Te,{onClick:()=>n(W==null?void 0:W._id),children:[I.jsx(De,{size:14,className:"mr-2"})," Edit"]}),I.jsxs(Te,{onClick:()=>w(W==null?void 0:W._id),children:[I.jsx(Ee,{size:14,className:"mr-2"})," View Details"]}),I.jsxs(Te,{onClick:()=>c(W==null?void 0:W._id),children:[I.jsx(Ee,{size:14,className:"mr-2"})," Publication"]}),I.jsxs(Te,{className:"text-red-600",children:[I.jsx(Ie,{size:14,className:"mr-2"})," Delete"]})]})]})})]},W==null?void 0:W._id)})})]})}),I.jsx("div",{className:"md:hidden",children:((E=(q=(B=u==null?void 0:u.data)==null?void 0:B.data)==null?void 0:q.docs)==null?void 0:E.length)===0?I.jsxs("div",{className:"text-center py-8",children:["No ",r==="all"?"":r==="submitted"?"submitted":r==="under_review"?"under review":"completed review"," submissions found"]}):(U=(R=(P=u==null?void 0:u.data)==null?void 0:P.data)==null?void 0:R.docs)==null?void 0:U.map((W,se)=>I.jsx(m,{submission:W,index:se,handleViewDetails:w},W==null?void 0:W._id))}),I.jsx(kt,{className:"my-4"}),I.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[I.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(Y-1)*d+1," to ",Math.min(Y*d,((S=(F=u==null?void 0:u.data)==null?void 0:F.data)==null?void 0:S.totalDocs)||0)," of ",((H=(M=u==null?void 0:u.data)==null?void 0:M.data)==null?void 0:H.totalDocs)||0," entries"]}),I.jsx(pt,{page:Y,perPage:d,totalPage:(Z=(z=u==null?void 0:u.data)==null?void 0:z.data)==null?void 0:Z.totalDocs,hasNextPage:(ee=(Q=u==null?void 0:u.data)==null?void 0:Q.data)==null?void 0:ee.hasNextPage,hasPrevPage:(re=(te=u==null?void 0:u.data)==null?void 0:te.data)==null?void 0:re.hasPrevPage,setPage:j,setPerPage:h})]})]})]})})]})}function kn(){return I.jsx(rt,{title:"Submission List",children:I.jsx("div",{children:I.jsx(Wt,{})})})}export{kn as default};
