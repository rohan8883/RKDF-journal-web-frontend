import{j as e,I as m,u,a as x,_ as o}from"./index-28nypth3.js";import{u as p,a as g,o as h,F as f,R as j,B as y,c as w,b as i}from"./useCustomQuery-DJCcqIQ9.js";import{g as b}from"./services-KQnp_8oA.js";import{R as N}from"./RHFPasswordField-CrXRDigL.js";import{L}from"./router-DMIetGpf.js";import{P as v}from"./index-DonUvE_z.js";import"./axios-DmypytPv.js";function F(){return e.jsxs("div",{className:"px-6 lg:px-0 mx-auto max-w-sm py-2 ",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(m,{src:"/HeaderLogo.png",width:80,height:100,alt:"Logo",className:"rounded-full"})}),e.jsx("h1",{className:"text-xl font-bold text-center text-primary",children:"Welcome Back"}),e.jsx("p",{className:"text-center mt-2 text-muted-foreground",children:"Login to your account"})]})}const S=w({email:i().email().required(),password:i().min(5)});function P(){const n=p({}),{login:l}=u(),s=g({defaultValues:{email:"",password:""},resolver:h(S)}),d=async c=>{var r,t;try{const a=await n.mutateAsync({api:x.login,data:c});(r=a==null?void 0:a.data)!=null&&r.success?await l(a):o.error((t=a==null?void 0:a.data)==null?void 0:t.message)}catch(a){o.error(b(a))}};return e.jsx(f,{methods:s,onSubmit:s.handleSubmit(d),children:e.jsxs("div",{className:"space-y-4 ",children:[e.jsx("div",{className:"space-y-2",children:e.jsx(j,{className:"rounded  py-4 px-5 w-full bg-background",name:"email",inputValidation:["email","removeSpace"],placeholder:"Enter your email"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(N,{className:"rounded py-4 px-5 w-full bg-background",name:"password",placeholder:"Enter your password"})}),e.jsx("div",{children:e.jsx(y,{type:"submit",isLoading:s.formState.isSubmitting,className:"w-full rounded  py-4 px-4 mt-2 shadow-none",variant:"outline",children:"Login"})}),e.jsx("div",{className:"text-center",children:e.jsx(L,{to:"/journal/auth/forget-password",children:e.jsx("span",{className:"text-sm text-primary",children:"Forget password?"})})})]})})}function M(){return e.jsx(v,{title:"Login",children:e.jsxs("div",{className:"flex flex-col w-full justify-center p-6 lg:p-10 mx-auto max-w-sm border border-primary rounded-lg border-b-4 shadow-md ",children:[e.jsx(F,{}),e.jsx(P,{})]})})}export{M as default};
