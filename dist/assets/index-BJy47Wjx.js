import{c as St,j as s,l as ee,_ as O,B as pe,S as Kt,C as Zt}from"./index-28nypth3.js";import{P as Qt}from"./index-DonUvE_z.js";import{r as u,R as b,t as ft,a as Jt}from"./router-DMIetGpf.js";import{c as en,d as tn,C as nn,a as rn}from"./card-CvN-M-qi.js";import{T as ln,a as an,b as He,c as oe,d as on,e as Q,P as sn}from"./index-T0kutfHW.js";import{u as cn,k as Ft,l as Re,a as un,o as dn,F as fn,n as mn,R as Pe,B as pn,c as hn,b as me,p as vn}from"./useCustomQuery-DJCcqIQ9.js";import{R as gn,S as Tt}from"./separator-BE2tWqEJ.js";import{R as xn}from"./RHFUploadFiled-Dd6Xpbmf.js";import{D as bn}from"./index-BI5uV9xV.js";import{g as mt}from"./services-KQnp_8oA.js";import{n as M,u as Le,o as ve,s as ge,a as he,p as Xe,b as F,t as Ke,c as je,K as I,y as V,T as En,L as H,d as wn,f as Be,e as qe,O as ze,A as se,m as yn,g as jn,H as Nn,w as $n,Y as pt}from"./switch-cchuJY35.js";import{B as ht}from"./badge-Buxkn7MR.js";import{D as Cn,a as Sn,b as Fn,c as vt,S as gt}from"./dropdown-menu-24AWFc5K.js";import{S as Tn}from"./search-0i0XZ5Oq.js";import{C as Pn}from"./circle-plus-tIKXcEGq.js";import{B as Rn}from"./badge-check-DLPp1Tdi.js";import"./axios-DmypytPv.js";import"./check-BlNKLXrO.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=St("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=St("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);let Ln=u.createContext(()=>{});function An({value:e,children:t}){return b.createElement(Ln.Provider,{value:e},t)}let Mn=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Pt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...o){let i=t[l].call(n,...o);i&&(n=i,r.forEach(c=>c()))}}}function Rt(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let In=new Mn(()=>Pt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function xe(e,t){let n=In.get(t),r=u.useId(),l=Rt(n);if(M(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let o=l.indexOf(r),i=l.length;return o===-1&&(o=i,i+=1),o===i-1}let We=new Map,Ne=new Map;function bt(e){var t;let n=(t=Ne.get(e))!=null?t:0;return Ne.set(e,n+1),n!==0?()=>Et(e):(We.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>Et(e))}function Et(e){var t;let n=(t=Ne.get(e))!=null?t:1;if(n===1?Ne.delete(e):Ne.set(e,n-1),n!==1)return;let r=We.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,We.delete(e))}function On(e,{allowed:t,disallowed:n}={}){let r=xe(e,"inert-others");M(()=>{var l,o;if(!r)return;let i=ve();for(let a of(l=n==null?void 0:n())!=null?l:[])a&&i.add(bt(a));let c=(o=t==null?void 0:t())!=null?o:[];for(let a of c){if(!a)continue;let f=Le(a);if(!f)continue;let m=a.parentElement;for(;m&&m!==f.body;){for(let x of m.children)c.some(g=>x.contains(g))||i.add(bt(x));m=m.parentElement}}return i.dispose},[r,t,n])}function Dn(e,t,n){let r=ge(l=>{let o=l.getBoundingClientRect();o.x===0&&o.y===0&&o.width===0&&o.height===0&&n()});u.useEffect(()=>{if(!e)return;let l=t===null?null:t instanceof HTMLElement?t:t.current;if(!l)return;let o=ve();if(typeof ResizeObserver<"u"){let i=new ResizeObserver(()=>r.current(l));i.observe(l),o.add(()=>i.disconnect())}if(typeof IntersectionObserver<"u"){let i=new IntersectionObserver(()=>r.current(l));i.observe(l),o.add(()=>i.disconnect())}return()=>o.dispose()},[t,r,e])}let ke=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Un=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var z=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(z||{}),Ve=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ve||{}),Hn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Hn||{});function _n(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ke)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Bn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Un)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var kt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(kt||{});function qn(e,t=0){var n;return e===((n=Le(e))==null?void 0:n.body)?!1:he(t,{0(){return e.matches(ke)},1(){let r=e;for(;r!==null;){if(r.matches(ke))return!0;r=r.parentElement}return!1}})}var zn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(zn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function W(e){e==null||e.focus({preventScroll:!0})}let Wn=["textarea","input"].join(",");function Vn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Wn))!=null?n:!1}function Yn(e,t=n=>n){return e.slice().sort((n,r)=>{let l=t(n),o=t(r);if(l===null||o===null)return 0;let i=l.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function $e(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let o=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,i=Array.isArray(e)?n?Yn(e):e:t&64?Bn(e):_n(e);l.length>0&&i.length>1&&(i=i.filter(h=>!l.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===h:v===h))),r=r??o.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,i.indexOf(r))-1;if(t&4)return Math.max(0,i.indexOf(r))+1;if(t&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=t&32?{preventScroll:!0}:{},m=0,x=i.length,g;do{if(m>=x||m+x<=0)return 0;let h=a+m;if(t&16)h=(h+x)%x;else{if(h<0)return 3;if(h>=x)return 1}g=i[h],g==null||g.focus(f),m+=c}while(g!==o.activeElement);return t&6&&Vn(g)&&g.select(),2}function Lt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Gn(){return/Android/gi.test(window.navigator.userAgent)}function Xn(){return Lt()||Gn()}function we(e,t,n,r){let l=ge(n);u.useEffect(()=>{if(!e)return;function o(i){l.current(i)}return document.addEventListener(t,o,r),()=>document.removeEventListener(t,o,r)},[e,t,r])}function At(e,t,n,r){let l=ge(n);u.useEffect(()=>{if(!e)return;function o(i){l.current(i)}return window.addEventListener(t,o,r),()=>window.removeEventListener(t,o,r)},[e,t,r])}const wt=30;function Kn(e,t,n){let r=xe(e,"outside-click"),l=ge(n),o=u.useCallback(function(a,f){if(a.defaultPrevented)return;let m=f(a);if(m===null||!m.getRootNode().contains(m)||!m.isConnected)return;let x=function g(h){return typeof h=="function"?g(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let g of x)if(g!==null&&(g.contains(m)||a.composed&&a.composedPath().includes(g)))return;return!qn(m,kt.Loose)&&m.tabIndex!==-1&&a.preventDefault(),l.current(a,m)},[l,t]),i=u.useRef(null);we(r,"pointerdown",a=>{var f,m;i.current=((m=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:m[0])||a.target},!0),we(r,"mousedown",a=>{var f,m;i.current=((m=(f=a.composedPath)==null?void 0:f.call(a))==null?void 0:m[0])||a.target},!0),we(r,"click",a=>{Xn()||i.current&&(o(a,()=>i.current),i.current=null)},!0);let c=u.useRef({x:0,y:0});we(r,"touchstart",a=>{c.current.x=a.touches[0].clientX,c.current.y=a.touches[0].clientY},!0),we(r,"touchend",a=>{let f={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(f.x-c.current.x)>=wt||Math.abs(f.y-c.current.y)>=wt))return o(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),At(r,"blur",a=>o(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ce(...e){return u.useMemo(()=>Le(...e),[...e])}function Mt(e,t,n,r){let l=ge(n);u.useEffect(()=>{e=e??window;function o(i){l.current(i)}return e.addEventListener(t,o,r),()=>e.removeEventListener(t,o,r)},[e,t,r])}function Zn(){let e;return{before({doc:t}){var n;let r=t.documentElement,l=(n=t.defaultView)!=null?n:window;e=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),o=Math.max(0,e-l);n.style(r,"paddingRight",`${o}px`)}}}function Qn(){return Lt()?{before({doc:e,d:t,meta:n}){function r(l){return n.containers.flatMap(o=>o()).some(o=>o.contains(l))}t.microTask(()=>{var l;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=ve();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let o=(l=window.scrollY)!=null?l:window.pageYOffset,i=null;t.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let a=c.target.closest("a");if(!a)return;let{hash:f}=new URL(a.href),m=e.querySelector(f);m&&!r(m)&&(i=m)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(c.target instanceof HTMLElement)if(r(c.target)){let a=c.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(c.target instanceof HTMLElement){if(c.target.tagName==="INPUT")return;if(r(c.target)){let a=c.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let a=(c=window.scrollY)!=null?c:window.pageYOffset;o!==a&&window.scrollTo(0,o),i&&i.isConnected&&(i.scrollIntoView({block:"nearest"}),i=null)})})}}:{}}function Jn(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function er(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let ce=Pt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ve(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:er(n)},l=[Qn(),Zn(),Jn()];l.forEach(({before:o})=>o==null?void 0:o(r)),l.forEach(({after:o})=>o==null?void 0:o(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});ce.subscribe(()=>{let e=ce.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",l=n.count!==0;(l&&!r||!l&&r)&&ce.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&ce.dispatch("TEARDOWN",n)}});function tr(e,t,n=()=>({containers:[]})){let r=Rt(ce),l=t?r.get(t):void 0,o=l?l.count>0:!1;return M(()=>{if(!(!t||!e))return ce.dispatch("PUSH",t,n),()=>ce.dispatch("POP",t,n)},[e,t]),o}function nr(e,t,n=()=>[document.body]){let r=xe(e,"scroll-lock");tr(r,t,l=>{var o;return{containers:[...(o=l.containers)!=null?o:[],n]}})}function rr(e=0){let[t,n]=u.useState(e),r=u.useCallback(a=>n(a),[t]),l=u.useCallback(a=>n(f=>f|a),[t]),o=u.useCallback(a=>(t&a)===a,[t]),i=u.useCallback(a=>n(f=>f&~a),[n]),c=u.useCallback(a=>n(f=>f^a),[n]);return{flags:t,setFlag:r,addFlag:l,hasFlag:o,removeFlag:i,toggleFlag:c}}var lr={},yt,jt;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((yt=process==null?void 0:lr)==null?void 0:yt.NODE_ENV)==="test"&&typeof((jt=Element==null?void 0:Element.prototype)==null?void 0:jt.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return[]});var ar=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(ar||{});function or(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function ir(e,t,n,r){let[l,o]=u.useState(n),{hasFlag:i,addFlag:c,removeFlag:a}=rr(e&&l?3:0),f=u.useRef(!1),m=u.useRef(!1),x=Xe();return M(()=>{var g;if(e){if(n&&o(!0),!t){n&&c(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),sr(t,{inFlight:f,prepare(){m.current?m.current=!1:m.current=f.current,f.current=!0,!m.current&&(n?(c(3),a(4)):(c(4),a(2)))},run(){m.current?n?(a(3),c(4)):(a(4),c(3)):n?a(1):c(1)},done(){var h;m.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(f.current=!1,a(7),n||o(!1),(h=r==null?void 0:r.end)==null||h.call(r,n))}})}},[e,n,t,x]),e?[l,{closed:i(1),enter:i(2),leave:i(4),transition:i(2)||i(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function sr(e,{prepare:t,run:n,done:r,inFlight:l}){let o=ve();return ur(e,{prepare:t,inFlight:l}),o.nextFrame(()=>{n(),o.requestAnimationFrame(()=>{o.add(cr(e,r))})}),o.dispose}function cr(e,t){var n,r;let l=ve();if(!e)return l.dispose;let o=!1;l.add(()=>{o=!0});let i=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return i.length===0?(t(),l.dispose):(Promise.allSettled(i.map(c=>c.finished)).then(()=>{o||t()}),l.dispose)}function ur(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Ze(e,t){let n=u.useRef([]),r=F(e);u.useEffect(()=>{let l=[...n.current];for(let[o,i]of t.entries())if(n.current[o]!==i){let c=r(t,l);return n.current=t,c}},[r,...t])}let Ae=u.createContext(null);Ae.displayName="OpenClosedContext";var D=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(D||{});function Me(){return u.useContext(Ae)}function dr({value:e,children:t}){return b.createElement(Ae.Provider,{value:e},t)}function fr({children:e}){return b.createElement(Ae.Provider,{value:null},e)}function mr(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let J=[];mr(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||J[0]===t.target)return;let n=t.target;n=n.closest(ke),J.unshift(n??t.target),J=J.filter(r=>r!=null&&r.isConnected),J.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function It(e){let t=F(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ke(()=>{n.current&&t()})}),[t])}function pr(){let e=typeof document>"u";return"useSyncExternalStore"in ft?(t=>t.useSyncExternalStore)(ft)(()=>()=>{},()=>!1,()=>!e):!1}function Se(){let e=pr(),[t,n]=u.useState(je.isHandoffComplete);return t&&je.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>je.handoff(),[]),e?!1:t}let Ot=u.createContext(!1);function hr(){return u.useContext(Ot)}function Nt(e){return b.createElement(Ot.Provider,{value:e.force},e.children)}function vr(e){let t=hr(),n=u.useContext(Ut),r=Ce(e),[l,o]=u.useState(()=>{var i;if(!t&&n!==null)return(i=n.current)!=null?i:null;if(je.isServer)return null;let c=r==null?void 0:r.getElementById("headlessui-portal-root");if(c)return c;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return u.useEffect(()=>{l!==null&&(r!=null&&r.body.contains(l)||r==null||r.body.appendChild(l))},[l,r]),u.useEffect(()=>{t||n!==null&&o(n.current)},[n,o,t]),l}let Dt=u.Fragment,gr=I(function(e,t){let n=e,r=u.useRef(null),l=V(En(x=>{r.current=x}),t),o=Ce(r),i=vr(r),[c]=u.useState(()=>{var x;return je.isServer?null:(x=o==null?void 0:o.createElement("div"))!=null?x:null}),a=u.useContext(Ye),f=Se();M(()=>{!i||!c||i.contains(c)||(c.setAttribute("data-headlessui-portal",""),i.appendChild(c))},[i,c]),M(()=>{if(c&&a)return a.register(c)},[a,c]),It(()=>{var x;!i||!c||(c instanceof Node&&i.contains(c)&&i.removeChild(c),i.childNodes.length<=0&&((x=i.parentElement)==null||x.removeChild(i)))});let m=H();return f?!i||!c?null:Jt.createPortal(m({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:Dt,name:"Portal"}),c):null});function xr(e,t){let n=V(t),{enabled:r=!0,...l}=e,o=H();return r?b.createElement(gr,{...l,ref:n}):o({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Dt,name:"Portal"})}let br=u.Fragment,Ut=u.createContext(null);function Er(e,t){let{target:n,...r}=e,l={ref:V(t)},o=H();return b.createElement(Ut.Provider,{value:n},o({ourProps:l,theirProps:r,defaultTag:br,name:"Popover.Group"}))}let Ye=u.createContext(null);function wr(){let e=u.useContext(Ye),t=u.useRef([]),n=F(o=>(t.current.push(o),e&&e.register(o),()=>r(o))),r=F(o=>{let i=t.current.indexOf(o);i!==-1&&t.current.splice(i,1),e&&e.unregister(o)}),l=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:o}){return b.createElement(Ye.Provider,{value:l},o)},[l])]}let yr=I(xr),Ht=I(Er),jr=Object.assign(yr,{Group:Ht});function Nr(e,t=typeof document<"u"?document.defaultView:null,n){let r=xe(e,"escape");Mt(t,"keydown",l=>{r&&(l.defaultPrevented||l.key===wn.Escape&&n(l))})}function $r(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=u.useState((e=t==null?void 0:t.matches)!=null?e:!1);return M(()=>{if(!t)return;function l(o){r(o.matches)}return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[t]),n}function Cr({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=Ce(n),l=F(()=>{var o,i;let c=[];for(let a of e)a!==null&&(a instanceof HTMLElement?c.push(a):"current"in a&&a.current instanceof HTMLElement&&c.push(a.current));if(t!=null&&t.current)for(let a of t.current)c.push(a);for(let a of(o=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?o:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((i=n==null?void 0:n.getRootNode())==null?void 0:i.host))||c.some(f=>a.contains(f))||c.push(a));return c});return{resolveContainers:l,contains:F(o=>l().some(i=>i.contains(o)))}}let _t=u.createContext(null);function $t({children:e,node:t}){let[n,r]=u.useState(null),l=Bt(t??n);return b.createElement(_t.Provider,{value:l},e,l===null&&b.createElement(Be,{features:qe.Hidden,ref:o=>{var i,c;if(o){for(let a of(c=(i=Le(o))==null?void 0:i.querySelectorAll("html > *, body > *"))!=null?c:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(o)){r(a);break}}}}))}function Bt(e=null){var t;return(t=u.useContext(_t))!=null?t:e}function Qe(){let e=u.useRef(!1);return M(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var ye=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ye||{});function Sr(){let e=u.useRef(0);return At(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function qt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Fr="div";var ie=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ie||{});function Tr(e,t){let n=u.useRef(null),r=V(n,t),{initialFocus:l,initialFocusFallback:o,containers:i,features:c=15,...a}=e;Se()||(c=0);let f=Ce(n);Lr(c,{ownerDocument:f});let m=Ar(c,{ownerDocument:f,container:n,initialFocus:l,initialFocusFallback:o});Mr(c,{ownerDocument:f,container:n,containers:i,previousActiveElement:m});let x=Sr(),g=F(j=>{let w=n.current;w&&(N=>N())(()=>{he(x.current,{[ye.Forwards]:()=>{$e(w,z.First,{skipElements:[j.relatedTarget,o]})},[ye.Backwards]:()=>{$e(w,z.Last,{skipElements:[j.relatedTarget,o]})}})})}),h=xe(!!(c&2),"focus-trap#tab-lock"),v=Xe(),y=u.useRef(!1),E={ref:r,onKeyDown(j){j.key=="Tab"&&(y.current=!0,v.requestAnimationFrame(()=>{y.current=!1}))},onBlur(j){if(!(c&4))return;let w=qt(i);n.current instanceof HTMLElement&&w.add(n.current);let N=j.relatedTarget;N instanceof HTMLElement&&N.dataset.headlessuiFocusGuard!=="true"&&(zt(w,N)||(y.current?$e(n.current,he(x.current,{[ye.Forwards]:()=>z.Next,[ye.Backwards]:()=>z.Previous})|z.WrapAround,{relativeTo:j.target}):j.target instanceof HTMLElement&&W(j.target)))}},p=H();return b.createElement(b.Fragment,null,h&&b.createElement(Be,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:qe.Focusable}),p({ourProps:E,theirProps:a,defaultTag:Fr,name:"FocusTrap"}),h&&b.createElement(Be,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:qe.Focusable}))}let Pr=I(Tr),Rr=Object.assign(Pr,{features:ie});function kr(e=!0){let t=u.useRef(J.slice());return Ze(([n],[r])=>{r===!0&&n===!1&&Ke(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=J.slice())},[e,J,t]),F(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Lr(e,{ownerDocument:t}){let n=!!(e&8),r=kr(n);Ze(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&W(r())},[n]),It(()=>{n&&W(r())})}function Ar(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:l}){let o=u.useRef(null),i=xe(!!(e&1),"focus-trap#initial-focus"),c=Qe();return Ze(()=>{if(e===0)return;if(!i){l!=null&&l.current&&W(l.current);return}let a=n.current;a&&Ke(()=>{if(!c.current)return;let f=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===f){o.current=f;return}}else if(a.contains(f)){o.current=f;return}if(r!=null&&r.current)W(r.current);else{if(e&16){if($e(a,z.First|z.AutoFocus)!==Ve.Error)return}else if($e(a,z.First)!==Ve.Error)return;if(l!=null&&l.current&&(W(l.current),(t==null?void 0:t.activeElement)===l.current))return}o.current=t==null?void 0:t.activeElement})},[l,i,e]),o}function Mr(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:l}){let o=Qe(),i=!!(e&4);Mt(t==null?void 0:t.defaultView,"focus",c=>{if(!i||!o.current)return;let a=qt(r);n.current instanceof HTMLElement&&a.add(n.current);let f=l.current;if(!f)return;let m=c.target;m&&m instanceof HTMLElement?zt(a,m)?(l.current=m,W(m)):(c.preventDefault(),c.stopPropagation(),W(f)):W(l.current)},!0)}function zt(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Wt(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:Yt)!==u.Fragment||b.Children.count(e.children)===1}let Ie=u.createContext(null);Ie.displayName="TransitionContext";var Ir=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ir||{});function Or(){let e=u.useContext(Ie);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Dr(){let e=u.useContext(Oe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Oe=u.createContext(null);Oe.displayName="NestingContext";function De(e){return"children"in e?De(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Vt(e,t){let n=ge(e),r=u.useRef([]),l=Qe(),o=Xe(),i=F((h,v=se.Hidden)=>{let y=r.current.findIndex(({el:E})=>E===h);y!==-1&&(he(v,{[se.Unmount](){r.current.splice(y,1)},[se.Hidden](){r.current[y].state="hidden"}}),o.microTask(()=>{var E;!De(r)&&l.current&&((E=n.current)==null||E.call(n))}))}),c=F(h=>{let v=r.current.find(({el:y})=>y===h);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:h,state:"visible"}),()=>i(h,se.Unmount)}),a=u.useRef([]),f=u.useRef(Promise.resolve()),m=u.useRef({enter:[],leave:[]}),x=F((h,v,y)=>{a.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([E])=>E!==h)),t==null||t.chains.current[v].push([h,new Promise(E=>{a.current.push(E)})]),t==null||t.chains.current[v].push([h,new Promise(E=>{Promise.all(m.current[v].map(([p,j])=>j)).then(()=>E())})]),v==="enter"?f.current=f.current.then(()=>t==null?void 0:t.wait.current).then(()=>y(v)):y(v)}),g=F((h,v,y)=>{Promise.all(m.current[v].splice(0).map(([E,p])=>p)).then(()=>{var E;(E=a.current.shift())==null||E()}).then(()=>y(v))});return u.useMemo(()=>({children:r,register:c,unregister:i,onStart:x,onStop:g,wait:f,chains:m}),[c,i,r,x,g,m,f])}let Yt=u.Fragment,Gt=ze.RenderStrategy;function Ur(e,t){var n,r;let{transition:l=!0,beforeEnter:o,afterEnter:i,beforeLeave:c,afterLeave:a,enter:f,enterFrom:m,enterTo:x,entered:g,leave:h,leaveFrom:v,leaveTo:y,...E}=e,[p,j]=u.useState(null),w=u.useRef(null),N=Wt(e),T=V(...N?[w,t,j]:t===null?[]:[t]),C=(n=E.unmount)==null||n?se.Unmount:se.Hidden,{show:$,appear:ue,initial:de}=Or(),[R,U]=u.useState($?"visible":"hidden"),Y=Dr(),{register:_,unregister:B}=Y;M(()=>_(w),[_,w]),M(()=>{if(C===se.Hidden&&w.current){if($&&R!=="visible"){U("visible");return}return he(R,{hidden:()=>B(w),visible:()=>_(w)})}},[R,w,_,B,$,C]);let G=Se();M(()=>{if(N&&G&&R==="visible"&&w.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[w,R,G,N]);let te=de&&!ue,ne=ue&&$&&de,X=u.useRef(!1),A=Vt(()=>{X.current||(U("hidden"),B(w))},Y),re=F(fe=>{X.current=!0;let ae=fe?"enter":"leave";A.onStart(w,ae,Z=>{Z==="enter"?o==null||o():Z==="leave"&&(c==null||c())})}),S=F(fe=>{let ae=fe?"enter":"leave";X.current=!1,A.onStop(w,ae,Z=>{Z==="enter"?i==null||i():Z==="leave"&&(a==null||a())}),ae==="leave"&&!De(A)&&(U("hidden"),B(w))});u.useEffect(()=>{N&&l||(re($),S($))},[$,N,l]);let le=!(!l||!N||!G||te),[,P]=ir(le,p,$,{start:re,end:S}),Fe=yn({ref:T,className:((r=jn(E.className,ne&&f,ne&&m,P.enter&&f,P.enter&&P.closed&&m,P.enter&&!P.closed&&x,P.leave&&h,P.leave&&!P.closed&&v,P.leave&&P.closed&&y,!P.transition&&$&&g))==null?void 0:r.trim())||void 0,...or(P)}),K=0;R==="visible"&&(K|=D.Open),R==="hidden"&&(K|=D.Closed),P.enter&&(K|=D.Opening),P.leave&&(K|=D.Closing);let Te=H();return b.createElement(Oe.Provider,{value:A},b.createElement(dr,{value:K},Te({ourProps:Fe,theirProps:E,defaultTag:Yt,features:Gt,visible:R==="visible",name:"Transition.Child"})))}function Hr(e,t){let{show:n,appear:r=!1,unmount:l=!0,...o}=e,i=u.useRef(null),c=Wt(e),a=V(...c?[i,t]:t===null?[]:[t]);Se();let f=Me();if(n===void 0&&f!==null&&(n=(f&D.Open)===D.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[m,x]=u.useState(n?"visible":"hidden"),g=Vt(()=>{n||x("hidden")}),[h,v]=u.useState(!0),y=u.useRef([n]);M(()=>{h!==!1&&y.current[y.current.length-1]!==n&&(y.current.push(n),v(!1))},[y,n]);let E=u.useMemo(()=>({show:n,appear:r,initial:h}),[n,r,h]);M(()=>{n?x("visible"):!De(g)&&i.current!==null&&x("hidden")},[n,g]);let p={unmount:l},j=F(()=>{var T;h&&v(!1),(T=e.beforeEnter)==null||T.call(e)}),w=F(()=>{var T;h&&v(!1),(T=e.beforeLeave)==null||T.call(e)}),N=H();return b.createElement(Oe.Provider,{value:g},b.createElement(Ie.Provider,{value:E},N({ourProps:{...p,as:u.Fragment,children:b.createElement(Xt,{ref:a,...p,...o,beforeEnter:j,beforeLeave:w})},theirProps:{},defaultTag:u.Fragment,features:Gt,visible:m==="visible",name:"Transition"})))}function _r(e,t){let n=u.useContext(Ie)!==null,r=Me()!==null;return b.createElement(b.Fragment,null,!n&&r?b.createElement(Ge,{ref:t,...e}):b.createElement(Xt,{ref:t,...e}))}let Ge=I(Hr),Xt=I(Ur),Je=I(_r),Br=Object.assign(Ge,{Child:Je,Root:Ge});var qr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(qr||{}),zr=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(zr||{});let Wr={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},et=u.createContext(null);et.displayName="DialogContext";function Ue(e){let t=u.useContext(et);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ue),n}return t}function Vr(e,t){return he(t.type,Wr,e,t)}let Ct=I(function(e,t){let n=u.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:o,initialFocus:i,role:c="dialog",autoFocus:a=!0,__demoMode:f=!1,unmount:m=!1,...x}=e,g=u.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(g.current||(g.current=!0),"dialog")}();let h=Me();l===void 0&&h!==null&&(l=(h&D.Open)===D.Open);let v=u.useRef(null),y=V(v,t),E=Ce(v),p=l?0:1,[j,w]=u.useReducer(Vr,{titleId:null,descriptionId:null,panelRef:u.createRef()}),N=F(()=>o(!1)),T=F(S=>w({type:0,id:S})),C=Se()?p===0:!1,[$,ue]=wr(),de={get current(){var S;return(S=j.panelRef.current)!=null?S:v.current}},R=Bt(),{resolveContainers:U}=Cr({mainTreeNode:R,portals:$,defaultContainers:[de]}),Y=h!==null?(h&D.Closing)===D.Closing:!1;On(f||Y?!1:C,{allowed:F(()=>{var S,le;return[(le=(S=v.current)==null?void 0:S.closest("[data-headlessui-portal]"))!=null?le:null]}),disallowed:F(()=>{var S;return[(S=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?S:null]})}),Kn(C,U,S=>{S.preventDefault(),N()}),Nr(C,E==null?void 0:E.defaultView,S=>{S.preventDefault(),S.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),N()}),nr(f||Y?!1:C,E,U),Dn(C,v,N);let[_,B]=$n(),G=u.useMemo(()=>[{dialogState:p,close:N,setTitleId:T,unmount:m},j],[p,j,N,T,m]),te=u.useMemo(()=>({open:p===0}),[p]),ne={ref:y,id:r,role:c,tabIndex:-1,"aria-modal":f?void 0:p===0?!0:void 0,"aria-labelledby":j.titleId,"aria-describedby":_,unmount:m},X=!$r(),A=ie.None;C&&!f&&(A|=ie.RestoreFocus,A|=ie.TabLock,a&&(A|=ie.AutoFocus),X&&(A|=ie.InitialFocus));let re=H();return b.createElement(fr,null,b.createElement(Nt,{force:!0},b.createElement(jr,null,b.createElement(et.Provider,{value:G},b.createElement(Ht,{target:v},b.createElement(Nt,{force:!1},b.createElement(B,{slot:te},b.createElement(ue,null,b.createElement(Rr,{initialFocus:i,initialFocusFallback:v,containers:U,features:A},b.createElement(An,{value:N},re({ourProps:ne,theirProps:x,slot:te,defaultTag:Yr,features:Gr,visible:p===0,name:"Dialog"})))))))))))}),Yr="div",Gr=ze.RenderStrategy|ze.Static;function Xr(e,t){let{transition:n=!1,open:r,...l}=e,o=Me(),i=e.hasOwnProperty("open")||o!==null,c=e.hasOwnProperty("onClose");if(!i&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!i)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!o&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!l.static?b.createElement($t,null,b.createElement(Br,{show:r,transition:n,unmount:l.unmount},b.createElement(Ct,{ref:t,...l}))):b.createElement($t,null,b.createElement(Ct,{ref:t,open:r,...l}))}let Kr="div";function Zr(e,t){let n=u.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...o}=e,[{dialogState:i,unmount:c},a]=Ue("Dialog.Panel"),f=V(t,a.panelRef),m=u.useMemo(()=>({open:i===0}),[i]),x=F(E=>{E.stopPropagation()}),g={ref:f,id:r,onClick:x},h=l?Je:u.Fragment,v=l?{unmount:c}:{},y=H();return b.createElement(h,{...v},y({ourProps:g,theirProps:o,slot:m,defaultTag:Kr,name:"Dialog.Panel"}))}let Qr="div";function Jr(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:o}]=Ue("Dialog.Backdrop"),i=u.useMemo(()=>({open:l===0}),[l]),c={ref:t,"aria-hidden":!0},a=n?Je:u.Fragment,f=n?{unmount:o}:{},m=H();return b.createElement(a,{...f},m({ourProps:c,theirProps:r,slot:i,defaultTag:Qr,name:"Dialog.Backdrop"}))}let el="h2";function tl(e,t){let n=u.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:o,setTitleId:i}]=Ue("Dialog.Title"),c=V(t);u.useEffect(()=>(i(r),()=>i(null)),[r,i]);let a=u.useMemo(()=>({open:o===0}),[o]),f={ref:c,id:r};return H()({ourProps:f,theirProps:l,slot:a,defaultTag:el,name:"Dialog.Title"})}let nl=I(Xr),rl=I(Zr);I(Jr);let ll=I(tl),_e=Object.assign(nl,{Panel:rl,Title:ll,Description:Nn});const al=hn().shape({roleId:me().required("Role name is required"),fullName:me().required("Role name is required"),address:me().required("address is required"),email:me().required("address is required"),mobile:me().required("mobile is required"),password:me(),imageUrl:vn()});function ol({open:e,setOpen:t,title:n,id:r,edit:l,setEdit:o,refetch:i}){var v,y,E;const c=cn({}),a=Ft({}),{data:f,isFetching:m}=Re({api:`${ee.getUserById}/${r}`,options:{enabled:l}}),x=Re({api:`${ee.getAllRole}?page=1&limit=10`,options:{enabled:!0}}),g=un({defaultValues:{fullName:"",address:"",email:"",mobile:"",password:"",imageUrl:null},resolver:dn(al)}),h=async p=>{var j,w,N,T;try{const C=new FormData;if(C.append("roleId",p.roleId),C.append("fullName",p.fullName),C.append("address",p.address),C.append("email",p.email),C.append("mobile",p.mobile),p.imageUrl&&C.append("imageUrl",p.imageUrl),p.password&&C.append("password",p.password),l&&p){const $=await a.mutateAsync({api:`${ee.updateUserwithImage}/${r}`,data:C});(j=$.data)!=null&&j.success?O.success((w=$==null?void 0:$.data)==null?void 0:w.message):O.error("User not updated successfully")}else{const $=await c.mutateAsync({api:ee.createUserswithImage,data:C});(N=$.data)!=null&&N.success?O.success((T=$==null?void 0:$.data)==null?void 0:T.message):O.error("User not created successfully"),g.reset({fullName:"",address:"",email:"",mobile:"",password:""})}t(!1),o(!1),i()}catch{}};return u.useEffect(()=>{var p,j,w,N,T;l&&f?g.reset({roleId:(p=f==null?void 0:f.userDetails)==null?void 0:p.roleId,fullName:(j=f==null?void 0:f.userDetails)==null?void 0:j.fullName,address:(w=f==null?void 0:f.userDetails)==null?void 0:w.address,email:(N=f==null?void 0:f.userDetails)==null?void 0:N.email,mobile:(T=f==null?void 0:f.userDetails)==null?void 0:T.mobile}):g.reset({fullName:"",email:"",address:"",password:"",mobile:""})},[l,f]),s.jsx(bn,{open:e,setOpen:t,title:n,setEdit:o,edit:l,isLoading:m,children:s.jsx(fn,{methods:g,onSubmit:g.handleSubmit(h),children:s.jsxs("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[!l&&s.jsx("div",{children:s.jsx(mn,{name:"roleId",data:(E=(y=(v=x==null?void 0:x.data)==null?void 0:v.data)==null?void 0:y.docs)==null?void 0:E.map(p=>({label:p.roleName,value:p._id}))})}),s.jsx("div",{children:s.jsx(Pe,{name:"fullName",placeholder:"Enter your user name"})}),s.jsx("div",{children:s.jsx(gn,{name:"address",placeholder:"Enter your address"})}),s.jsx("div",{children:s.jsx(Pe,{name:"email",placeholder:"Enter your email"})}),s.jsx("div",{children:s.jsx(Pe,{name:"mobile",placeholder:"Enter your mobile"})}),!l&&s.jsx("div",{children:s.jsx(Pe,{name:"password",placeholder:"Enter your password"})}),s.jsx("div",{children:s.jsx(xn,{name:"imageUrl",placeholder:"Upload "})}),s.jsx(Tt,{}),s.jsx("div",{children:s.jsx(pn,{isLoading:g.formState.isSubmitting,type:"submit",className:"h-11 w-full rounded-xl",children:"Submit"})})]})})})}function il({open:e,setOpen:t,selectedUserId:n,roleList:r,onSubmit:l}){const[o,i]=u.useState(""),c=()=>{o&&n&&(l(o),t(!1))};return s.jsxs(_e,{open:e,onClose:()=>t(!1),className:"relative z-50",children:[s.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),s.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:s.jsxs(_e.Panel,{className:"w-full max-w-md rounded bg-white p-6 shadow-lg",children:[s.jsx(_e.Title,{className:"text-lg font-semibold mb-4",children:"Change User Role"}),s.jsx("div",{className:"space-y-2",children:r.map(a=>s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"radio",name:"role",value:a._id,checked:o===a._id,onChange:()=>i(a._id)}),s.jsx("span",{children:a.roleName})]},a._id))}),s.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),s.jsx(pe,{onClick:c,children:"Update Role"})]})]})})]})}function sl(){var R,U,Y,_,B,G,te,ne,X,A,re,S,le,P,Fe,K,Te,fe,ae,Z,tt,nt,rt,lt,at,ot;const[e,t]=u.useState(1),n=Ft({}),[r,l]=u.useState(10),[o,i]=u.useState(""),[c,a]=u.useState(!1),[f,m]=u.useState(""),[x,g]=u.useState(!1),[h,v]=u.useState(!1),[y,E]=u.useState(""),p=Re({api:`${ee.getAllUser}?page=${e}&limit=${r}&q=${o}`,key:"getAllUser",value:[e,r,o],options:{enabled:!0}}),j=Re({api:`${ee.getAllRole}?page=1&limit=10`,options:{enabled:!0}}),w=async d=>{var q,be,Ee,k,it,st,ct,ut,dt;try{const L=await n.mutateAsync({api:`${(q=ee)==null?void 0:q.updateUserStatus}/${d}`,data:{id:d}});(be=L==null?void 0:L.data)!=null&&be.success?(p.refetch(),((k=(Ee=L==null?void 0:L.data)==null?void 0:Ee.data)==null?void 0:k.status)===1?O.success((it=L.data)==null?void 0:it.message):((ct=(st=L==null?void 0:L.data)==null?void 0:st.data)==null?void 0:ct.status)===0&&O.error((ut=L.data)==null?void 0:ut.message)):O.error((dt=L.data)==null?void 0:dt.message)}catch(L){O.error(mt(L))}},N=d=>{a(!0),g(!0),m(d)},T=d=>{E(d),v(!0)},C=async d=>{var q,be,Ee;try{const k=await n.mutateAsync({api:`${ee.updateUserRole}/${y}`,data:{roleId:d}});(q=k==null?void 0:k.data)!=null&&q.success?(O.success(((be=k==null?void 0:k.data)==null?void 0:be.message)||"Role updated successfully"),p.refetch(),v(!1)):O.error(((Ee=k==null?void 0:k.data)==null?void 0:Ee.message)||"Something went wrong")}catch(k){O.error(mt(k))}},$=d=>{i(d.target.value)},ue=d=>{d.preventDefault(),t(1),p.refetch()},de=d=>s.jsx(nn,{className:"mb-4",children:s.jsxs(rn,{className:"pt-4",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:d==null?void 0:d.fullName}),s.jsx("p",{className:"text-sm text-gray-500",children:d==null?void 0:d.email})]}),s.jsx(ht,{variant:(d==null?void 0:d.status)===1?"success":"destructive",children:(d==null?void 0:d.status)===1?"Active":"Inactive"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Role:"})," ",d==null?void 0:d.role]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-medium",children:"Mobile:"})," ",d==null?void 0:d.mobile]})]}),s.jsxs("div",{className:"flex justify-between items-center mt-2",children:[s.jsxs(pt,{checked:(d==null?void 0:d.status)===1,onChange:()=>w(d._id),className:`${(d==null?void 0:d.status)===1?"bg-primary":"bg-gray-200"} relative inline-flex items-center h-6 rounded-full w-11`,children:[s.jsx("span",{className:"sr-only",children:"Toggle status"}),s.jsx("span",{className:`${(d==null?void 0:d.status)===1?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full`})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm",onClick:()=>N(d==null?void 0:d._id),className:"flex items-center gap-1",children:[s.jsx(gt,{size:14})," Edit"]}),s.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>T(d==null?void 0:d._id),className:"flex items-center gap-1",children:[s.jsx(xt,{size:14})," Role"]})]})]})]})});return s.jsxs("main",{className:"container mx-auto px-4 py-6",children:[s.jsx(il,{open:h,setOpen:v,selectedUserId:y,roleList:((U=(R=j==null?void 0:j.data)==null?void 0:R.data)==null?void 0:U.docs)||[],onSubmit:C}),s.jsx(ol,{open:c,setOpen:a,title:x?"Edit User":"Add User",id:f,edit:x,setEdit:g,refetch:p.refetch}),s.jsx("div",{className:"bg-white rounded-lg shadow",children:s.jsxs("div",{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsx(en,{className:"text-xl font-bold",children:"User Management"}),s.jsxs("div",{className:"flex flex-col sm:flex-row w-full md:w-auto gap-3",children:[s.jsxs("form",{onSubmit:ue,className:"relative w-full sm:w-64",children:[s.jsx("input",{type:"text",placeholder:"Search users...",value:o,onChange:$,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),s.jsx(Tn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),s.jsxs(pe,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{g(!1),m(""),a(!0)},children:[s.jsx(Pn,{size:18}),"Add User"]})]})]}),s.jsxs(tn,{className:"mb-4",children:["Total Users: ",((_=(Y=p.data)==null?void 0:Y.data)==null?void 0:_.totalDocs)||0]}),p.isLoading?s.jsx("div",{className:"flex h-32 items-center justify-center",children:s.jsx(Kt,{})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"hidden md:block overflow-x-auto",children:s.jsxs(ln,{children:[s.jsx(an,{children:s.jsxs(He,{children:[s.jsx(oe,{className:"w-12",children:"#"}),s.jsx(oe,{children:"Role"}),s.jsx(oe,{children:"Name"}),s.jsx(oe,{children:"Mobile"}),s.jsx(oe,{children:"Email"}),s.jsx(oe,{children:"Status"}),s.jsx(oe,{className:"text-right",children:"Actions"})]})}),s.jsx(on,{children:((te=(G=(B=p==null?void 0:p.data)==null?void 0:B.data)==null?void 0:G.docs)==null?void 0:te.length)===0?s.jsx(He,{children:s.jsx(Q,{colSpan:7,className:"text-center py-8",children:"No users found"})}):(A=(X=(ne=p==null?void 0:p.data)==null?void 0:ne.data)==null?void 0:X.docs)==null?void 0:A.map((d,q)=>s.jsxs(He,{children:[s.jsx(Q,{children:e*r-r+q+1}),s.jsx(Q,{children:s.jsx(ht,{variant:"outline",children:d==null?void 0:d.role})}),s.jsx(Q,{className:"font-medium",children:d==null?void 0:d.fullName}),s.jsx(Q,{children:d==null?void 0:d.mobile}),s.jsx(Q,{children:d==null?void 0:d.email}),s.jsx(Q,{children:s.jsxs("div",{className:"flex items-center",children:[s.jsxs(pt,{checked:(d==null?void 0:d.status)===1,onChange:()=>w(d._id),className:`${(d==null?void 0:d.status)===1?"bg-primary":"bg-gray-200"} relative inline-flex items-center h-6 rounded-full w-11 mr-2`,children:[s.jsx("span",{className:"sr-only",children:"Toggle status"}),s.jsx("span",{className:`${(d==null?void 0:d.status)===1?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full`})]}),(d==null?void 0:d.status)===1?s.jsxs("span",{className:"text-xs text-green-600 flex items-center",children:[s.jsx(Rn,{size:16,className:"mr-1"})," Active"]}):s.jsxs("span",{className:"text-xs text-red-600 flex items-center",children:[s.jsx(kn,{size:16,className:"mr-1"})," Inactive"]})]})}),s.jsx(Q,{className:"text-right",children:s.jsxs(Cn,{children:[s.jsx(Sn,{asChild:!0,children:s.jsxs(pe,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",s.jsx(Zt,{size:14})]})}),s.jsxs(Fn,{align:"end",children:[s.jsxs(vt,{onClick:()=>N(d==null?void 0:d._id),children:[s.jsx(gt,{size:14,className:"mr-2"})," Edit User"]}),s.jsxs(vt,{onClick:()=>T(d==null?void 0:d._id),children:[s.jsx(xt,{size:14,className:"mr-2"})," Change Role"]})]})]})})]},d==null?void 0:d._id))})]})}),s.jsx("div",{className:"md:hidden",children:((le=(S=(re=p==null?void 0:p.data)==null?void 0:re.data)==null?void 0:S.docs)==null?void 0:le.length)===0?s.jsx("div",{className:"text-center py-8",children:"No users found"}):(K=(Fe=(P=p==null?void 0:p.data)==null?void 0:P.data)==null?void 0:Fe.docs)==null?void 0:K.map((d,q)=>s.jsx(de,{user:d,index:q},d==null?void 0:d._id))}),s.jsx(Tt,{className:"my-4"}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[s.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(e-1)*r+1," to ",Math.min(e*r,((fe=(Te=p==null?void 0:p.data)==null?void 0:Te.data)==null?void 0:fe.totalDocs)||0)," of ",((Z=(ae=p==null?void 0:p.data)==null?void 0:ae.data)==null?void 0:Z.totalDocs)||0," entries"]}),s.jsx(sn,{page:e,perPage:r,totalPage:(nt=(tt=p==null?void 0:p.data)==null?void 0:tt.data)==null?void 0:nt.totalDocs,hasNextPage:(lt=(rt=p==null?void 0:p.data)==null?void 0:rt.data)==null?void 0:lt.hasNextPage,hasPrevPage:(ot=(at=p==null?void 0:p.data)==null?void 0:at.data)==null?void 0:ot.hasPrevPage,setPage:t,setPerPage:l})]})]})]})})]})}function Fl(){return s.jsx(Qt,{title:"Role",children:s.jsx("div",{children:s.jsx(sl,{})})})}export{Fl as default};
