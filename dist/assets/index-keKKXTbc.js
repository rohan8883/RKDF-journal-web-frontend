import{c as te,j as e,r as P,_ as h,B as I,X as we,S as ve,C as Ae}from"./index-qpQYrg8D.js";import{P as Fe}from"./index-jqKdOx7X.js";import{r as u}from"./router-DMIetGpf.js";import{c as Se,d as Te,C as ke,a as Pe}from"./card-ReX3hggF.js";import{T as Ie,a as Me,b as de,c as v,d as Ce,e as b,P as De}from"./index-Bdg4XSpZ.js";import{u as ze,o as Be,F as qe,R as W,k as ue,B as $e,c as Le,a as N,l as Ve,T as he}from"./file-upload-DUUER_JG.js";import{R as _e}from"./RHFTextArea-BH_ks411.js";import{D as Re,F as Ee,T as He,S as Oe}from"./index-BFmHnlK3.js";import{u as Xe,a as Ue,b as ae}from"./useCustomQuery-Bmkk5bpv.js";import{B as Je}from"./book-D65Wrols.js";import{T as Ge}from"./tag-CqI3dSl9.js";import{C as ge}from"./calendar-bGdyAFHe.js";import{A as Ke}from"./archive-U7zZoQKm.js";import{F as le}from"./file-text-CkO7R4sx.js";import{U as fe}from"./upload-BPT9osYe.js";import{S as ce}from"./separator-DzM_CpjD.js";import{B as M}from"./badge-BbaaeNzJ.js";import{D as We,a as Ze,b as Qe,c as oe,S as je}from"./dropdown-menu-CfhyfzvJ.js";import{D as Ye,a as es,b as ss,c as as}from"./dialog-Chpe5UWg.js";import{B as ls}from"./book-open-jEPWYbzQ.js";import{G as ts}from"./globe-bHsLz9V0.js";import{f as me}from"./format-CWZx4aKk.js";import{S as is}from"./search-D7z0G3sp.js";import{C as ns}from"./circle-plus-BXDiFOSI.js";import"./axios-DmypytPv.js";import"./check-roh18dN7.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=te("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=te("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=te("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=te("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cs=Le().shape({title:N().required("Title is required"),abstract:N().required("Abstract is required"),keywords:N(),issueId:N().required("Issue is required"),submissionId:N(),doi:N(),pages:N().matches(/^\d+-\d+$/,"Pages must be in format XXXX-XXXX"),publicationDate:N().required("Publication date is required"),fullTextFile:Ve().required("PDF file is required").test("fileType","Only PDF files are accepted",l=>{if(!l)return!1;const o=Array.isArray(l)?l[0]:l;return o&&o.type==="application/pdf"}).test("fileSize","File size must be less than 10MB",l=>{if(!l)return!1;const o=Array.isArray(l)?l[0]:l;return o&&o.size<=10*1024*1024})});function ms({open:l,setOpen:o,title:m,id:f,edit:x,setEdit:y,refetch:Z}){var se,C,D,z,B,q;const[A,F]=u.useState(""),Q=Xe({}),Y=Ue({}),{data:a,isFetching:ie}=ae({api:`${P.getArticlesById}/${f}`,options:{enabled:x}}),S=ae({api:`${P.getAllIssue}?page=1&limit=100`,options:{enabled:!0}}),T=ae({api:`${P.getAllSubmissions}?page=1&limit=100`,options:{enabled:!0}}),c=ze({defaultValues:{title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",fullTextFile:void 0},resolver:Be(cs)}),i=t=>{if(t.target.files&&t.target.files[0]){const n=t.target.files[0];if(n.type!=="application/pdf"){h.error("Only PDF files are allowed");return}if(n.size>10*1024*1024){h.error("File size should not exceed 10MB");return}c.setValue("fullTextFile",n),F(n.name),h.success("PDF file selected successfully")}},ee=()=>{c.setValue("fullTextFile",""),F("")},ne=async t=>{var n,p,j,g;try{const r=new FormData;r.append("title",t.title),r.append("abstract",t.abstract),t.keywords&&r.append("keywords",t.keywords),r.append("issueId",t.issueId),t.submissionId&&r.append("submissionId",t.submissionId),t.doi&&r.append("doi",t.doi),t.pages&&r.append("pages",t.pages),r.append("publicationDate",t.publicationDate);const w=Array.isArray(t.fullTextFile)?t.fullTextFile[0]:t.fullTextFile;if(r.append("fullTextFile",w),r.append("fileType","pdf"),x&&f){const d=await Y.mutateAsync({api:`${P.updateArticles}/${f}`,data:r,headers:{"Content-Type":"multipart/form-data"}});(n=d.data)!=null&&n.success?h.success((p=d==null?void 0:d.data)==null?void 0:p.message):h.error("Article not updated successfully")}else{const d=await Q.mutateAsync({api:P.createArticles,data:r,headers:{"Content-Type":"multipart/form-data"}});(j=d.data)!=null&&j.success?h.success((g=d==null?void 0:d.data)==null?void 0:g.message):h.error("Article not created successfully")}o(!1),y&&y(!1),Z&&Z()}catch{h.error("Failed to submit the form")}};u.useEffect(()=>{var t,n,p,j,g,r,w,d,$,L,V,_,R,E,H,O,X;x&&a?(c.reset({title:(t=a==null?void 0:a.data)==null?void 0:t.title,abstract:(n=a==null?void 0:a.data)==null?void 0:n.abstract,keywords:(j=(p=a==null?void 0:a.data)==null?void 0:p.keywords)==null?void 0:j.join(", "),issueId:((r=(g=a==null?void 0:a.data)==null?void 0:g.issueId)==null?void 0:r._id)||((w=a==null?void 0:a.data)==null?void 0:w.issueId),submissionId:(($=(d=a==null?void 0:a.data)==null?void 0:d.submissionId)==null?void 0:$._id)||((L=a==null?void 0:a.data)==null?void 0:L.submissionId),doi:(V=a==null?void 0:a.data)==null?void 0:V.doi,pages:(_=a==null?void 0:a.data)==null?void 0:_.pages,publicationDate:(E=(R=a==null?void 0:a.data)==null?void 0:R.publicationDate)==null?void 0:E.split("T")[0],fullTextFile:void 0}),(H=a==null?void 0:a.data)!=null&&H.fullText&&((O=a==null?void 0:a.data)==null?void 0:O.fileType)==="pdf"&&F(((X=a==null?void 0:a.data)==null?void 0:X.fullText.split("/").pop())||"Current PDF file")):(c.reset({title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",fullTextFile:void 0}),F(""))},[x,a,c.reset]);const re=()=>{const t=c.formState.errors,n=Object.entries(t).map(([,p])=>p==null?void 0:p.message).filter(Boolean);n.length>0&&h.error(n.join(", "))};return e.jsx(Re,{open:l,setOpen:o,title:m,setEdit:y,edit:x,isLoading:ie,children:e.jsx(qe,{methods:c,onSubmit:c.handleSubmit(ne,re),children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(Je,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsx(W,{name:"title",label:"Article Title",placeholder:"Enter a descriptive title for your article",className:"pr-2 pl-2"})}),e.jsx("div",{className:"relative w-full",children:e.jsx(_e,{name:"abstract",label:"Abstract",placeholder:"Provide a concise summary of your article",rows:4,className:"w-full border rounded-md p-1 shadow-sm "})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"h-4 w-4 text-blue-600"}),e.jsx(W,{name:"keywords",label:"Keywords",placeholder:"E.g., research, medicine, technology (comma separated)",className:"pr-2 pl-2"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(rs,{className:"h-5 w-5 mr-2 text-blue-600"}),"Publication Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-blue-600"}),e.jsx(W,{name:"publicationDate",label:"Publication Date",type:"date",className:"pr-2 pl-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4 text-blue-600"}),e.jsx(W,{name:"doi",label:"DOI",placeholder:"e.g., 10.1000/xyz123",className:"pr-2 pl-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4 text-blue-600"}),e.jsx(W,{name:"pages",label:"Page Range",placeholder:"e.g., 123-145",className:"pr-2 pl-2"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(Ke,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ue,{name:"issueId",label:"Select Issue",data:(D=(C=(se=S==null?void 0:S.data)==null?void 0:se.data)==null?void 0:C.docs)==null?void 0:D.map(t=>{var n;return{label:`${(n=t.journal)==null?void 0:n.title} - Vol. ${t.volume}, No. ${t.issueNumber}`,value:t._id}}),className:"pr-2 pl-2"}),e.jsx(ue,{name:"submissionId",label:"Related Submission (Optional)",data:(q=(B=(z=T==null?void 0:T.data)==null?void 0:z.data)==null?void 0:B.docs)==null?void 0:q.map(t=>({label:t.title,value:t._id})),className:"pr-2 pl-2"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-blue-600"}),"Article Full Text (PDF)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-4 bg-blue-50 hover:bg-blue-100 transition-colors",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e.jsx(fe,{className:"h-10 w-10 text-blue-500"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Upload PDF file containing the full text of your article (max 10MB)"}),e.jsx("input",{type:"file",id:"pdfUpload",accept:"application/pdf",onChange:i,className:"hidden"}),e.jsxs("label",{htmlFor:"pdfUpload",className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx(fe,{className:"h-4 w-4 inline mr-2"}),"Select PDF File"]})]})}),A&&e.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:A})]}),e.jsx("button",{type:"button",onClick:ee,className:"text-red-500 hover:text-red-700",children:e.jsx(He,{className:"h-4 w-4"})})]})}),e.jsx("input",{type:"hidden",...c.register("fullTextFile")})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs($e,{isLoading:c.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:c.formState.isSubmitting,children:[e.jsx(Oe,{className:"h-5 w-5 mr-2"}),x?"Update Article":"Publish Article"]})})]})})})}function xs({article:l,open:o,onOpenChange:m}){var f;return e.jsx(Ye,{open:o,onOpenChange:m,children:e.jsxs(es,{className:"max-w-4xl overflow-y-auto max-h-[90vh]",children:[e.jsx(ss,{children:e.jsxs(as,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Article Details"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:l.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(M,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),me(new Date(l.publicationDate),"MMMM d, yyyy")]}),l.doi&&e.jsxs(M,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-3 w-3"}),"DOI: ",l.doi]}),l.pages&&e.jsxs(M,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ds,{className:"h-3 w-3"}),"Pages: ",l.pages]})]})]}),e.jsx(ce,{}),l.journal&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(ls,{className:"h-4 w-4"}),"Journal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Journal"}),e.jsx("p",{children:l.journal.title||"N/A"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ISSN"}),e.jsx("p",{children:l.journal.issn||"N/A"})]}),l.issue&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume/Issue"}),e.jsxs("p",{children:["Vol.",l.issue.volume," , No. ",l.issue.issueNumber]})]}),l.journal.website&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Website"}),e.jsxs("a",{href:l.journal.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[e.jsx(ts,{className:"h-3 w-3"}),"Visit Journal"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Abstract"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:l.abstract})]}),((f=l.keywords)==null?void 0:f.length)>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.keywords.map((x,y)=>e.jsx(M,{variant:"secondary",children:x},y))})]}),e.jsx(ce,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Full Text"}),e.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-line",children:l.fullText.startsWith("http")?e.jsx("a",{href:l.fullText,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Download PDF"}):l.fullText})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(I,{variant:"outline",onClick:()=>m(!1),className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Close"]})})]})]})})}function ps(){var C,D,z,B,q,t,n,p,j,g,r,w,d,$,L,V,_,R,E,H,O,X,xe,pe;const[l,o]=u.useState(1),[m,f]=u.useState(10),[x,y]=u.useState(""),[Z,A]=u.useState(!1),[F,Q]=u.useState(""),[Y,a]=u.useState(!1),[ie,S]=u.useState(!1),[T,c]=u.useState(null),i=ae({api:`${P.getAllArticles}?page=${l}&limit=${m}&q=${x}`,key:"getAllArticles",value:[l,m,x],options:{enabled:!0}}),ee=s=>{A(!0),a(!0),Q(s)},ne=s=>{y(s.target.value)},re=s=>{s.preventDefault(),o(1),i.refetch()},se=({article:s})=>{var k,U,J,G,K;return e.jsx(ke,{className:"mb-4",children:e.jsxs(Pe,{className:"pt-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s==null?void 0:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(U=(k=s==null?void 0:s.issue)==null?void 0:k.journal)==null?void 0:U.title," - Vol. ",(J=s==null?void 0:s.issue)==null?void 0:J.volume,", No. ",(G=s==null?void 0:s.issue)==null?void 0:G.issueNumber]})]}),e.jsx(M,{variant:"outline",children:me(new Date(s==null?void 0:s.publicationDate),"MMM d, yyyy")})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.abstract}),((K=s==null?void 0:s.keywords)==null?void 0:K.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.keywords.map((Ne,ye)=>e.jsx(M,{variant:"secondary",children:Ne},ye))}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(I,{size:"sm",onClick:()=>ee(s==null?void 0:s._id),className:"flex items-center gap-1",children:[e.jsx(je,{size:14})," Edit"]}),e.jsxs(I,{size:"sm",variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(he,{size:14})," Delete"]})]}),e.jsxs(I,{size:"sm",variant:"outline",children:[e.jsx(le,{size:14,className:"mr-2"})," View Details"]})]})]})})};return e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[T&&e.jsx(xs,{article:T,open:ie,onOpenChange:S}),e.jsx(ms,{open:Z,setOpen:A,title:Y?"Edit Article":"Add Article",id:F,edit:Y,setEdit:a,refetch:i.refetch}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsx(Se,{className:"text-xl font-bold",children:"Article Management"}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full md:w-auto gap-3",children:[e.jsxs("form",{onSubmit:re,className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search articles...",value:x,onChange:ne,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),e.jsx(is,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs(I,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{a(!1),Q(""),A(!0)},children:[e.jsx(ns,{size:18}),"Add Article"]})]})]}),e.jsxs(Te,{className:"mb-4",children:["Total Articles: ",((D=(C=i.data)==null?void 0:C.data)==null?void 0:D.totalDocs)||0]}),i.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(ve,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs(Ie,{children:[e.jsx(Me,{children:e.jsxs(de,{children:[e.jsx(v,{className:"w-12",children:"#"}),e.jsx(v,{children:"Title"}),e.jsx(v,{children:"Journal/Issue"}),e.jsx(v,{children:"Publication Date"}),e.jsx(v,{children:"Pages"}),e.jsx(v,{children:"Status"}),e.jsx(v,{className:"text-right",children:"Actions"})]})}),e.jsx(Ce,{children:((q=(B=(z=i==null?void 0:i.data)==null?void 0:z.data)==null?void 0:B.docs)==null?void 0:q.length)===0?e.jsx(de,{children:e.jsx(b,{colSpan:6,className:"text-center py-8",children:"No articles found"})}):(p=(n=(t=i==null?void 0:i.data)==null?void 0:t.data)==null?void 0:n.docs)==null?void 0:p.map((s,k)=>{var U,J,G,K;return e.jsxs(de,{children:[e.jsx(b,{children:l*m-m+k+1}),e.jsx(b,{className:"font-medium",children:s==null?void 0:s.title}),e.jsxs(b,{children:[(J=(U=s==null?void 0:s.issue)==null?void 0:U.journal)==null?void 0:J.title," - Vol. ",(G=s==null?void 0:s.issue)==null?void 0:G.volume,", No. ",(K=s==null?void 0:s.issue)==null?void 0:K.issueNumber]}),e.jsx(b,{children:me(new Date(s==null?void 0:s.publicationDate),"MMM d, yyyy")}),e.jsx(b,{children:(s==null?void 0:s.pages)||"N/A"}),e.jsx(b,{children:(s==null?void 0:s.status)==1?"Review":"Pending"}),e.jsx(b,{className:"text-right",children:e.jsxs(We,{children:[e.jsx(Ze,{asChild:!0,children:e.jsxs(I,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",e.jsx(Ae,{size:14})]})}),e.jsxs(Qe,{align:"end",children:[e.jsxs(oe,{onClick:()=>ee(s==null?void 0:s._id),children:[e.jsx(je,{size:14,className:"mr-2"})," Edit"]}),e.jsxs(oe,{className:"text-red-600",children:[e.jsx(he,{size:14,className:"mr-2"})," Delete"]}),e.jsxs(oe,{onClick:()=>{c(s),S(!0)},children:[e.jsx(le,{size:14,className:"mr-2"})," View Details"]})]})]})})]},s==null?void 0:s._id)})})]})}),e.jsx("div",{className:"md:hidden",children:((r=(g=(j=i==null?void 0:i.data)==null?void 0:j.data)==null?void 0:g.docs)==null?void 0:r.length)===0?e.jsx("div",{className:"text-center py-8",children:"No articles found"}):($=(d=(w=i==null?void 0:i.data)==null?void 0:w.data)==null?void 0:d.docs)==null?void 0:$.map((s,k)=>e.jsx(se,{article:s,index:k},s==null?void 0:s._id))}),e.jsx(ce,{className:"my-4"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(l-1)*m+1," to ",Math.min(l*m,((V=(L=i==null?void 0:i.data)==null?void 0:L.data)==null?void 0:V.totalDocs)||0)," of ",((R=(_=i==null?void 0:i.data)==null?void 0:_.data)==null?void 0:R.totalDocs)||0," entries"]}),e.jsx(De,{page:l,perPage:m,totalPage:(H=(E=i==null?void 0:i.data)==null?void 0:E.data)==null?void 0:H.totalDocs,hasNextPage:(X=(O=i==null?void 0:i.data)==null?void 0:O.data)==null?void 0:X.hasNextPage,hasPrevPage:(pe=(xe=i==null?void 0:i.data)==null?void 0:xe.data)==null?void 0:pe.hasPrevPage,setPage:o,setPerPage:f})]})]})]})})]})}function _s(){return e.jsx(Fe,{title:"Article List",children:e.jsx("div",{children:e.jsx(ps,{})})})}export{_s as default};
