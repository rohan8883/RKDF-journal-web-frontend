import{j as I,X as tt,e as Ue,r as ye,_ as he,S as nt,C as rt}from"./index-C7Z2d9pn.js";import{P as it}from"./index-BCFldfpu.js";import{r as de,f as be,a as ot,g as lt,u as at}from"./router-GXfyPTrP.js";import{B as Ne}from"./button-952yuF2k.js";import{c as ut,d as st,C as ft,a as ct}from"./card-CRkPldci.js";import{T as dt,a as ht,b as Re,c as Ee,d as pt,e as Oe,P as vt}from"./index-D9A83eR-.js";import{u as yt,C as He,S as mt,k as gt,d as ze,o as Ke,l as bt,F as $e,j as je,R as ge,B as Ve,f as se,m as _t,n as Ot,e as Te,p as xt}from"./file-upload-LE-VDY7Q.js";import{R as Et}from"./RHFTextArea-Ok0mY01Y.js";import{T as Ie}from"./label-Cspyx8qf.js";import{D as Ze,T as wt,S as We,F as Nt,L as At}from"./index-BZ_xEgpi.js";import{u as Ge,b as kt,a as xe}from"./useCustomQuery-DWK3yDIu.js";import{d as Tt,T as St,a as jt,b as Ae}from"./isEqual-BzTZcLxU.js";import{B as Pe}from"./book-open-DnuWJ-xa.js";import{B as Ye}from"./book-Bx0aX-tW.js";import{U as Pt}from"./users-BfrDNJEi.js";import{U as qt}from"./user-plus-1ESyOmgK.js";import{A as Lt}from"./archive-COe5XYGB.js";import{U as Me}from"./upload-CGBmio9d.js";import{F as we}from"./file-text-BdzuSd4g.js";import{S as Rt}from"./separator-Yi4y7y2W.js";import{B as Be}from"./badge-Drj0qSwl.js";import{D as It,a as Mt,b as Bt,c as Se}from"./dropdown-menu-BJa9E_cA.js";import{C as Ct}from"./calendar-DV703M9b.js";import{H as Dt}from"./hash-4SiqG-KV.js";import{C as Ft}from"./circle-plus-Dz3QbfSs.js";import{S as Ut}from"./search-B_bA59Az.js";import{S as Ce}from"./square-pen-BxMZcI3m.js";import"./axios-DmypytPv.js";import"./chevron-right-DVVtyAJB.js";import"./select-AYtZERlr.js";import"./index-CAeIp94X.js";import"./_baseIsEqual-qqLIoS6a.js";import"./check-B8zz0xB2.js";function Ht({name:re,label:Y,...S}){const{control:d}=yt();return I.jsx(He,{name:re,control:d,render:({field:{ref:h,...k},fieldState:{error:w}})=>I.jsxs(I.Fragment,{children:[I.jsxs("label",{className:"text-gray-700 dark:text-gray-200",htmlFor:Y,children:[Y," ",w&&I.jsx("span",{className:"text-red-400",children:"*"})]}),I.jsx("div",{className:"relative mt-1",children:I.jsx(mt,{onCheckedChange:k.onChange,checked:k.value,ref:h,className:`mt-1 ${w?"border-red-400":null}`,...S})}),w&&I.jsx("span",{className:"text-red-400 text-xs",children:w==null?void 0:w.message})]})})}const zt=({control:re,name:Y,label:S,placeholder:d})=>{const[h,k]=de.useState([]),[w,O]=de.useState(""),v=(f,i)=>{if((f.key==="Enter"||f.key===",")&&w.trim()){f.preventDefault();const e=w.trim().replace(/,/g,"");if(e&&!h.includes(e)){const t=[...h,e];k(t),i(t.join(", "))}O("")}if(f.key==="Backspace"&&!w&&h.length>0){const e=h.slice(0,-1);k(e),i(e.join(", "))}},g=(f,i)=>{const e=h.filter(t=>t!==f);k(e),i(e.join(", "))};return de.useEffect(()=>()=>{k([]),O("")},[]),I.jsx(He,{name:Y,control:re,render:({field:f,fieldState:i})=>(de.useEffect(()=>{if(f.value&&typeof f.value=="string"){const e=f.value.split(",").map(t=>t.trim()).filter(t=>t);k(e)}},[f.value]),I.jsxs("div",{className:"w-full",children:[S&&I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:S}),I.jsxs("div",{className:`flex flex-wrap items-center gap-2 p-2 border rounded-md focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 ${i.error?"border-red-500":"border-gray-300"} bg-white`,children:[h.map((e,t)=>I.jsxs("div",{className:"flex items-center bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-md",children:[I.jsx("span",{children:e}),I.jsx("button",{type:"button",onClick:()=>g(e,f.onChange),className:"ml-1 text-blue-600 hover:text-blue-800 focus:outline-none",children:I.jsx(tt,{className:"h-3 w-3"})})]},t)),I.jsx("input",{type:"text",value:w,onChange:e=>O(e.target.value),onKeyDown:e=>v(e,f.onChange),onBlur:()=>{if(f.onBlur(),w.trim()){const e=w.trim();if(!h.includes(e)){const t=[...h,e];k(t),f.onChange(t.join(", "))}O("")}},placeholder:h.length===0?d||"Add keywords...":"",className:"flex-1 outline-none text-sm min-w-[120px]"})]}),i.error&&I.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.error.message})]}))})},Xe=zt;var Qe={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(re,Y){(function(d,h){re.exports=h()})(typeof self<"u"?self:be,function(){return function(S){var d={};function h(k){if(d[k])return d[k].exports;var w=d[k]={i:k,l:!1,exports:{}};return S[k].call(w.exports,w,w.exports,h),w.l=!0,w.exports}return h.m=S,h.c=d,h.d=function(k,w,O){h.o(k,w)||Object.defineProperty(k,w,{configurable:!1,enumerable:!0,get:O})},h.n=function(k){var w=k&&k.__esModule?function(){return k.default}:function(){return k};return h.d(w,"a",w),w},h.o=function(k,w){return Object.prototype.hasOwnProperty.call(k,w)},h.p="",h(h.s=109)}([function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(17),w=h(18),O=h(19),v=h(45),g=h(46),f=h(47),i=h(48),e=h(49),t=h(12),s=h(32),a=h(33),l=h(31),r=h(1),o={Scope:r.Scope,create:r.create,find:r.find,query:r.query,register:r.register,Container:k.default,Format:w.default,Leaf:O.default,Embed:i.default,Scroll:v.default,Block:f.default,Inline:g.default,Text:e.default,Attributor:{Attribute:t.default,Class:s.default,Style:a.default,Store:l.default}};d.default=o},function(S,d,h){var k=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var u in o)o.hasOwnProperty(u)&&(r[u]=o[u])};return function(r,o){l(r,o);function u(){this.constructor=r}r.prototype=o===null?Object.create(o):(u.prototype=o.prototype,new u)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=function(l){k(r,l);function r(o){var u=this;return o="[Parchment] "+o,u=l.call(this,o)||this,u.message=o,u.name=u.constructor.name,u}return r}(Error);d.ParchmentError=w;var O={},v={},g={},f={};d.DATA_KEY="__blot";var i;(function(l){l[l.TYPE=3]="TYPE",l[l.LEVEL=12]="LEVEL",l[l.ATTRIBUTE=13]="ATTRIBUTE",l[l.BLOT=14]="BLOT",l[l.INLINE=7]="INLINE",l[l.BLOCK=11]="BLOCK",l[l.BLOCK_BLOT=10]="BLOCK_BLOT",l[l.INLINE_BLOT=6]="INLINE_BLOT",l[l.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",l[l.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",l[l.ANY=15]="ANY"})(i=d.Scope||(d.Scope={}));function e(l,r){var o=s(l);if(o==null)throw new w("Unable to create "+l+" blot");var u=o,n=l instanceof Node||l.nodeType===Node.TEXT_NODE?l:u.create(r);return new u(n,r)}d.create=e;function t(l,r){return r===void 0&&(r=!1),l==null?null:l[d.DATA_KEY]!=null?l[d.DATA_KEY].blot:r?t(l.parentNode,r):null}d.find=t;function s(l,r){r===void 0&&(r=i.ANY);var o;if(typeof l=="string")o=f[l]||O[l];else if(l instanceof Text||l.nodeType===Node.TEXT_NODE)o=f.text;else if(typeof l=="number")l&i.LEVEL&i.BLOCK?o=f.block:l&i.LEVEL&i.INLINE&&(o=f.inline);else if(l instanceof HTMLElement){var u=(l.getAttribute("class")||"").split(/\s+/);for(var n in u)if(o=v[u[n]],o)break;o=o||g[l.tagName]}return o==null?null:r&i.LEVEL&o.scope&&r&i.TYPE&o.scope?o:null}d.query=s;function a(){for(var l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];if(l.length>1)return l.map(function(n){return a(n)});var o=l[0];if(typeof o.blotName!="string"&&typeof o.attrName!="string")throw new w("Invalid definition");if(o.blotName==="abstract")throw new w("Cannot register abstract class");if(f[o.blotName||o.attrName]=o,typeof o.keyName=="string")O[o.keyName]=o;else if(o.className!=null&&(v[o.className]=o),o.tagName!=null){Array.isArray(o.tagName)?o.tagName=o.tagName.map(function(n){return n.toUpperCase()}):o.tagName=o.tagName.toUpperCase();var u=Array.isArray(o.tagName)?o.tagName:[o.tagName];u.forEach(function(n){(g[n]==null||o.className==null)&&(g[n]=o)})}return o}d.register=a},function(S,d,h){var k=h(51),w=h(11),O=h(3),v=h(20),g="\0",f=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};f.prototype.insert=function(i,e){var t={};return i.length===0?this:(t.insert=i,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t))},f.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},f.prototype.retain=function(i,e){if(i<=0)return this;var t={retain:i};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(t.attributes=e),this.push(t)},f.prototype.push=function(i){var e=this.ops.length,t=this.ops[e-1];if(i=O(!0,{},i),typeof t=="object"){if(typeof i.delete=="number"&&typeof t.delete=="number")return this.ops[e-1]={delete:t.delete+i.delete},this;if(typeof t.delete=="number"&&i.insert!=null&&(e-=1,t=this.ops[e-1],typeof t!="object"))return this.ops.unshift(i),this;if(w(i.attributes,t.attributes)){if(typeof i.insert=="string"&&typeof t.insert=="string")return this.ops[e-1]={insert:t.insert+i.insert},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof t.retain=="number")return this.ops[e-1]={retain:t.retain+i.retain},typeof i.attributes=="object"&&(this.ops[e-1].attributes=i.attributes),this}}return e===this.ops.length?this.ops.push(i):this.ops.splice(e,0,i),this},f.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},f.prototype.filter=function(i){return this.ops.filter(i)},f.prototype.forEach=function(i){this.ops.forEach(i)},f.prototype.map=function(i){return this.ops.map(i)},f.prototype.partition=function(i){var e=[],t=[];return this.forEach(function(s){var a=i(s)?e:t;a.push(s)}),[e,t]},f.prototype.reduce=function(i,e){return this.ops.reduce(i,e)},f.prototype.changeLength=function(){return this.reduce(function(i,e){return e.insert?i+v.length(e):e.delete?i-e.delete:i},0)},f.prototype.length=function(){return this.reduce(function(i,e){return i+v.length(e)},0)},f.prototype.slice=function(i,e){i=i||0,typeof e!="number"&&(e=1/0);for(var t=[],s=v.iterator(this.ops),a=0;a<e&&s.hasNext();){var l;a<i?l=s.next(i-a):(l=s.next(e-a),t.push(l)),a+=v.length(l)}return new f(t)},f.prototype.compose=function(i){var e=v.iterator(this.ops),t=v.iterator(i.ops),s=[],a=t.peek();if(a!=null&&typeof a.retain=="number"&&a.attributes==null){for(var l=a.retain;e.peekType()==="insert"&&e.peekLength()<=l;)l-=e.peekLength(),s.push(e.next());a.retain-l>0&&t.next(a.retain-l)}for(var r=new f(s);e.hasNext()||t.hasNext();)if(t.peekType()==="insert")r.push(t.next());else if(e.peekType()==="delete")r.push(e.next());else{var o=Math.min(e.peekLength(),t.peekLength()),u=e.next(o),n=t.next(o);if(typeof n.retain=="number"){var c={};typeof u.retain=="number"?c.retain=o:c.insert=u.insert;var N=v.attributes.compose(u.attributes,n.attributes,typeof u.retain=="number");if(N&&(c.attributes=N),r.push(c),!t.hasNext()&&w(r.ops[r.ops.length-1],c)){var b=new f(e.rest());return r.concat(b).chop()}}else typeof n.delete=="number"&&typeof u.retain=="number"&&r.push(n)}return r.chop()},f.prototype.concat=function(i){var e=new f(this.ops.slice());return i.ops.length>0&&(e.push(i.ops[0]),e.ops=e.ops.concat(i.ops.slice(1))),e},f.prototype.diff=function(i,e){if(this.ops===i.ops)return new f;var t=[this,i].map(function(o){return o.map(function(u){if(u.insert!=null)return typeof u.insert=="string"?u.insert:g;var n=o===i?"on":"with";throw new Error("diff() called "+n+" non-document")}).join("")}),s=new f,a=k(t[0],t[1],e),l=v.iterator(this.ops),r=v.iterator(i.ops);return a.forEach(function(o){for(var u=o[1].length;u>0;){var n=0;switch(o[0]){case k.INSERT:n=Math.min(r.peekLength(),u),s.push(r.next(n));break;case k.DELETE:n=Math.min(u,l.peekLength()),l.next(n),s.delete(n);break;case k.EQUAL:n=Math.min(l.peekLength(),r.peekLength(),u);var c=l.next(n),N=r.next(n);w(c.insert,N.insert)?s.retain(n,v.attributes.diff(c.attributes,N.attributes)):s.push(N).delete(n);break}u-=n}}),s.chop()},f.prototype.eachLine=function(i,e){e=e||`
`;for(var t=v.iterator(this.ops),s=new f,a=0;t.hasNext();){if(t.peekType()!=="insert")return;var l=t.peek(),r=v.length(l)-t.peekLength(),o=typeof l.insert=="string"?l.insert.indexOf(e,r)-r:-1;if(o<0)s.push(t.next());else if(o>0)s.push(t.next(o));else{if(i(s,t.next(1).attributes||{},a)===!1)return;a+=1,s=new f}}s.length()>0&&i(s,{},a)},f.prototype.transform=function(i,e){if(e=!!e,typeof i=="number")return this.transformPosition(i,e);for(var t=v.iterator(this.ops),s=v.iterator(i.ops),a=new f;t.hasNext()||s.hasNext();)if(t.peekType()==="insert"&&(e||s.peekType()!=="insert"))a.retain(v.length(t.next()));else if(s.peekType()==="insert")a.push(s.next());else{var l=Math.min(t.peekLength(),s.peekLength()),r=t.next(l),o=s.next(l);if(r.delete)continue;o.delete?a.push(o):a.retain(l,v.attributes.transform(r.attributes,o.attributes,e))}return a.chop()},f.prototype.transformPosition=function(i,e){e=!!e;for(var t=v.iterator(this.ops),s=0;t.hasNext()&&s<=i;){var a=t.peekLength(),l=t.peekType();if(t.next(),l==="delete"){i-=Math.min(a,i-s);continue}else l==="insert"&&(s<i||!e)&&(i+=a);s+=a}return i},S.exports=f},function(S,d){var h=Object.prototype.hasOwnProperty,k=Object.prototype.toString,w=Object.defineProperty,O=Object.getOwnPropertyDescriptor,v=function(t){return typeof Array.isArray=="function"?Array.isArray(t):k.call(t)==="[object Array]"},g=function(t){if(!t||k.call(t)!=="[object Object]")return!1;var s=h.call(t,"constructor"),a=t.constructor&&t.constructor.prototype&&h.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!s&&!a)return!1;var l;for(l in t);return typeof l>"u"||h.call(t,l)},f=function(t,s){w&&s.name==="__proto__"?w(t,s.name,{enumerable:!0,configurable:!0,value:s.newValue,writable:!0}):t[s.name]=s.newValue},i=function(t,s){if(s==="__proto__")if(h.call(t,s)){if(O)return O(t,s).value}else return;return t[s]};S.exports=function e(){var t,s,a,l,r,o,u=arguments[0],n=1,c=arguments.length,N=!1;for(typeof u=="boolean"&&(N=u,u=arguments[1]||{},n=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});n<c;++n)if(t=arguments[n],t!=null)for(s in t)a=i(u,s),l=i(t,s),u!==l&&(N&&l&&(g(l)||(r=v(l)))?(r?(r=!1,o=a&&v(a)?a:[]):o=a&&g(a)?a:{},f(u,{name:s,newValue:e(N,o,l)})):typeof l<"u"&&f(u,{name:s,newValue:l}));return u}},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BlockEmbed=d.bubbleFormats=void 0;var k=function(){function p(m,E){for(var T=0;T<E.length;T++){var L=E[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(m,L.key,L)}}return function(m,E,T){return E&&p(m.prototype,E),T&&p(m,T),m}}(),w=function p(m,E,T){m===null&&(m=Function.prototype);var L=Object.getOwnPropertyDescriptor(m,E);if(L===void 0){var F=Object.getPrototypeOf(m);return F===null?void 0:p(F,E,T)}else{if("value"in L)return L.value;var M=L.get;return M===void 0?void 0:M.call(T)}},O=h(3),v=u(O),g=h(2),f=u(g),i=h(0),e=u(i),t=h(16),s=u(t),a=h(6),l=u(a),r=h(7),o=u(r);function u(p){return p&&p.__esModule?p:{default:p}}function n(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function c(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function N(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var b=1,_=function(p){N(m,p);function m(){return n(this,m),c(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return k(m,[{key:"attach",value:function(){w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"attach",this).call(this),this.attributes=new e.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new f.default().insert(this.value(),(0,v.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,L){var F=e.default.query(T,e.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,L)}},{key:"formatAt",value:function(T,L,F,M){this.format(F,M)}},{key:"insertAt",value:function(T,L,F){if(typeof L=="string"&&L.endsWith(`
`)){var M=e.default.create(A.blotName);this.parent.insertBefore(M,T===0?this:this.next),M.insertAt(0,L.slice(0,-1))}else w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,T,L,F)}}]),m}(e.default.Embed);_.scope=e.default.Scope.BLOCK_BLOT;var A=function(p){N(m,p);function m(E){n(this,m);var T=c(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E));return T.cache={},T}return k(m,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(e.default.Leaf).reduce(function(T,L){return L.length()===0?T:T.insert(L.value(),y(L))},new f.default).insert(`
`,y(this))),this.cache.delta}},{key:"deleteAt",value:function(T,L){w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"deleteAt",this).call(this,T,L),this.cache={}}},{key:"formatAt",value:function(T,L,F,M){L<=0||(e.default.query(F,e.default.Scope.BLOCK)?T+L===this.length()&&this.format(F,M):w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,T,Math.min(L,this.length()-T-1),F,M),this.cache={})}},{key:"insertAt",value:function(T,L,F){if(F!=null)return w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,T,L,F);if(L.length!==0){var M=L.split(`
`),$=M.shift();$.length>0&&(T<this.length()-1||this.children.tail==null?w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var C=this;M.reduce(function(R,x){return C=C.split(R,!0),C.insertAt(0,x),x.length},T+$.length)}}},{key:"insertBefore",value:function(T,L){var F=this.children.head;w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"insertBefore",this).call(this,T,L),F instanceof s.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"length",this).call(this)+b),this.cache.length}},{key:"moveChildren",value:function(T,L){w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"moveChildren",this).call(this,T,L),this.cache={}}},{key:"optimize",value:function(T){w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L&&(T===0||T>=this.length()-b)){var F=this.clone();return T===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}else{var M=w(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"split",this).call(this,T,L);return this.cache={},M}}}]),m}(e.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[l.default,e.default.Embed,o.default];function y(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return p==null||(typeof p.formats=="function"&&(m=(0,v.default)(m,p.formats())),p.parent==null||p.parent.blotName=="scroll"||p.parent.statics.scope!==p.statics.scope)?m:y(p.parent,m)}d.bubbleFormats=y,d.BlockEmbed=_,d.default=A},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.overload=d.expandConfig=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},w=function(){function C(R,x){var P=[],q=!0,U=!1,D=void 0;try{for(var j=R[Symbol.iterator](),B;!(q=(B=j.next()).done)&&(P.push(B.value),!(x&&P.length===x));q=!0);}catch(H){U=!0,D=H}finally{try{!q&&j.return&&j.return()}finally{if(U)throw D}}return P}return function(R,x){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function C(R,x){for(var P=0;P<x.length;P++){var q=x[P];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,x,P){return x&&C(R.prototype,x),P&&C(R,P),R}}();h(50);var v=h(2),g=y(v),f=h(14),i=y(f),e=h(8),t=y(e),s=h(9),a=y(s),l=h(0),r=y(l),o=h(15),u=y(o),n=h(3),c=y(n),N=h(10),b=y(N),_=h(34),A=y(_);function y(C){return C&&C.__esModule?C:{default:C}}function p(C,R,x){return R in C?Object.defineProperty(C,R,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[R]=x,C}function m(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}var E=(0,b.default)("quill"),T=function(){O(C,null,[{key:"debug",value:function(x){x===!0&&(x="log"),b.default.level(x)}},{key:"find",value:function(x){return x.__quill||r.default.find(x)}},{key:"import",value:function(x){return this.imports[x]==null&&E.error("Cannot import "+x+". Are you sure it was registered?"),this.imports[x]}},{key:"register",value:function(x,P){var q=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof x!="string"){var D=x.attrName||x.blotName;typeof D=="string"?this.register("formats/"+D,x,P):Object.keys(x).forEach(function(j){q.register(j,x[j],P)})}else this.imports[x]!=null&&!U&&E.warn("Overwriting "+x+" with",P),this.imports[x]=P,(x.startsWith("blots/")||x.startsWith("formats/"))&&P.blotName!=="abstract"?r.default.register(P):x.startsWith("modules")&&typeof P.register=="function"&&P.register()}}]);function C(R){var x=this,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(m(this,C),this.options=L(R,P),this.container=this.options.container,this.container==null)return E.error("Invalid Quill container",R);this.options.debug&&C.debug(this.options.debug);var q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new t.default,this.scroll=r.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(t.default.events.EDITOR_CHANGE,function(D){D===t.default.events.TEXT_CHANGE&&x.root.classList.toggle("ql-blank",x.editor.isBlank())}),this.emitter.on(t.default.events.SCROLL_UPDATE,function(D,j){var B=x.selection.lastRange,H=B&&B.length===0?B.index:void 0;F.call(x,function(){return x.editor.update(null,j,H)},D)});var U=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+q+"<p><br></p></div>");this.setContents(U),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return O(C,[{key:"addContainer",value:function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof x=="string"){var q=x;x=document.createElement("div"),x.classList.add(q)}return this.container.insertBefore(x,P),x}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(x,P,q){var U=this,D=M(x,P,q),j=w(D,4);return x=j[0],P=j[1],q=j[3],F.call(this,function(){return U.editor.deleteText(x,P)},q,x,-1*P)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(x),this.container.classList.toggle("ql-disabled",!x)}},{key:"focus",value:function(){var x=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=x,this.scrollIntoView()}},{key:"format",value:function(x,P){var q=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.default.sources.API;return F.call(this,function(){var D=q.getSelection(!0),j=new g.default;if(D==null)return j;if(r.default.query(x,r.default.Scope.BLOCK))j=q.editor.formatLine(D.index,D.length,p({},x,P));else{if(D.length===0)return q.selection.format(x,P),j;j=q.editor.formatText(D.index,D.length,p({},x,P))}return q.setSelection(D,t.default.sources.SILENT),j},U)}},{key:"formatLine",value:function(x,P,q,U,D){var j=this,B=void 0,H=M(x,P,q,U,D),z=w(H,4);return x=z[0],P=z[1],B=z[2],D=z[3],F.call(this,function(){return j.editor.formatLine(x,P,B)},D,x,0)}},{key:"formatText",value:function(x,P,q,U,D){var j=this,B=void 0,H=M(x,P,q,U,D),z=w(H,4);return x=z[0],P=z[1],B=z[2],D=z[3],F.call(this,function(){return j.editor.formatText(x,P,B)},D,x,0)}},{key:"getBounds",value:function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=void 0;typeof x=="number"?q=this.selection.getBounds(x,P):q=this.selection.getBounds(x.index,x.length);var U=this.container.getBoundingClientRect();return{bottom:q.bottom-U.top,height:q.height,left:q.left-U.left,right:q.right-U.left,top:q.top-U.top,width:q.width}}},{key:"getContents",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,q=M(x,P),U=w(q,2);return x=U[0],P=U[1],this.editor.getContents(x,P)}},{key:"getFormat",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof x=="number"?this.editor.getFormat(x,P):this.editor.getFormat(x.index,x.length)}},{key:"getIndex",value:function(x){return x.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(x){return this.scroll.leaf(x)}},{key:"getLine",value:function(x){return this.scroll.line(x)}},{key:"getLines",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof x!="number"?this.scroll.lines(x.index,x.length):this.scroll.lines(x,P)}},{key:"getModule",value:function(x){return this.theme.modules[x]}},{key:"getSelection",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return x&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-x,q=M(x,P),U=w(q,2);return x=U[0],P=U[1],this.editor.getText(x,P)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(x,P,q){var U=this,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:C.sources.API;return F.call(this,function(){return U.editor.insertEmbed(x,P,q)},D,x)}},{key:"insertText",value:function(x,P,q,U,D){var j=this,B=void 0,H=M(x,0,q,U,D),z=w(H,4);return x=z[0],B=z[2],D=z[3],F.call(this,function(){return j.editor.insertText(x,P,B)},D,x,P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(x,P,q){this.clipboard.dangerouslyPasteHTML(x,P,q)}},{key:"removeFormat",value:function(x,P,q){var U=this,D=M(x,P,q),j=w(D,4);return x=j[0],P=j[1],q=j[3],F.call(this,function(){return U.editor.removeFormat(x,P)},q,x)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(x){var P=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return F.call(this,function(){x=new g.default(x);var U=P.getLength(),D=P.editor.deleteText(0,U),j=P.editor.applyDelta(x),B=j.ops[j.ops.length-1];B!=null&&typeof B.insert=="string"&&B.insert[B.insert.length-1]===`
`&&(P.editor.deleteText(P.getLength()-1,1),j.delete(1));var H=D.compose(j);return H},q)}},{key:"setSelection",value:function(x,P,q){if(x==null)this.selection.setRange(null,P||C.sources.API);else{var U=M(x,P,q),D=w(U,4);x=D[0],P=D[1],q=D[3],this.selection.setRange(new o.Range(x,P),q),q!==t.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API,q=new g.default().insert(x);return this.setContents(q,P)}},{key:"update",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.default.sources.USER,P=this.scroll.update(x);return this.selection.update(x),P}},{key:"updateContents",value:function(x){var P=this,q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t.default.sources.API;return F.call(this,function(){return x=new g.default(x),P.editor.applyDelta(x,q)},q,!0)}}]),C}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=t.default.events,T.sources=t.default.sources,T.version="1.3.7",T.imports={delta:g.default,parchment:r.default,"core/module":a.default,"core/theme":A.default};function L(C,R){if(R=(0,c.default)(!0,{container:C,modules:{clipboard:!0,keyboard:!0,history:!0}},R),!R.theme||R.theme===T.DEFAULTS.theme)R.theme=A.default;else if(R.theme=T.import("themes/"+R.theme),R.theme==null)throw new Error("Invalid theme "+R.theme+". Did you register it?");var x=(0,c.default)(!0,{},R.theme.DEFAULTS);[x,R].forEach(function(U){U.modules=U.modules||{},Object.keys(U.modules).forEach(function(D){U.modules[D]===!0&&(U.modules[D]={})})});var P=Object.keys(x.modules).concat(Object.keys(R.modules)),q=P.reduce(function(U,D){var j=T.import("modules/"+D);return j==null?E.error("Cannot load "+D+" module. Are you sure you registered it?"):U[D]=j.DEFAULTS||{},U},{});return R.modules!=null&&R.modules.toolbar&&R.modules.toolbar.constructor!==Object&&(R.modules.toolbar={container:R.modules.toolbar}),R=(0,c.default)(!0,{},T.DEFAULTS,{modules:q},x,R),["bounds","container","scrollingContainer"].forEach(function(U){typeof R[U]=="string"&&(R[U]=document.querySelector(R[U]))}),R.modules=Object.keys(R.modules).reduce(function(U,D){return R.modules[D]&&(U[D]=R.modules[D]),U},{}),R}function F(C,R,x,P){if(this.options.strict&&!this.isEnabled()&&R===t.default.sources.USER)return new g.default;var q=x==null?null:this.getSelection(),U=this.editor.delta,D=C();if(q!=null&&(x===!0&&(x=q.index),P==null?q=$(q,D,R):P!==0&&(q=$(q,x,P,R)),this.setSelection(q,t.default.sources.SILENT)),D.length()>0){var j,B=[t.default.events.TEXT_CHANGE,D,U,R];if((j=this.emitter).emit.apply(j,[t.default.events.EDITOR_CHANGE].concat(B)),R!==t.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,B)}}return D}function M(C,R,x,P,q){var U={};return typeof C.index=="number"&&typeof C.length=="number"?typeof R!="number"?(q=P,P=x,x=R,R=C.length,C=C.index):(R=C.length,C=C.index):typeof R!="number"&&(q=P,P=x,x=R,R=0),(typeof x>"u"?"undefined":k(x))==="object"?(U=x,q=P):typeof x=="string"&&(P!=null?U[x]=P:q=x),q=q||t.default.sources.API,[C,R,U,q]}function $(C,R,x,P){if(C==null)return null;var q=void 0,U=void 0;if(R instanceof g.default){var D=[C.index,C.index+C.length].map(function(z){return R.transformPosition(z,P!==t.default.sources.USER)}),j=w(D,2);q=j[0],U=j[1]}else{var B=[C.index,C.index+C.length].map(function(z){return z<R||z===R&&P===t.default.sources.USER?z:x>=0?z+x:Math.max(R,z+x)}),H=w(B,2);q=H[0],U=H[1]}return new o.Range(q,U-q)}d.expandConfig=L,d.overload=M,d.default=T},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),w=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var N=n.get;return N===void 0?void 0:N.call(u)}},O=h(7),v=i(O),g=h(0),f=i(g);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function t(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function s(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var a=function(l){s(r,l);function r(){return e(this,r),t(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"formatAt",value:function(u,n,c,N){if(r.compare(this.statics.blotName,c)<0&&f.default.query(c,f.default.Scope.BLOT)){var b=this.isolate(u,n);N&&b.wrap(c,N)}else w(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"formatAt",this).call(this,u,n,c,N)}},{key:"optimize",value:function(u){if(w(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"optimize",this).call(this,u),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(u,n){var c=r.order.indexOf(u),N=r.order.indexOf(n);return c>=0||N>=0?c-N:u===n?0:u<n?-1:1}}]),r}(f.default.Inline);a.allowedChildren=[a,f.default.Embed,v.default],a.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],d.default=a},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(w.default.Text);d.default=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function o(u,n){for(var c=0;c<n.length;c++){var N=n[c];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(u,N.key,N)}}return function(u,n,c){return n&&o(u.prototype,n),c&&o(u,c),u}}(),w=function o(u,n,c){u===null&&(u=Function.prototype);var N=Object.getOwnPropertyDescriptor(u,n);if(N===void 0){var b=Object.getPrototypeOf(u);return b===null?void 0:o(b,n,c)}else{if("value"in N)return N.value;var _=N.get;return _===void 0?void 0:_.call(c)}},O=h(54),v=i(O),g=h(10),f=i(g);function i(o){return o&&o.__esModule?o:{default:o}}function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u&&(typeof u=="object"||typeof u=="function")?u:o}function s(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(o,u):o.__proto__=u)}var a=(0,f.default)("quill:events"),l=["selectionchange","mousedown","mouseup","click"];l.forEach(function(o){document.addEventListener(o,function(){for(var u=arguments.length,n=Array(u),c=0;c<u;c++)n[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(N){if(N.__quill&&N.__quill.emitter){var b;(b=N.__quill.emitter).handleDOM.apply(b,n)}})})});var r=function(o){s(u,o);function u(){e(this,u);var n=t(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return n.listeners={},n.on("error",a.error),n}return k(u,[{key:"emit",value:function(){a.log.apply(a,arguments),w(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(c){for(var N=arguments.length,b=Array(N>1?N-1:0),_=1;_<N;_++)b[_-1]=arguments[_];(this.listeners[c.type]||[]).forEach(function(A){var y=A.node,p=A.handler;(c.target===y||y.contains(c.target))&&p.apply(void 0,[c].concat(b))})}},{key:"listenDOM",value:function(c,N,b){this.listeners[c]||(this.listeners[c]=[]),this.listeners[c].push({node:N,handler:b})}}]),u}(v.default);r.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},r.sources={API:"api",SILENT:"silent",USER:"user"},d.default=r},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});function k(O,v){if(!(O instanceof v))throw new TypeError("Cannot call a class as a function")}var w=function O(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};k(this,O),this.quill=v,this.options=g};w.DEFAULTS={},d.default=w},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=["error","warn","log","info"],w="warn";function O(g){if(k.indexOf(g)<=k.indexOf(w)){for(var f,i=arguments.length,e=Array(i>1?i-1:0),t=1;t<i;t++)e[t-1]=arguments[t];(f=console)[g].apply(f,e)}}function v(g){return k.reduce(function(f,i){return f[i]=O.bind(console,i,g),f},{})}O.level=v.level=function(g){w=g},d.default=v},function(S,d,h){var k=Array.prototype.slice,w=h(52),O=h(53),v=S.exports=function(e,t,s){return s||(s={}),e===t?!0:e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||typeof e!="object"&&typeof t!="object"?s.strict?e===t:e==t:i(e,t,s)};function g(e){return e==null}function f(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}function i(e,t,s){var a,l;if(g(e)||g(t)||e.prototype!==t.prototype)return!1;if(O(e))return O(t)?(e=k.call(e),t=k.call(t),v(e,t,s)):!1;if(f(e)){if(!f(t)||e.length!==t.length)return!1;for(a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0}try{var r=w(e),o=w(t)}catch{return!1}if(r.length!=o.length)return!1;for(r.sort(),o.sort(),a=r.length-1;a>=0;a--)if(r[a]!=o[a])return!1;for(a=r.length-1;a>=0;a--)if(l=r[a],!v(e[l],t[l],s))return!1;return typeof e==typeof t}},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(1),w=function(){function O(v,g,f){f===void 0&&(f={}),this.attrName=v,this.keyName=g;var i=k.Scope.TYPE&k.Scope.ATTRIBUTE;f.scope!=null?this.scope=f.scope&k.Scope.LEVEL|i:this.scope=k.Scope.ATTRIBUTE,f.whitelist!=null&&(this.whitelist=f.whitelist)}return O.keys=function(v){return[].map.call(v.attributes,function(g){return g.name})},O.prototype.add=function(v,g){return this.canAdd(v,g)?(v.setAttribute(this.keyName,g),!0):!1},O.prototype.canAdd=function(v,g){var f=k.query(v,k.Scope.BLOT&(this.scope|k.Scope.TYPE));return f==null?!1:this.whitelist==null?!0:typeof g=="string"?this.whitelist.indexOf(g.replace(/["']/g,""))>-1:this.whitelist.indexOf(g)>-1},O.prototype.remove=function(v){v.removeAttribute(this.keyName)},O.prototype.value=function(v){var g=v.getAttribute(this.keyName);return this.canAdd(v,g)&&g?g:""},O}();d.default=w},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.Code=void 0;var k=function(){function _(A,y){var p=[],m=!0,E=!1,T=void 0;try{for(var L=A[Symbol.iterator](),F;!(m=(F=L.next()).done)&&(p.push(F.value),!(y&&p.length===y));m=!0);}catch(M){E=!0,T=M}finally{try{!m&&L.return&&L.return()}finally{if(E)throw T}}return p}return function(A,y){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function _(A,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,y,p){return y&&_(A.prototype,y),p&&_(A,p),A}}(),O=function _(A,y,p){A===null&&(A=Function.prototype);var m=Object.getOwnPropertyDescriptor(A,y);if(m===void 0){var E=Object.getPrototypeOf(A);return E===null?void 0:_(E,y,p)}else{if("value"in m)return m.value;var T=m.get;return T===void 0?void 0:T.call(p)}},v=h(2),g=o(v),f=h(0),i=o(f),e=h(4),t=o(e),s=h(6),a=o(s),l=h(7),r=o(l);function o(_){return _&&_.__esModule?_:{default:_}}function u(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}function n(_,A){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:_}function c(_,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);_.prototype=Object.create(A&&A.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(_,A):_.__proto__=A)}var N=function(_){c(A,_);function A(){return u(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(a.default);N.blotName="code",N.tagName="CODE";var b=function(_){c(A,_);function A(){return u(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return w(A,[{key:"delta",value:function(){var p=this,m=this.domNode.textContent;return m.endsWith(`
`)&&(m=m.slice(0,-1)),m.split(`
`).reduce(function(E,T){return E.insert(T).insert(`
`,p.formats())},new g.default)}},{key:"format",value:function(p,m){if(!(p===this.statics.blotName&&m)){var E=this.descendant(r.default,this.length()-1),T=k(E,1),L=T[0];L!=null&&L.deleteAt(L.length()-1,1),O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,p,m)}}},{key:"formatAt",value:function(p,m,E,T){if(m!==0&&!(i.default.query(E,i.default.Scope.BLOCK)==null||E===this.statics.blotName&&T===this.statics.formats(this.domNode))){var L=this.newlineIndex(p);if(!(L<0||L>=p+m)){var F=this.newlineIndex(p,!0)+1,M=L-F+1,$=this.isolate(F,M),C=$.next;$.format(E,T),C instanceof A&&C.formatAt(0,p-F+m-M,E,T)}}}},{key:"insertAt",value:function(p,m,E){if(E==null){var T=this.descendant(r.default,p),L=k(T,2),F=L[0],M=L[1];F.insertAt(M,m)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?p:p+1}},{key:"newlineIndex",value:function(p){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(m)return this.domNode.textContent.slice(0,p).lastIndexOf(`
`);var E=this.domNode.textContent.slice(p).indexOf(`
`);return E>-1?p+E:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,p);var m=this.next;m!=null&&m.prev===this&&m.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===m.statics.formats(m.domNode)&&(m.optimize(p),m.moveChildren(this),m.remove())}},{key:"replace",value:function(p){O(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(m){var E=i.default.find(m);E==null?m.parentNode.removeChild(m):E instanceof i.default.Embed?E.remove():E.unwrap()})}}],[{key:"create",value:function(p){var m=O(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,p);return m.setAttribute("spellcheck",!1),m}},{key:"formats",value:function(){return!0}}]),A}(t.default);b.blotName="code-block",b.tagName="PRE",b.TAB="  ",d.Code=N,d.default=b},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},w=function(){function C(R,x){var P=[],q=!0,U=!1,D=void 0;try{for(var j=R[Symbol.iterator](),B;!(q=(B=j.next()).done)&&(P.push(B.value),!(x&&P.length===x));q=!0);}catch(H){U=!0,D=H}finally{try{!q&&j.return&&j.return()}finally{if(U)throw D}}return P}return function(R,x){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return C(R,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function C(R,x){for(var P=0;P<x.length;P++){var q=x[P];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(R,q.key,q)}}return function(R,x,P){return x&&C(R.prototype,x),P&&C(R,P),R}}(),v=h(2),g=m(v),f=h(20),i=m(f),e=h(0),t=m(e),s=h(13),a=m(s),l=h(24),r=m(l),o=h(4),u=m(o),n=h(16),c=m(n),N=h(21),b=m(N),_=h(11),A=m(_),y=h(3),p=m(y);function m(C){return C&&C.__esModule?C:{default:C}}function E(C,R,x){return R in C?Object.defineProperty(C,R,{value:x,enumerable:!0,configurable:!0,writable:!0}):C[R]=x,C}function T(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}var L=/^[ -~]*$/,F=function(){function C(R){T(this,C),this.scroll=R,this.delta=this.getDelta()}return O(C,[{key:"applyDelta",value:function(x){var P=this,q=!1;this.scroll.update();var U=this.scroll.length();return this.scroll.batchStart(),x=$(x),x.reduce(function(D,j){var B=j.retain||j.delete||j.insert.length||1,H=j.attributes||{};if(j.insert!=null){if(typeof j.insert=="string"){var z=j.insert;z.endsWith(`
`)&&q&&(q=!1,z=z.slice(0,-1)),D>=U&&!z.endsWith(`
`)&&(q=!0),P.scroll.insertAt(D,z);var Z=P.scroll.line(D),Q=w(Z,2),ee=Q[0],te=Q[1],ne=(0,p.default)({},(0,o.bubbleFormats)(ee));if(ee instanceof u.default){var W=ee.descendant(t.default.Leaf,te),fe=w(W,1),ae=fe[0];ne=(0,p.default)(ne,(0,o.bubbleFormats)(ae))}H=i.default.attributes.diff(ne,H)||{}}else if(k(j.insert)==="object"){var K=Object.keys(j.insert)[0];if(K==null)return D;P.scroll.insertAt(D,K,j.insert[K])}U+=B}return Object.keys(H).forEach(function(V){P.scroll.formatAt(D,B,V,H[V])}),D+B},0),x.reduce(function(D,j){return typeof j.delete=="number"?(P.scroll.deleteAt(D,j.delete),D):D+(j.retain||j.insert.length||1)},0),this.scroll.batchEnd(),this.update(x)}},{key:"deleteText",value:function(x,P){return this.scroll.deleteAt(x,P),this.update(new g.default().retain(x).delete(P))}},{key:"formatLine",value:function(x,P){var q=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(U).forEach(function(D){if(!(q.scroll.whitelist!=null&&!q.scroll.whitelist[D])){var j=q.scroll.lines(x,Math.max(P,1)),B=P;j.forEach(function(H){var z=H.length();if(!(H instanceof a.default))H.format(D,U[D]);else{var Z=x-H.offset(q.scroll),Q=H.newlineIndex(Z+B)-Z+1;H.formatAt(Z,Q,D,U[D])}B-=z})}}),this.scroll.optimize(),this.update(new g.default().retain(x).retain(P,(0,b.default)(U)))}},{key:"formatText",value:function(x,P){var q=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(U).forEach(function(D){q.scroll.formatAt(x,P,D,U[D])}),this.update(new g.default().retain(x).retain(P,(0,b.default)(U)))}},{key:"getContents",value:function(x,P){return this.delta.slice(x,x+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(x,P){return x.concat(P.delta())},new g.default)}},{key:"getFormat",value:function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=[],U=[];P===0?this.scroll.path(x).forEach(function(j){var B=w(j,1),H=B[0];H instanceof u.default?q.push(H):H instanceof t.default.Leaf&&U.push(H)}):(q=this.scroll.lines(x,P),U=this.scroll.descendants(t.default.Leaf,x,P));var D=[q,U].map(function(j){if(j.length===0)return{};for(var B=(0,o.bubbleFormats)(j.shift());Object.keys(B).length>0;){var H=j.shift();if(H==null)return B;B=M((0,o.bubbleFormats)(H),B)}return B});return p.default.apply(p.default,D)}},{key:"getText",value:function(x,P){return this.getContents(x,P).filter(function(q){return typeof q.insert=="string"}).map(function(q){return q.insert}).join("")}},{key:"insertEmbed",value:function(x,P,q){return this.scroll.insertAt(x,P,q),this.update(new g.default().retain(x).insert(E({},P,q)))}},{key:"insertText",value:function(x,P){var q=this,U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return P=P.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(x,P),Object.keys(U).forEach(function(D){q.scroll.formatAt(x,P.length,D,U[D])}),this.update(new g.default().retain(x).insert(P,(0,b.default)(U)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var x=this.scroll.children.head;return x.statics.blotName!==u.default.blotName||x.children.length>1?!1:x.children.head instanceof c.default}},{key:"removeFormat",value:function(x,P){var q=this.getText(x,P),U=this.scroll.line(x+P),D=w(U,2),j=D[0],B=D[1],H=0,z=new g.default;j!=null&&(j instanceof a.default?H=j.newlineIndex(B)-B+1:H=j.length()-B,z=j.delta().slice(B,B+H-1).insert(`
`));var Z=this.getContents(x,P+H),Q=Z.diff(new g.default().insert(q).concat(z)),ee=new g.default().retain(x).concat(Q);return this.applyDelta(ee)}},{key:"update",value:function(x){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,U=this.delta;if(P.length===1&&P[0].type==="characterData"&&P[0].target.data.match(L)&&t.default.find(P[0].target)){var D=t.default.find(P[0].target),j=(0,o.bubbleFormats)(D),B=D.offset(this.scroll),H=P[0].oldValue.replace(r.default.CONTENTS,""),z=new g.default().insert(H),Z=new g.default().insert(D.value()),Q=new g.default().retain(B).concat(z.diff(Z,q));x=Q.reduce(function(ee,te){return te.insert?ee.insert(te.insert,j):ee.push(te)},new g.default),this.delta=U.compose(x)}else this.delta=this.getDelta(),(!x||!(0,A.default)(U.compose(x),this.delta))&&(x=U.diff(this.delta,q));return x}}]),C}();function M(C,R){return Object.keys(R).reduce(function(x,P){return C[P]==null||(R[P]===C[P]?x[P]=R[P]:Array.isArray(R[P])?R[P].indexOf(C[P])<0&&(x[P]=R[P].concat([C[P]])):x[P]=[R[P],C[P]]),x},{})}function $(C){return C.reduce(function(R,x){if(x.insert===1){var P=(0,b.default)(x.attributes);return delete P.image,R.insert({image:x.attributes.image},P)}if(x.attributes!=null&&(x.attributes.list===!0||x.attributes.bullet===!0)&&(x=(0,b.default)(x),x.attributes.list?x.attributes.list="ordered":(x.attributes.list="bullet",delete x.attributes.bullet)),typeof x.insert=="string"){var q=x.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return R.insert(q,x.attributes)}return R.push(x)},new g.default)}d.default=F},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.Range=void 0;var k=function(){function _(A,y){var p=[],m=!0,E=!1,T=void 0;try{for(var L=A[Symbol.iterator](),F;!(m=(F=L.next()).done)&&(p.push(F.value),!(y&&p.length===y));m=!0);}catch(M){E=!0,T=M}finally{try{!m&&L.return&&L.return()}finally{if(E)throw T}}return p}return function(A,y){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return _(A,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function _(A,y){for(var p=0;p<y.length;p++){var m=y[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(A,m.key,m)}}return function(A,y,p){return y&&_(A.prototype,y),p&&_(A,p),A}}(),O=h(0),v=r(O),g=h(21),f=r(g),i=h(11),e=r(i),t=h(8),s=r(t),a=h(10),l=r(a);function r(_){return _&&_.__esModule?_:{default:_}}function o(_){if(Array.isArray(_)){for(var A=0,y=Array(_.length);A<_.length;A++)y[A]=_[A];return y}else return Array.from(_)}function u(_,A){if(!(_ instanceof A))throw new TypeError("Cannot call a class as a function")}var n=(0,l.default)("quill:selection"),c=function _(A){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,_),this.index=A,this.length=y},N=function(){function _(A,y){var p=this;u(this,_),this.emitter=y,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=v.default.create("cursor",this),this.lastRange=this.savedRange=new c(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,s.default.sources.USER),1)}),this.emitter.on(s.default.events.EDITOR_CHANGE,function(m,E){m===s.default.events.TEXT_CHANGE&&E.length()>0&&p.update(s.default.sources.SILENT)}),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var m=p.getNativeRange();m!=null&&m.start.node!==p.cursor.textNode&&p.emitter.once(s.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(m.start.node,m.start.offset,m.end.node,m.end.offset)}catch{}})}}),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,function(m,E){if(E.range){var T=E.range,L=T.startNode,F=T.startOffset,M=T.endNode,$=T.endOffset;p.setNativeRange(L,F,M,$)}}),this.update(s.default.sources.SILENT)}return w(_,[{key:"handleComposition",value:function(){var y=this;this.root.addEventListener("compositionstart",function(){y.composing=!0}),this.root.addEventListener("compositionend",function(){if(y.composing=!1,y.cursor.parent){var p=y.cursor.restore();if(!p)return;setTimeout(function(){y.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var y=this;this.emitter.listenDOM("mousedown",document.body,function(){y.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){y.mouseDown=!1,y.update(s.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(y,p){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[y])){this.scroll.update();var m=this.getNativeRange();if(!(m==null||!m.native.collapsed||v.default.query(y,v.default.Scope.BLOCK))){if(m.start.node!==this.cursor.textNode){var E=v.default.find(m.start.node,!1);if(E==null)return;if(E instanceof v.default.Leaf){var T=E.split(m.start.offset);E.parent.insertBefore(this.cursor,T)}else E.insertBefore(this.cursor,m.start.node);this.cursor.attach()}this.cursor.format(y,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,m=this.scroll.length();y=Math.min(y,m-1),p=Math.min(y+p,m-1)-y;var E=void 0,T=this.scroll.leaf(y),L=k(T,2),F=L[0],M=L[1];if(F==null)return null;var $=F.position(M,!0),C=k($,2);E=C[0],M=C[1];var R=document.createRange();if(p>0){R.setStart(E,M);var x=this.scroll.leaf(y+p),P=k(x,2);if(F=P[0],M=P[1],F==null)return null;var q=F.position(M,!0),U=k(q,2);return E=U[0],M=U[1],R.setEnd(E,M),R.getBoundingClientRect()}else{var D="left",j=void 0;return E instanceof Text?(M<E.data.length?(R.setStart(E,M),R.setEnd(E,M+1)):(R.setStart(E,M-1),R.setEnd(E,M),D="right"),j=R.getBoundingClientRect()):(j=F.domNode.getBoundingClientRect(),M>0&&(D="right")),{bottom:j.top+j.height,height:j.height,left:j[D],right:j[D],top:j.top,width:0}}}},{key:"getNativeRange",value:function(){var y=document.getSelection();if(y==null||y.rangeCount<=0)return null;var p=y.getRangeAt(0);if(p==null)return null;var m=this.normalizeNative(p);return n.info("getNativeRange",m),m}},{key:"getRange",value:function(){var y=this.getNativeRange();if(y==null)return[null,null];var p=this.normalizedToRange(y);return[p,y]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(y){var p=this,m=[[y.start.node,y.start.offset]];y.native.collapsed||m.push([y.end.node,y.end.offset]);var E=m.map(function(F){var M=k(F,2),$=M[0],C=M[1],R=v.default.find($,!0),x=R.offset(p.scroll);return C===0?x:R instanceof v.default.Container?x+R.length():x+R.index($,C)}),T=Math.min(Math.max.apply(Math,o(E)),this.scroll.length()-1),L=Math.min.apply(Math,[T].concat(o(E)));return new c(L,T-L)}},{key:"normalizeNative",value:function(y){if(!b(this.root,y.startContainer)||!y.collapsed&&!b(this.root,y.endContainer))return null;var p={start:{node:y.startContainer,offset:y.startOffset},end:{node:y.endContainer,offset:y.endOffset},native:y};return[p.start,p.end].forEach(function(m){for(var E=m.node,T=m.offset;!(E instanceof Text)&&E.childNodes.length>0;)if(E.childNodes.length>T)E=E.childNodes[T],T=0;else if(E.childNodes.length===T)E=E.lastChild,T=E instanceof Text?E.data.length:E.childNodes.length+1;else break;m.node=E,m.offset=T}),p}},{key:"rangeToNative",value:function(y){var p=this,m=y.collapsed?[y.index]:[y.index,y.index+y.length],E=[],T=this.scroll.length();return m.forEach(function(L,F){L=Math.min(T-1,L);var M=void 0,$=p.scroll.leaf(L),C=k($,2),R=C[0],x=C[1],P=R.position(x,F!==0),q=k(P,2);M=q[0],x=q[1],E.push(M,x)}),E.length<2&&(E=E.concat(E)),E}},{key:"scrollIntoView",value:function(y){var p=this.lastRange;if(p!=null){var m=this.getBounds(p.index,p.length);if(m!=null){var E=this.scroll.length()-1,T=this.scroll.line(Math.min(p.index,E)),L=k(T,1),F=L[0],M=F;if(p.length>0){var $=this.scroll.line(Math.min(p.index+p.length,E)),C=k($,1);M=C[0]}if(!(F==null||M==null)){var R=y.getBoundingClientRect();m.top<R.top?y.scrollTop-=R.top-m.top:m.bottom>R.bottom&&(y.scrollTop+=m.bottom-R.bottom)}}}}},{key:"setNativeRange",value:function(y,p){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:y,E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:p,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(n.info("setNativeRange",y,p,m,E),!(y!=null&&(this.root.parentNode==null||y.parentNode==null||m.parentNode==null))){var L=document.getSelection();if(L!=null)if(y!=null){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(F==null||T||y!==F.startContainer||p!==F.startOffset||m!==F.endContainer||E!==F.endOffset){y.tagName=="BR"&&(p=[].indexOf.call(y.parentNode.childNodes,y),y=y.parentNode),m.tagName=="BR"&&(E=[].indexOf.call(m.parentNode.childNodes,m),m=m.parentNode);var M=document.createRange();M.setStart(y,p),M.setEnd(m,E),L.removeAllRanges(),L.addRange(M)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(y){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s.default.sources.API;if(typeof p=="string"&&(m=p,p=!1),n.info("setRange",y),y!=null){var E=this.rangeToNative(y);this.setNativeRange.apply(this,o(E).concat([p]))}else this.setNativeRange(null);this.update(m)}},{key:"update",value:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:s.default.sources.USER,p=this.lastRange,m=this.getRange(),E=k(m,2),T=E[0],L=E[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,e.default)(p,this.lastRange)){var F;!this.composing&&L!=null&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var M=[s.default.events.SELECTION_CHANGE,(0,f.default)(this.lastRange),(0,f.default)(p),y];if((F=this.emitter).emit.apply(F,[s.default.events.EDITOR_CHANGE].concat(M)),y!==s.default.sources.SILENT){var $;($=this.emitter).emit.apply($,M)}}}}]),_}();function b(_,A){try{A.parentNode}catch{return!1}return A instanceof Text&&(A=A.parentNode),_.contains(A)}d.Range=c,d.default=N},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),w=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(0),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,[{key:"insertInto",value:function(r,o){r.children.length===0?w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"insertInto",this).call(this,r,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),a}(v.default.Embed);t.blotName="break",t.tagName="BR",d.default=t},function(S,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(44),O=h(30),v=h(1),g=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.build(),s}return e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){i.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},e.prototype.build=function(){var t=this;this.children=new w.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(s){try{var a=f(s);t.insertBefore(a,t.children.head||void 0)}catch(l){if(l instanceof v.ParchmentError)return;throw l}})},e.prototype.deleteAt=function(t,s){if(t===0&&s===this.length())return this.remove();this.children.forEachAt(t,s,function(a,l,r){a.deleteAt(l,r)})},e.prototype.descendant=function(t,s){var a=this.children.find(s),l=a[0],r=a[1];return t.blotName==null&&t(l)||t.blotName!=null&&l instanceof t?[l,r]:l instanceof e?l.descendant(t,r):[null,-1]},e.prototype.descendants=function(t,s,a){s===void 0&&(s=0),a===void 0&&(a=Number.MAX_VALUE);var l=[],r=a;return this.children.forEachAt(s,a,function(o,u,n){(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&l.push(o),o instanceof e&&(l=l.concat(o.descendants(t,u,r))),r-=n}),l},e.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),i.prototype.detach.call(this)},e.prototype.formatAt=function(t,s,a,l){this.children.forEachAt(t,s,function(r,o,u){r.formatAt(o,u,a,l)})},e.prototype.insertAt=function(t,s,a){var l=this.children.find(t),r=l[0],o=l[1];if(r)r.insertAt(o,s,a);else{var u=a==null?v.create("text",s):v.create(s,a);this.appendChild(u)}},e.prototype.insertBefore=function(t,s){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(a){return t instanceof a}))throw new v.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,s)},e.prototype.length=function(){return this.children.reduce(function(t,s){return t+s.length()},0)},e.prototype.moveChildren=function(t,s){this.children.forEach(function(a){t.insertBefore(a,s)})},e.prototype.optimize=function(t){if(i.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var s=v.create(this.statics.defaultChild);this.appendChild(s),s.optimize(t)}else this.remove()},e.prototype.path=function(t,s){s===void 0&&(s=!1);var a=this.children.find(t,s),l=a[0],r=a[1],o=[[this,t]];return l instanceof e?o.concat(l.path(r,s)):(l!=null&&o.push([l,r]),o)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(t){t instanceof e&&t.moveChildren(this),i.prototype.replace.call(this,t)},e.prototype.split=function(t,s){if(s===void 0&&(s=!1),!s){if(t===0)return this;if(t===this.length())return this.next}var a=this.clone();return this.parent.insertBefore(a,this.next),this.children.forEachAt(t,this.length(),function(l,r,o){l=l.split(r,s),a.appendChild(l)}),a},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,s){var a=this,l=[],r=[];t.forEach(function(o){o.target===a.domNode&&o.type==="childList"&&(l.push.apply(l,o.addedNodes),r.push.apply(r,o.removedNodes))}),r.forEach(function(o){if(!(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var u=v.find(o);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===a.domNode)&&u.detach()}}),l.filter(function(o){return o.parentNode==a.domNode}).sort(function(o,u){return o===u?0:o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var u=null;o.nextSibling!=null&&(u=v.find(o.nextSibling));var n=f(o);(n.next!=u||n.next==null)&&(n.parent!=null&&n.parent.removeChild(a),a.insertBefore(n,u||void 0))})},e}(O.default);function f(i){var e=v.find(i);if(e==null)try{e=v.create(i)}catch{e=v.create(v.Scope.INLINE),[].slice.call(i.childNodes).forEach(function(s){e.domNode.appendChild(s)}),i.parentNode&&i.parentNode.replaceChild(e.domNode,i),e.attach()}return e}d.default=g},function(S,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(12),O=h(31),v=h(17),g=h(1),f=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.attributes=new O.default(s.domNode),s}return e.formats=function(t){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()},e.prototype.format=function(t,s){var a=g.query(t);a instanceof w.default?this.attributes.attribute(a,s):s&&a!=null&&(t!==this.statics.blotName||this.formats()[t]!==s)&&this.replaceWith(t,s)},e.prototype.formats=function(){var t=this.attributes.values(),s=this.statics.formats(this.domNode);return s!=null&&(t[this.statics.blotName]=s),t},e.prototype.replaceWith=function(t,s){var a=i.prototype.replaceWith.call(this,t,s);return this.attributes.copy(a),a},e.prototype.update=function(t,s){var a=this;i.prototype.update.call(this,t,s),t.some(function(l){return l.target===a.domNode&&l.type==="attributes"})&&this.attributes.build()},e.prototype.wrap=function(t,s){var a=i.prototype.wrap.call(this,t,s);return a instanceof e&&a.statics.scope===this.statics.scope&&this.attributes.move(a),a},e}(v.default);d.default=f},function(S,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(30),O=h(1),v=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.value=function(i){return!0},f.prototype.index=function(i,e){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},f.prototype.position=function(i,e){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return i>0&&(t+=1),[this.parent.domNode,t]},f.prototype.value=function(){var i;return i={},i[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},f.scope=O.Scope.INLINE_BLOT,f}(w.default);d.default=v},function(S,d,h){var k=h(11),w=h(3),O={attributes:{compose:function(g,f,i){typeof g!="object"&&(g={}),typeof f!="object"&&(f={});var e=w(!0,{},f);i||(e=Object.keys(e).reduce(function(s,a){return e[a]!=null&&(s[a]=e[a]),s},{}));for(var t in g)g[t]!==void 0&&f[t]===void 0&&(e[t]=g[t]);return Object.keys(e).length>0?e:void 0},diff:function(g,f){typeof g!="object"&&(g={}),typeof f!="object"&&(f={});var i=Object.keys(g).concat(Object.keys(f)).reduce(function(e,t){return k(g[t],f[t])||(e[t]=f[t]===void 0?null:f[t]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(g,f,i){if(typeof g!="object")return f;if(typeof f=="object"){if(!i)return f;var e=Object.keys(f).reduce(function(t,s){return g[s]===void 0&&(t[s]=f[s]),t},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(g){return new v(g)},length:function(g){return typeof g.delete=="number"?g.delete:typeof g.retain=="number"?g.retain:typeof g.insert=="string"?g.insert.length:1}};function v(g){this.ops=g,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(g){g||(g=1/0);var f=this.ops[this.index];if(f){var i=this.offset,e=O.length(f);if(g>=e-i?(g=e-i,this.index+=1,this.offset=0):this.offset+=g,typeof f.delete=="number")return{delete:g};var t={};return f.attributes&&(t.attributes=f.attributes),typeof f.retain=="number"?t.retain=g:typeof f.insert=="string"?t.insert=f.insert.substr(i,g):t.insert=f.insert,t}else return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?O.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var g=this.offset,f=this.index,i=this.next(),e=this.ops.slice(this.index);return this.offset=g,this.index=f,[i].concat(e)}else return[]},S.exports=O},function(S,d){var h=function(){function k(a,l){return l!=null&&a instanceof l}var w;try{w=Map}catch{w=function(){}}var O;try{O=Set}catch{O=function(){}}var v;try{v=Promise}catch{v=function(){}}function g(a,l,r,o,u){typeof l=="object"&&(r=l.depth,o=l.prototype,u=l.includeNonEnumerable,l=l.circular);var n=[],c=[],N=typeof Buffer<"u";typeof l>"u"&&(l=!0),typeof r>"u"&&(r=1/0);function b(_,A){if(_===null)return null;if(A===0)return _;var y,p;if(typeof _!="object")return _;if(k(_,w))y=new w;else if(k(_,O))y=new O;else if(k(_,v))y=new v(function(R,x){_.then(function(P){R(b(P,A-1))},function(P){x(b(P,A-1))})});else if(g.__isArray(_))y=[];else if(g.__isRegExp(_))y=new RegExp(_.source,s(_)),_.lastIndex&&(y.lastIndex=_.lastIndex);else if(g.__isDate(_))y=new Date(_.getTime());else{if(N&&Buffer.isBuffer(_))return Buffer.allocUnsafe?y=Buffer.allocUnsafe(_.length):y=new Buffer(_.length),_.copy(y),y;k(_,Error)?y=Object.create(_):typeof o>"u"?(p=Object.getPrototypeOf(_),y=Object.create(p)):(y=Object.create(o),p=o)}if(l){var m=n.indexOf(_);if(m!=-1)return c[m];n.push(_),c.push(y)}k(_,w)&&_.forEach(function(R,x){var P=b(x,A-1),q=b(R,A-1);y.set(P,q)}),k(_,O)&&_.forEach(function(R){var x=b(R,A-1);y.add(x)});for(var E in _){var T;p&&(T=Object.getOwnPropertyDescriptor(p,E)),!(T&&T.set==null)&&(y[E]=b(_[E],A-1))}if(Object.getOwnPropertySymbols)for(var L=Object.getOwnPropertySymbols(_),E=0;E<L.length;E++){var F=L[E],M=Object.getOwnPropertyDescriptor(_,F);M&&!M.enumerable&&!u||(y[F]=b(_[F],A-1),M.enumerable||Object.defineProperty(y,F,{enumerable:!1}))}if(u)for(var $=Object.getOwnPropertyNames(_),E=0;E<$.length;E++){var C=$[E],M=Object.getOwnPropertyDescriptor(_,C);M&&M.enumerable||(y[C]=b(_[C],A-1),Object.defineProperty(y,C,{enumerable:!1}))}return y}return b(a,r)}g.clonePrototype=function(l){if(l===null)return null;var r=function(){};return r.prototype=l,new r};function f(a){return Object.prototype.toString.call(a)}g.__objToStr=f;function i(a){return typeof a=="object"&&f(a)==="[object Date]"}g.__isDate=i;function e(a){return typeof a=="object"&&f(a)==="[object Array]"}g.__isArray=e;function t(a){return typeof a=="object"&&f(a)==="[object RegExp]"}g.__isRegExp=t;function s(a){var l="";return a.global&&(l+="g"),a.ignoreCase&&(l+="i"),a.multiline&&(l+="m"),l}return g.__getRegExpFlags=s,g}();typeof S=="object"&&S.exports&&(S.exports=h)},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function y(p,m){var E=[],T=!0,L=!1,F=void 0;try{for(var M=p[Symbol.iterator](),$;!(T=($=M.next()).done)&&(E.push($.value),!(m&&E.length===m));T=!0);}catch(C){L=!0,F=C}finally{try{!T&&M.return&&M.return()}finally{if(L)throw F}}return E}return function(p,m){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return y(p,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function y(p,m){for(var E=0;E<m.length;E++){var T=m[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,m,E){return m&&y(p.prototype,m),E&&y(p,E),p}}(),O=function y(p,m,E){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,m);if(T===void 0){var L=Object.getPrototypeOf(p);return L===null?void 0:y(L,m,E)}else{if("value"in T)return T.value;var F=T.get;return F===void 0?void 0:F.call(E)}},v=h(0),g=n(v),f=h(8),i=n(f),e=h(4),t=n(e),s=h(16),a=n(s),l=h(13),r=n(l),o=h(25),u=n(o);function n(y){return y&&y.__esModule?y:{default:y}}function c(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function N(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function b(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}function _(y){return y instanceof t.default||y instanceof e.BlockEmbed}var A=function(y){b(p,y);function p(m,E){c(this,p);var T=N(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m));return T.emitter=E.emitter,Array.isArray(E.whitelist)&&(T.whitelist=E.whitelist.reduce(function(L,F){return L[F]=!0,L},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return w(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(E,T){var L=this.line(E),F=k(L,2),M=F[0],$=F[1],C=this.line(E+T),R=k(C,1),x=R[0];if(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,E,T),x!=null&&M!==x&&$>0){if(M instanceof e.BlockEmbed||x instanceof e.BlockEmbed){this.optimize();return}if(M instanceof r.default){var P=M.newlineIndex(M.length(),!0);if(P>-1&&(M=M.split(P+1),M===x)){this.optimize();return}}else if(x instanceof r.default){var q=x.newlineIndex(0);q>-1&&x.split(q+1)}var U=x.children.head instanceof a.default?null:x.children.head;M.moveChildren(x,U),M.remove()}this.optimize()}},{key:"enable",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",E)}},{key:"formatAt",value:function(E,T,L,F){this.whitelist!=null&&!this.whitelist[L]||(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,E,T,L,F),this.optimize())}},{key:"insertAt",value:function(E,T,L){if(!(L!=null&&this.whitelist!=null&&!this.whitelist[T])){if(E>=this.length())if(L==null||g.default.query(T,g.default.Scope.BLOCK)==null){var F=g.default.create(this.statics.defaultChild);this.appendChild(F),L==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),F.insertAt(0,T,L)}else{var M=g.default.create(T,L);this.appendChild(M)}else O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,E,T,L);this.optimize()}}},{key:"insertBefore",value:function(E,T){if(E.statics.scope===g.default.Scope.INLINE_BLOT){var L=g.default.create(this.statics.defaultChild);L.appendChild(E),E=L}O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,E,T)}},{key:"leaf",value:function(E){return this.path(E).pop()||[null,-1]}},{key:"line",value:function(E){return E===this.length()?this.line(E-1):this.descendant(_,E)}},{key:"lines",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,L=function F(M,$,C){var R=[],x=C;return M.children.forEachAt($,C,function(P,q,U){_(P)?R.push(P):P instanceof g.default.Container&&(R=R.concat(F(P,q,x))),x-=U}),R};return L(this,E,T)}},{key:"optimize",value:function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,E,T),E.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,E,T))}},{key:"path",value:function(E){return O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,E).slice(1)}},{key:"update",value:function(E){if(this.batch!==!0){var T=i.default.sources.USER;typeof E=="string"&&(T=E),Array.isArray(E)||(E=this.observer.takeRecords()),E.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,T,E),O(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,E.concat([])),E.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,T,E)}}}]),p}(g.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[t.default,e.BlockEmbed,u.default],d.default=A},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.SHORTKEY=d.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},w=function(){function j(B,H){var z=[],Z=!0,Q=!1,ee=void 0;try{for(var te=B[Symbol.iterator](),ne;!(Z=(ne=te.next()).done)&&(z.push(ne.value),!(H&&z.length===H));Z=!0);}catch(W){Q=!0,ee=W}finally{try{!Z&&te.return&&te.return()}finally{if(Q)throw ee}}return z}return function(B,H){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return j(B,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function j(B,H){for(var z=0;z<H.length;z++){var Z=H[z];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,Z.key,Z)}}return function(B,H,z){return H&&j(B.prototype,H),z&&j(B,z),B}}(),v=h(21),g=y(v),f=h(11),i=y(f),e=h(3),t=y(e),s=h(2),a=y(s),l=h(20),r=y(l),o=h(0),u=y(o),n=h(5),c=y(n),N=h(10),b=y(N),_=h(9),A=y(_);function y(j){return j&&j.__esModule?j:{default:j}}function p(j,B,H){return B in j?Object.defineProperty(j,B,{value:H,enumerable:!0,configurable:!0,writable:!0}):j[B]=H,j}function m(j,B){if(!(j instanceof B))throw new TypeError("Cannot call a class as a function")}function E(j,B){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:j}function T(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(j,B):j.__proto__=B)}var L=(0,b.default)("quill:keyboard"),F=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",M=function(j){T(B,j),O(B,null,[{key:"match",value:function(z,Z){return Z=D(Z),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Q){return!!Z[Q]!==z[Q]&&Z[Q]!==null})?!1:Z.key===(z.which||z.keyCode)}}]);function B(H,z){m(this,B);var Z=E(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,H,z));return Z.bindings={},Object.keys(Z.options.bindings).forEach(function(Q){Q==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||Z.options.bindings[Q]&&Z.addBinding(Z.options.bindings[Q])}),Z.addBinding({key:B.keys.ENTER,shiftKey:null},P),Z.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Z.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},C),Z.addBinding({key:B.keys.DELETE},{collapsed:!0},R)):(Z.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},C),Z.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},R)),Z.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},x),Z.addBinding({key:B.keys.DELETE},{collapsed:!1},x),Z.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},C),Z.listen(),Z}return O(B,[{key:"addBinding",value:function(z){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ee=D(z);if(ee==null||ee.key==null)return L.warn("Attempted to add invalid keyboard binding",ee);typeof Z=="function"&&(Z={handler:Z}),typeof Q=="function"&&(Q={handler:Q}),ee=(0,t.default)(ee,Z,Q),this.bindings[ee.key]=this.bindings[ee.key]||[],this.bindings[ee.key].push(ee)}},{key:"listen",value:function(){var z=this;this.quill.root.addEventListener("keydown",function(Z){if(!Z.defaultPrevented){var Q=Z.which||Z.keyCode,ee=(z.bindings[Q]||[]).filter(function(ce){return B.match(Z,ce)});if(ee.length!==0){var te=z.quill.getSelection();if(!(te==null||!z.quill.hasFocus())){var ne=z.quill.getLine(te.index),W=w(ne,2),fe=W[0],ae=W[1],K=z.quill.getLeaf(te.index),V=w(K,2),X=V[0],J=V[1],G=te.length===0?[X,J]:z.quill.getLeaf(te.index+te.length),ie=w(G,2),oe=ie[0],le=ie[1],pe=X instanceof u.default.Text?X.value().slice(0,J):"",me=oe instanceof u.default.Text?oe.value().slice(le):"",ue={collapsed:te.length===0,empty:te.length===0&&fe.length()<=1,format:z.quill.getFormat(te),offset:ae,prefix:pe,suffix:me},et=ee.some(function(ce){if(ce.collapsed!=null&&ce.collapsed!==ue.collapsed||ce.empty!=null&&ce.empty!==ue.empty||ce.offset!=null&&ce.offset!==ue.offset)return!1;if(Array.isArray(ce.format)){if(ce.format.every(function(_e){return ue.format[_e]==null}))return!1}else if(k(ce.format)==="object"&&!Object.keys(ce.format).every(function(_e){return ce.format[_e]===!0?ue.format[_e]!=null:ce.format[_e]===!1?ue.format[_e]==null:(0,i.default)(ce.format[_e],ue.format[_e])}))return!1;return ce.prefix!=null&&!ce.prefix.test(ue.prefix)||ce.suffix!=null&&!ce.suffix.test(ue.suffix)?!1:ce.handler.call(z,te,ue)!==!0});et&&Z.preventDefault()}}}})}}]),B}(A.default);M.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},M.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:M.keys.TAB,format:["blockquote","indent","list"],handler:function(B,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:M.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:M.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,H){H.format.indent!=null?this.quill.format("indent","-1",c.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":q(!0),"outdent code-block":q(!1),"remove tab":{key:M.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,c.default.sources.USER)}},tab:{key:M.keys.TAB,handler:function(B){this.quill.history.cutoff();var H=new a.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(H,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,c.default.sources.SILENT)}},"list empty enter":{key:M.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,H){this.quill.format("list",!1,c.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:M.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var H=this.quill.getLine(B.index),z=w(H,2),Z=z[0],Q=z[1],ee=(0,t.default)({},Z.formats(),{list:"checked"}),te=new a.default().retain(B.index).insert(`
`,ee).retain(Z.length()-Q-1).retain(1,{list:"unchecked"});this.quill.updateContents(te,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:M.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,H){var z=this.quill.getLine(B.index),Z=w(z,2),Q=Z[0],ee=Z[1],te=new a.default().retain(B.index).insert(`
`,H.format).retain(Q.length()-ee-1).retain(1,{header:null});this.quill.updateContents(te,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,H){var z=H.prefix.length,Z=this.quill.getLine(B.index),Q=w(Z,2),ee=Q[0],te=Q[1];if(te>z)return!0;var ne=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ne="unchecked";break;case"[x]":ne="checked";break;case"-":case"*":ne="bullet";break;default:ne="ordered"}this.quill.insertText(B.index," ",c.default.sources.USER),this.quill.history.cutoff();var W=new a.default().retain(B.index-te).delete(z+1).retain(ee.length()-2-te).retain(1,{list:ne});this.quill.updateContents(W,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-z,c.default.sources.SILENT)}},"code exit":{key:M.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var H=this.quill.getLine(B.index),z=w(H,2),Z=z[0],Q=z[1],ee=new a.default().retain(B.index+Z.length()-Q-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ee,c.default.sources.USER)}},"embed left":$(M.keys.LEFT,!1),"embed left shift":$(M.keys.LEFT,!0),"embed right":$(M.keys.RIGHT,!1),"embed right shift":$(M.keys.RIGHT,!0)}};function $(j,B){var H,z=j===M.keys.LEFT?"prefix":"suffix";return H={key:j,shiftKey:B,altKey:null},p(H,z,/^$/),p(H,"handler",function(Q){var ee=Q.index;j===M.keys.RIGHT&&(ee+=Q.length+1);var te=this.quill.getLeaf(ee),ne=w(te,1),W=ne[0];return W instanceof u.default.Embed?(j===M.keys.LEFT?B?this.quill.setSelection(Q.index-1,Q.length+1,c.default.sources.USER):this.quill.setSelection(Q.index-1,c.default.sources.USER):B?this.quill.setSelection(Q.index,Q.length+1,c.default.sources.USER):this.quill.setSelection(Q.index+Q.length+1,c.default.sources.USER),!1):!0}),H}function C(j,B){if(!(j.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(j.index),z=w(H,1),Z=z[0],Q={};if(B.offset===0){var ee=this.quill.getLine(j.index-1),te=w(ee,1),ne=te[0];if(ne!=null&&ne.length()>1){var W=Z.formats(),fe=this.quill.getFormat(j.index-1,1);Q=r.default.attributes.diff(W,fe)||{}}}var ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(j.index-ae,ae,c.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(j.index-ae,ae,Q,c.default.sources.USER),this.quill.focus()}}function R(j,B){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(j.index>=this.quill.getLength()-H)){var z={},Z=0,Q=this.quill.getLine(j.index),ee=w(Q,1),te=ee[0];if(B.offset>=te.length()-1){var ne=this.quill.getLine(j.index+1),W=w(ne,1),fe=W[0];if(fe){var ae=te.formats(),K=this.quill.getFormat(j.index,1);z=r.default.attributes.diff(ae,K)||{},Z=fe.length()}}this.quill.deleteText(j.index,H,c.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(j.index+Z-1,H,z,c.default.sources.USER)}}function x(j){var B=this.quill.getLines(j),H={};if(B.length>1){var z=B[0].formats(),Z=B[B.length-1].formats();H=r.default.attributes.diff(Z,z)||{}}this.quill.deleteText(j,c.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(j.index,1,H,c.default.sources.USER),this.quill.setSelection(j.index,c.default.sources.SILENT),this.quill.focus()}function P(j,B){var H=this;j.length>0&&this.quill.scroll.deleteAt(j.index,j.length);var z=Object.keys(B.format).reduce(function(Z,Q){return u.default.query(Q,u.default.Scope.BLOCK)&&!Array.isArray(B.format[Q])&&(Z[Q]=B.format[Q]),Z},{});this.quill.insertText(j.index,`
`,z,c.default.sources.USER),this.quill.setSelection(j.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(Z){z[Z]==null&&(Array.isArray(B.format[Z])||Z!=="link"&&H.quill.format(Z,B.format[Z],c.default.sources.USER))})}function q(j){return{key:M.keys.TAB,shiftKey:!j,format:{"code-block":!0},handler:function(H){var z=u.default.query("code-block"),Z=H.index,Q=H.length,ee=this.quill.scroll.descendant(z,Z),te=w(ee,2),ne=te[0],W=te[1];if(ne!=null){var fe=this.quill.getIndex(ne),ae=ne.newlineIndex(W,!0)+1,K=ne.newlineIndex(fe+W+Q),V=ne.domNode.textContent.slice(ae,K).split(`
`);W=0,V.forEach(function(X,J){j?(ne.insertAt(ae+W,z.TAB),W+=z.TAB.length,J===0?Z+=z.TAB.length:Q+=z.TAB.length):X.startsWith(z.TAB)&&(ne.deleteAt(ae+W,z.TAB.length),W-=z.TAB.length,J===0?Z-=z.TAB.length:Q-=z.TAB.length),W+=X.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(Z,Q,c.default.sources.SILENT)}}}}function U(j){return{key:j[0].toUpperCase(),shortKey:!0,handler:function(H,z){this.quill.format(j,!z.format[j],c.default.sources.USER)}}}function D(j){if(typeof j=="string"||typeof j=="number")return D({key:j});if((typeof j>"u"?"undefined":k(j))==="object"&&(j=(0,g.default)(j,!1)),typeof j.key=="string")if(M.keys[j.key.toUpperCase()]!=null)j.key=M.keys[j.key.toUpperCase()];else if(j.key.length===1)j.key=j.key.toUpperCase().charCodeAt(0);else return null;return j.shortKey&&(j[F]=j.shortKey,delete j.shortKey),j}d.default=M,d.SHORTKEY=F},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function r(o,u){var n=[],c=!0,N=!1,b=void 0;try{for(var _=o[Symbol.iterator](),A;!(c=(A=_.next()).done)&&(n.push(A.value),!(u&&n.length===u));c=!0);}catch(y){N=!0,b=y}finally{try{!c&&_.return&&_.return()}finally{if(N)throw b}}return n}return function(o,u){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return r(o,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var N=Object.getPrototypeOf(o);return N===null?void 0:r(N,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),v=h(0),g=e(v),f=h(7),i=e(f);function e(r){return r&&r.__esModule?r:{default:r}}function t(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function s(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function a(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var l=function(r){a(o,r),O(o,null,[{key:"value",value:function(){}}]);function o(u,n){t(this,o);var c=s(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u));return c.selection=n,c.textNode=document.createTextNode(o.CONTENTS),c.domNode.appendChild(c.textNode),c._length=0,c}return O(o,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(n,c){if(this._length!==0)return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,n,c);for(var N=this,b=0;N!=null&&N.statics.scope!==g.default.Scope.BLOCK_BLOT;)b+=N.offset(N.parent),N=N.parent;N!=null&&(this._length=o.CONTENTS.length,N.optimize(),N.formatAt(b,o.CONTENTS.length,n,c),this._length=0)}},{key:"index",value:function(n,c){return n===this.textNode?0:w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var n=this.textNode,c=this.selection.getNativeRange(),N=void 0,b=void 0,_=void 0;if(c!=null&&c.start.node===n&&c.end.node===n){var A=[n,c.start.offset,c.end.offset];N=A[0],b=A[1],_=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var y=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof i.default?(N=this.next.domNode,this.next.insertAt(0,y),this.textNode.data=o.CONTENTS):(this.textNode.data=y,this.parent.insertBefore(g.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),b!=null){var p=[b,_].map(function(E){return Math.max(0,Math.min(N.data.length,E-1))}),m=k(p,2);return b=m[0],_=m[1],{startNode:N,startOffset:b,endNode:N,endOffset:_}}}}},{key:"update",value:function(n,c){var N=this;if(n.some(function(_){return _.type==="characterData"&&_.target===N.textNode})){var b=this.restore();b&&(c.range=b)}}},{key:"value",value:function(){return""}}]),o}(g.default.Embed);l.blotName="cursor",l.className="ql-cursor",l.tagName="span",l.CONTENTS="\uFEFF",d.default=l},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),w=g(k),O=h(4),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return a}(w.default.Container);t.allowedChildren=[v.default,O.BlockEmbed,t],d.default=t},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.ColorStyle=d.ColorClass=d.ColorAttributor=void 0;var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),w=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var N=n.get;return N===void 0?void 0:N.call(u)}},O=h(0),v=g(O);function g(l){return l&&l.__esModule?l:{default:l}}function f(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function i(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function e(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var t=function(l){e(r,l);function r(){return f(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"value",value:function(u){var n=w(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"value",this).call(this,u);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map(function(c){return("00"+parseInt(c).toString(16)).slice(-2)}).join("")):n}}]),r}(v.default.Attributor.Style),s=new v.default.Attributor.Class("color","ql-color",{scope:v.default.Scope.INLINE}),a=new t("color","color",{scope:v.default.Scope.INLINE});d.ColorAttributor=t,d.ColorClass=s,d.ColorStyle=a},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.sanitize=d.default=void 0;var k=function(){function a(l,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,r,o){return r&&a(l.prototype,r),o&&a(l,o),l}}(),w=function a(l,r,o){l===null&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,r);if(u===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,r,o)}else{if("value"in u)return u.value;var c=u.get;return c===void 0?void 0:c.call(o)}},O=h(6),v=g(O);function g(a){return a&&a.__esModule?a:{default:a}}function f(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function i(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return f(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return k(l,[{key:"format",value:function(o,u){if(o!==this.statics.blotName||!u)return w(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"format",this).call(this,o,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(o){var u=w(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o);return o=this.sanitize(o),u.setAttribute("href",o),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return s(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),l}(v.default);t.blotName="link",t.tagName="A",t.SANITIZED_URL="about:blank",t.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function s(a,l){var r=document.createElement("a");r.href=a;var o=r.href.slice(0,r.href.indexOf(":"));return l.indexOf(o)>-1}d.default=t,d.sanitize=s},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},w=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),O=h(23),v=i(O),g=h(107),f=i(g);function i(l){return l&&l.__esModule?l:{default:l}}function e(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}var t=0;function s(l,r){l.setAttribute(r,l.getAttribute(r)!=="true")}var a=function(){function l(r){var o=this;e(this,l),this.select=r,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(u){switch(u.keyCode){case v.default.keys.ENTER:o.togglePicker();break;case v.default.keys.ESCAPE:o.escape(),u.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return w(l,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),s(this.label,"aria-expanded"),s(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var u=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),o.hasAttribute("value")&&n.setAttribute("data-value",o.getAttribute("value")),o.textContent&&n.setAttribute("data-label",o.textContent),n.addEventListener("click",function(){u.selectItem(n,!0)}),n.addEventListener("keydown",function(c){switch(c.keyCode){case v.default.keys.ENTER:u.selectItem(n,!0),c.preventDefault();break;case v.default.keys.ESCAPE:u.escape(),c.preventDefault();break}}),n}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=f.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,u=document.createElement("span");u.classList.add("ql-picker-options"),u.setAttribute("aria-hidden","true"),u.tabIndex="-1",u.id="ql-picker-options-"+t,t+=1,this.label.setAttribute("aria-controls",u.id),this.options=u,[].slice.call(this.select.options).forEach(function(n){var c=o.buildItem(n);u.appendChild(c),n.selected===!0&&o.selectItem(c)}),this.container.appendChild(u)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(u){o.container.setAttribute(u.name,u.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=this.container.querySelector(".ql-selected");if(o!==n&&(n!=null&&n.classList.remove("ql-selected"),o!=null&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),u))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":k(Event))==="object"){var c=document.createEvent("Event");c.initEvent("change",!0,!0),this.select.dispatchEvent(c)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);var n=o!=null&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),l}();d.default=a},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(0),w=L(k),O=h(5),v=L(O),g=h(4),f=L(g),i=h(16),e=L(i),t=h(25),s=L(t),a=h(24),l=L(a),r=h(35),o=L(r),u=h(6),n=L(u),c=h(22),N=L(c),b=h(7),_=L(b),A=h(55),y=L(A),p=h(42),m=L(p),E=h(23),T=L(E);function L(F){return F&&F.__esModule?F:{default:F}}v.default.register({"blots/block":f.default,"blots/block/embed":g.BlockEmbed,"blots/break":e.default,"blots/container":s.default,"blots/cursor":l.default,"blots/embed":o.default,"blots/inline":n.default,"blots/scroll":N.default,"blots/text":_.default,"modules/clipboard":y.default,"modules/history":m.default,"modules/keyboard":T.default}),w.default.register(f.default,e.default,l.default,n.default,N.default,_.default),d.default=v.default},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(1),w=function(){function O(v){this.domNode=v,this.domNode[k.DATA_KEY]={blot:this}}return Object.defineProperty(O.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),O.create=function(v){if(this.tagName==null)throw new k.ParchmentError("Blot definition missing tagName");var g;return Array.isArray(this.tagName)?(typeof v=="string"&&(v=v.toUpperCase(),parseInt(v).toString()===v&&(v=parseInt(v))),typeof v=="number"?g=document.createElement(this.tagName[v-1]):this.tagName.indexOf(v)>-1?g=document.createElement(v):g=document.createElement(this.tagName[0])):g=document.createElement(this.tagName),this.className&&g.classList.add(this.className),g},O.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},O.prototype.clone=function(){var v=this.domNode.cloneNode(!1);return k.create(v)},O.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[k.DATA_KEY]},O.prototype.deleteAt=function(v,g){var f=this.isolate(v,g);f.remove()},O.prototype.formatAt=function(v,g,f,i){var e=this.isolate(v,g);if(k.query(f,k.Scope.BLOT)!=null&&i)e.wrap(f,i);else if(k.query(f,k.Scope.ATTRIBUTE)!=null){var t=k.create(this.statics.scope);e.wrap(t),t.format(f,i)}},O.prototype.insertAt=function(v,g,f){var i=f==null?k.create("text",g):k.create(g,f),e=this.split(v);this.parent.insertBefore(i,e)},O.prototype.insertInto=function(v,g){g===void 0&&(g=null),this.parent!=null&&this.parent.children.remove(this);var f=null;v.children.insertBefore(this,g),g!=null&&(f=g.domNode),(this.domNode.parentNode!=v.domNode||this.domNode.nextSibling!=f)&&v.domNode.insertBefore(this.domNode,f),this.parent=v,this.attach()},O.prototype.isolate=function(v,g){var f=this.split(v);return f.split(g),f},O.prototype.length=function(){return 1},O.prototype.offset=function(v){return v===void 0&&(v=this.parent),this.parent==null||this==v?0:this.parent.children.offset(this)+this.parent.offset(v)},O.prototype.optimize=function(v){this.domNode[k.DATA_KEY]!=null&&delete this.domNode[k.DATA_KEY].mutations},O.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},O.prototype.replace=function(v){v.parent!=null&&(v.parent.insertBefore(this,v.next),v.remove())},O.prototype.replaceWith=function(v,g){var f=typeof v=="string"?k.create(v,g):v;return f.replace(this),f},O.prototype.split=function(v,g){return v===0?this:this.next},O.prototype.update=function(v,g){},O.prototype.wrap=function(v,g){var f=typeof v=="string"?k.create(v,g):v;return this.parent!=null&&this.parent.insertBefore(f,this.next),f.appendChild(this),f},O.blotName="abstract",O}();d.default=w},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(12),w=h(32),O=h(33),v=h(1),g=function(){function f(i){this.attributes={},this.domNode=i,this.build()}return f.prototype.attribute=function(i,e){e?i.add(this.domNode,e)&&(i.value(this.domNode)!=null?this.attributes[i.attrName]=i:delete this.attributes[i.attrName]):(i.remove(this.domNode),delete this.attributes[i.attrName])},f.prototype.build=function(){var i=this;this.attributes={};var e=k.default.keys(this.domNode),t=w.default.keys(this.domNode),s=O.default.keys(this.domNode);e.concat(t).concat(s).forEach(function(a){var l=v.query(a,v.Scope.ATTRIBUTE);l instanceof k.default&&(i.attributes[l.attrName]=l)})},f.prototype.copy=function(i){var e=this;Object.keys(this.attributes).forEach(function(t){var s=e.attributes[t].value(e.domNode);i.format(t,s)})},f.prototype.move=function(i){var e=this;this.copy(i),Object.keys(this.attributes).forEach(function(t){e.attributes[t].remove(e.domNode)}),this.attributes={}},f.prototype.values=function(){var i=this;return Object.keys(this.attributes).reduce(function(e,t){return e[t]=i.attributes[t].value(i.domNode),e},{})},f}();d.default=g},function(S,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(12);function O(g,f){var i=g.getAttribute("class")||"";return i.split(/\s+/).filter(function(e){return e.indexOf(f+"-")===0})}var v=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},f.prototype.add=function(i,e){return this.canAdd(i,e)?(this.remove(i),i.classList.add(this.keyName+"-"+e),!0):!1},f.prototype.remove=function(i){var e=O(i,this.keyName);e.forEach(function(t){i.classList.remove(t)}),i.classList.length===0&&i.removeAttribute("class")},f.prototype.value=function(i){var e=O(i,this.keyName)[0]||"",t=e.slice(this.keyName.length+1);return this.canAdd(i,t)?t:""},f}(w.default);d.default=v},function(S,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(12);function O(g){var f=g.split("-"),i=f.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return f[0]+i}var v=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(e){var t=e.split(":");return t[0].trim()})},f.prototype.add=function(i,e){return this.canAdd(i,e)?(i.style[O(this.keyName)]=e,!0):!1},f.prototype.remove=function(i){i.style[O(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},f.prototype.value=function(i){var e=i.style[O(this.keyName)];return this.canAdd(i,e)?e:""},f}(w.default);d.default=v},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function v(g,f){for(var i=0;i<f.length;i++){var e=f[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(g,e.key,e)}}return function(g,f,i){return f&&v(g.prototype,f),i&&v(g,i),g}}();function w(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var O=function(){function v(g,f){w(this,v),this.quill=g,this.options=f,this.modules={}}return k(v,[{key:"init",value:function(){var f=this;Object.keys(this.options.modules).forEach(function(i){f.modules[i]==null&&f.addModule(i)})}},{key:"addModule",value:function(f){var i=this.quill.constructor.import("modules/"+f);return this.modules[f]=new i(this.quill,this.options.modules[f]||{}),this.modules[f]}}]),v}();O.DEFAULTS={modules:{}},O.themes={default:O},d.default=O},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),w=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var N=Object.getPrototypeOf(o);return N===null?void 0:r(N,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=h(0),v=i(O),g=h(7),f=i(g);function i(r){return r&&r.__esModule?r:{default:r}}function e(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function t(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function s(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var a="\uFEFF",l=function(r){s(o,r);function o(u){e(this,o);var n=t(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,u));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(c){n.contentNode.appendChild(c)}),n.leftGuard=document.createTextNode(a),n.rightGuard=document.createTextNode(a),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return k(o,[{key:"index",value:function(n,c){return n===this.leftGuard?0:n===this.rightGuard?1:w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,n,c)}},{key:"restore",value:function(n){var c=void 0,N=void 0,b=n.data.split(a).join("");if(n===this.leftGuard)if(this.prev instanceof f.default){var _=this.prev.length();this.prev.insertAt(_,b),c={startNode:this.prev.domNode,startOffset:_+b.length}}else N=document.createTextNode(b),this.parent.insertBefore(v.default.create(N),this),c={startNode:N,startOffset:b.length};else n===this.rightGuard&&(this.next instanceof f.default?(this.next.insertAt(0,b),c={startNode:this.next.domNode,startOffset:b.length}):(N=document.createTextNode(b),this.parent.insertBefore(v.default.create(N),this.next),c={startNode:N,startOffset:b.length}));return n.data=a,c}},{key:"update",value:function(n,c){var N=this;n.forEach(function(b){if(b.type==="characterData"&&(b.target===N.leftGuard||b.target===N.rightGuard)){var _=N.restore(b.target);_&&(c.range=_)}})}}]),o}(v.default.Embed);d.default=l},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.AlignStyle=d.AlignClass=d.AlignAttribute=void 0;var k=h(0),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}var v={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},g=new w.default.Attributor.Attribute("align","align",v),f=new w.default.Attributor.Class("align","ql-align",v),i=new w.default.Attributor.Style("align","text-align",v);d.AlignAttribute=g,d.AlignClass=f,d.AlignStyle=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.BackgroundStyle=d.BackgroundClass=void 0;var k=h(0),w=v(k),O=h(26);function v(i){return i&&i.__esModule?i:{default:i}}var g=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),f=new O.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});d.BackgroundClass=g,d.BackgroundStyle=f},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.DirectionStyle=d.DirectionClass=d.DirectionAttribute=void 0;var k=h(0),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}var v={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},g=new w.default.Attributor.Attribute("direction","dir",v),f=new w.default.Attributor.Class("direction","ql-direction",v),i=new w.default.Attributor.Style("direction","direction",v);d.DirectionAttribute=g,d.DirectionClass=f,d.DirectionStyle=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.FontClass=d.FontStyle=void 0;var k=function(){function r(o,u){for(var n=0;n<u.length;n++){var c=u[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,u,n){return u&&r(o.prototype,u),n&&r(o,n),o}}(),w=function r(o,u,n){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,u);if(c===void 0){var N=Object.getPrototypeOf(o);return N===null?void 0:r(N,u,n)}else{if("value"in c)return c.value;var b=c.get;return b===void 0?void 0:b.call(n)}},O=h(0),v=g(O);function g(r){return r&&r.__esModule?r:{default:r}}function f(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}function i(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o&&(typeof o=="object"||typeof o=="function")?o:r}function e(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}var t={scope:v.default.Scope.INLINE,whitelist:["serif","monospace"]},s=new v.default.Attributor.Class("font","ql-font",t),a=function(r){e(o,r);function o(){return f(this,o),i(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return k(o,[{key:"value",value:function(n){return w(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),o}(v.default.Attributor.Style),l=new a("font","font-family",t);d.FontStyle=l,d.FontClass=s},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.SizeStyle=d.SizeClass=void 0;var k=h(0),w=O(k);function O(f){return f&&f.__esModule?f:{default:f}}var v=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),g=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});d.SizeClass=v,d.SizeStyle=g},function(S,d,h){S.exports={align:{"":h(76),center:h(77),right:h(78),justify:h(79)},background:h(80),blockquote:h(81),bold:h(82),clean:h(83),code:h(58),"code-block":h(58),color:h(84),direction:{"":h(85),rtl:h(86)},float:{center:h(87),full:h(88),left:h(89),right:h(90)},formula:h(91),header:{1:h(92),2:h(93)},italic:h(94),image:h(95),indent:{"+1":h(96),"-1":h(97)},link:h(98),list:{ordered:h(99),bullet:h(100),check:h(101)},script:{sub:h(102),super:h(103)},strike:h(104),underline:h(105),video:h(106)}},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.getLastChangeIndex=d.default=void 0;var k=function(){function u(n,c){for(var N=0;N<c.length;N++){var b=c[N];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,c,N){return c&&u(n.prototype,c),N&&u(n,N),n}}(),w=h(0),O=e(w),v=h(5),g=e(v),f=h(9),i=e(f);function e(u){return u&&u.__esModule?u:{default:u}}function t(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function s(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:u}function a(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var l=function(u){a(n,u);function n(c,N){t(this,n);var b=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c,N));return b.lastRecorded=0,b.ignoreChange=!1,b.clear(),b.quill.on(g.default.events.EDITOR_CHANGE,function(_,A,y,p){_!==g.default.events.TEXT_CHANGE||b.ignoreChange||(!b.options.userOnly||p===g.default.sources.USER?b.record(A,y):b.transform(A))}),b.quill.keyboard.addBinding({key:"Z",shortKey:!0},b.undo.bind(b)),b.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},b.redo.bind(b)),/Win/i.test(navigator.platform)&&b.quill.keyboard.addBinding({key:"Y",shortKey:!0},b.redo.bind(b)),b}return k(n,[{key:"change",value:function(N,b){if(this.stack[N].length!==0){var _=this.stack[N].pop();this.stack[b].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[N],g.default.sources.USER),this.ignoreChange=!1;var A=o(_[N]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(N,b){if(N.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(b),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var y=this.stack.undo.pop();_=_.compose(y.undo),N=y.redo.compose(N)}else this.lastRecorded=A;this.stack.undo.push({redo:N,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(N){this.stack.undo.forEach(function(b){b.undo=N.transform(b.undo,!0),b.redo=N.transform(b.redo,!0)}),this.stack.redo.forEach(function(b){b.undo=N.transform(b.undo,!0),b.redo=N.transform(b.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(i.default);l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function r(u){var n=u.ops[u.ops.length-1];return n==null?!1:n.insert!=null?typeof n.insert=="string"&&n.insert.endsWith(`
`):n.attributes!=null?Object.keys(n.attributes).some(function(c){return O.default.query(c,O.default.Scope.BLOCK)!=null}):!1}function o(u){var n=u.reduce(function(N,b){return N+=b.delete||0,N},0),c=u.length()-n;return r(u)&&(c-=1),c}d.default=l,d.getLastChangeIndex=o},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BaseTooltip=void 0;var k=function(){function P(q,U){for(var D=0;D<U.length;D++){var j=U[D];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(q,j.key,j)}}return function(q,U,D){return U&&P(q.prototype,U),D&&P(q,D),q}}(),w=function P(q,U,D){q===null&&(q=Function.prototype);var j=Object.getOwnPropertyDescriptor(q,U);if(j===void 0){var B=Object.getPrototypeOf(q);return B===null?void 0:P(B,U,D)}else{if("value"in j)return j.value;var H=j.get;return H===void 0?void 0:H.call(D)}},O=h(3),v=A(O),g=h(2),f=A(g),i=h(8),e=A(i),t=h(23),s=A(t),a=h(34),l=A(a),r=h(59),o=A(r),u=h(60),n=A(u),c=h(28),N=A(c),b=h(61),_=A(b);function A(P){return P&&P.__esModule?P:{default:P}}function y(P,q){if(!(P instanceof q))throw new TypeError("Cannot call a class as a function")}function p(P,q){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q&&(typeof q=="object"||typeof q=="function")?q:P}function m(P,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);P.prototype=Object.create(q&&q.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(P,q):P.__proto__=q)}var E=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],F=["1","2","3",!1],M=["small",!1,"large","huge"],$=function(P){m(q,P);function q(U,D){y(this,q);var j=p(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,U,D)),B=function H(z){if(!document.body.contains(U.root))return document.body.removeEventListener("click",H);j.tooltip!=null&&!j.tooltip.root.contains(z.target)&&document.activeElement!==j.tooltip.textbox&&!j.quill.hasFocus()&&j.tooltip.hide(),j.pickers!=null&&j.pickers.forEach(function(Z){Z.container.contains(z.target)||Z.close()})};return U.emitter.listenDOM("click",document.body,B),j}return k(q,[{key:"addModule",value:function(D){var j=w(q.prototype.__proto__||Object.getPrototypeOf(q.prototype),"addModule",this).call(this,D);return D==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(D,j){D.forEach(function(B){var H=B.getAttribute("class")||"";H.split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),j[z]!=null))if(z==="direction")B.innerHTML=j[z][""]+j[z].rtl;else if(typeof j[z]=="string")B.innerHTML=j[z];else{var Z=B.value||"";Z!=null&&j[z][Z]&&(B.innerHTML=j[z][Z])}})})}},{key:"buildPickers",value:function(D,j){var B=this;this.pickers=D.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&x(z,E),new n.default(z,j.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var Z=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&x(z,T,Z==="background"?"#ffffff":"#000000"),new o.default(z,j[Z])}else return z.querySelector("option")==null&&(z.classList.contains("ql-font")?x(z,L):z.classList.contains("ql-header")?x(z,F):z.classList.contains("ql-size")&&x(z,M)),new N.default(z)});var H=function(){B.pickers.forEach(function(Z){Z.update()})};this.quill.on(e.default.events.EDITOR_CHANGE,H)}}]),q}(l.default);$.DEFAULTS=(0,v.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var q=this,U=this.container.querySelector("input.ql-image[type=file]");U==null&&(U=document.createElement("input"),U.setAttribute("type","file"),U.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),U.classList.add("ql-image"),U.addEventListener("change",function(){if(U.files!=null&&U.files[0]!=null){var D=new FileReader;D.onload=function(j){var B=q.quill.getSelection(!0);q.quill.updateContents(new f.default().retain(B.index).delete(B.length).insert({image:j.target.result}),e.default.sources.USER),q.quill.setSelection(B.index+1,e.default.sources.SILENT),U.value=""},D.readAsDataURL(U.files[0])}}),this.container.appendChild(U)),U.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var C=function(P){m(q,P);function q(U,D){y(this,q);var j=p(this,(q.__proto__||Object.getPrototypeOf(q)).call(this,U,D));return j.textbox=j.root.querySelector('input[type="text"]'),j.listen(),j}return k(q,[{key:"listen",value:function(){var D=this;this.textbox.addEventListener("keydown",function(j){s.default.match(j,"enter")?(D.save(),j.preventDefault()):s.default.match(j,"escape")&&(D.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:D!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+D)||""),this.root.setAttribute("data-mode",D)}},{key:"restoreFocus",value:function(){var D=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=D}},{key:"save",value:function(){var D=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var j=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",D,e.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",D,e.default.sources.USER)),this.quill.root.scrollTop=j;break}case"video":D=R(D);case"formula":{if(!D)break;var B=this.quill.getSelection(!0);if(B!=null){var H=B.index+B.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),D,e.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",e.default.sources.USER),this.quill.setSelection(H+2,e.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),q}(_.default);function R(P){var q=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return q?(q[1]||"https")+"://www.youtube.com/embed/"+q[2]+"?showinfo=0":(q=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(q[1]||"https")+"://player.vimeo.com/video/"+q[2]+"/":P}function x(P,q){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;q.forEach(function(D){var j=document.createElement("option");D===U?j.setAttribute("selected","selected"):j.setAttribute("value",D),P.appendChild(j)})}d.BaseTooltip=C,d.default=$},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var O=[],v=0;v<arguments.length;v++)O[v]=arguments[v];this.insertBefore(O[0],null),O.length>1&&this.append.apply(this,O.slice(1))},w.prototype.contains=function(O){for(var v,g=this.iterator();v=g();)if(v===O)return!0;return!1},w.prototype.insertBefore=function(O,v){O&&(O.next=v,v!=null?(O.prev=v.prev,v.prev!=null&&(v.prev.next=O),v.prev=O,v===this.head&&(this.head=O)):this.tail!=null?(this.tail.next=O,O.prev=this.tail,this.tail=O):(O.prev=null,this.head=this.tail=O),this.length+=1)},w.prototype.offset=function(O){for(var v=0,g=this.head;g!=null;){if(g===O)return v;v+=g.length(),g=g.next}return-1},w.prototype.remove=function(O){this.contains(O)&&(O.prev!=null&&(O.prev.next=O.next),O.next!=null&&(O.next.prev=O.prev),O===this.head&&(this.head=O.next),O===this.tail&&(this.tail=O.prev),this.length-=1)},w.prototype.iterator=function(O){return O===void 0&&(O=this.head),function(){var v=O;return O!=null&&(O=O.next),v}},w.prototype.find=function(O,v){v===void 0&&(v=!1);for(var g,f=this.iterator();g=f();){var i=g.length();if(O<i||v&&O===i&&(g.next==null||g.next.length()!==0))return[g,O];O-=i}return[null,0]},w.prototype.forEach=function(O){for(var v,g=this.iterator();v=g();)O(v)},w.prototype.forEachAt=function(O,v,g){if(!(v<=0))for(var f=this.find(O),i=f[0],e=f[1],t,s=O-e,a=this.iterator(i);(t=a())&&s<O+v;){var l=t.length();O>s?g(t,O-s,Math.min(v,s+l-O)):g(t,0,Math.min(l,O+v-s)),s+=l}},w.prototype.map=function(O){return this.reduce(function(v,g){return v.push(O(g)),v},[])},w.prototype.reduce=function(O,v){for(var g,f=this.iterator();g=f();)v=O(v,g);return v},w}();d.default=k},function(S,d,h){var k=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var s in t)t.hasOwnProperty(s)&&(e[s]=t[s])};return function(e,t){i(e,t);function s(){this.constructor=e}e.prototype=t===null?Object.create(t):(s.prototype=t.prototype,new s)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(17),O=h(1),v={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},g=100,f=function(i){k(e,i);function e(t){var s=i.call(this,t)||this;return s.scroll=s,s.observer=new MutationObserver(function(a){s.update(a)}),s.observer.observe(s.domNode,v),s.attach(),s}return e.prototype.detach=function(){i.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(t,s){this.update(),t===0&&s===this.length()?this.children.forEach(function(a){a.remove()}):i.prototype.deleteAt.call(this,t,s)},e.prototype.formatAt=function(t,s,a,l){this.update(),i.prototype.formatAt.call(this,t,s,a,l)},e.prototype.insertAt=function(t,s,a){this.update(),i.prototype.insertAt.call(this,t,s,a)},e.prototype.optimize=function(t,s){var a=this;t===void 0&&(t=[]),s===void 0&&(s={}),i.prototype.optimize.call(this,s);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)t.push(l.pop());for(var r=function(c,N){N===void 0&&(N=!0),!(c==null||c===a)&&c.domNode.parentNode!=null&&(c.domNode[O.DATA_KEY].mutations==null&&(c.domNode[O.DATA_KEY].mutations=[]),N&&r(c.parent))},o=function(c){c.domNode[O.DATA_KEY]==null||c.domNode[O.DATA_KEY].mutations==null||(c instanceof w.default&&c.children.forEach(o),c.optimize(s))},u=t,n=0;u.length>0;n+=1){if(n>=g)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(c){var N=O.find(c.target,!0);N!=null&&(N.domNode===c.target&&(c.type==="childList"?(r(O.find(c.previousSibling,!1)),[].forEach.call(c.addedNodes,function(b){var _=O.find(b,!1);r(_,!1),_ instanceof w.default&&_.children.forEach(function(A){r(A,!1)})})):c.type==="attributes"&&r(N.prev)),r(N))}),this.children.forEach(o),u=[].slice.call(this.observer.takeRecords()),l=u.slice();l.length>0;)t.push(l.pop())}},e.prototype.update=function(t,s){var a=this;s===void 0&&(s={}),t=t||this.observer.takeRecords(),t.map(function(l){var r=O.find(l.target,!0);return r==null?null:r.domNode[O.DATA_KEY].mutations==null?(r.domNode[O.DATA_KEY].mutations=[l],r):(r.domNode[O.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l==null||l===a||l.domNode[O.DATA_KEY]==null||l.update(l.domNode[O.DATA_KEY].mutations||[],s)}),this.domNode[O.DATA_KEY].mutations!=null&&i.prototype.update.call(this,this.domNode[O.DATA_KEY].mutations,s),this.optimize(t,s)},e.blotName="scroll",e.defaultChild="block",e.scope=O.Scope.BLOCK_BLOT,e.tagName="DIV",e}(w.default);d.default=f},function(S,d,h){var k=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t])};return function(i,e){f(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(18),O=h(1);function v(f,i){if(Object.keys(f).length!==Object.keys(i).length)return!1;for(var e in f)if(f[e]!==i[e])return!1;return!0}var g=function(f){k(i,f);function i(){return f!==null&&f.apply(this,arguments)||this}return i.formats=function(e){if(e.tagName!==i.tagName)return f.formats.call(this,e)},i.prototype.format=function(e,t){var s=this;e===this.statics.blotName&&!t?(this.children.forEach(function(a){a instanceof w.default||(a=a.wrap(i.blotName,!0)),s.attributes.copy(a)}),this.unwrap()):f.prototype.format.call(this,e,t)},i.prototype.formatAt=function(e,t,s,a){if(this.formats()[s]!=null||O.query(s,O.Scope.ATTRIBUTE)){var l=this.isolate(e,t);l.format(s,a)}else f.prototype.formatAt.call(this,e,t,s,a)},i.prototype.optimize=function(e){f.prototype.optimize.call(this,e);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var s=this.next;s instanceof i&&s.prev===this&&v(t,s.formats())&&(s.moveChildren(this),s.remove())},i.blotName="inline",i.scope=O.Scope.INLINE_BLOT,i.tagName="SPAN",i}(w.default);d.default=g},function(S,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(18),O=h(1),v=function(g){k(f,g);function f(){return g!==null&&g.apply(this,arguments)||this}return f.formats=function(i){var e=O.query(f.blotName).tagName;if(i.tagName!==e)return g.formats.call(this,i)},f.prototype.format=function(i,e){O.query(i,O.Scope.BLOCK)!=null&&(i===this.statics.blotName&&!e?this.replaceWith(f.blotName):g.prototype.format.call(this,i,e))},f.prototype.formatAt=function(i,e,t,s){O.query(t,O.Scope.BLOCK)!=null?this.format(t,s):g.prototype.formatAt.call(this,i,e,t,s)},f.prototype.insertAt=function(i,e,t){if(t==null||O.query(e,O.Scope.INLINE)!=null)g.prototype.insertAt.call(this,i,e,t);else{var s=this.split(i),a=O.create(e,t);s.parent.insertBefore(a,s)}},f.prototype.update=function(i,e){navigator.userAgent.match(/Trident/)?this.build():g.prototype.update.call(this,i,e)},f.blotName="block",f.scope=O.Scope.BLOCK_BLOT,f.tagName="P",f}(w.default);d.default=v},function(S,d,h){var k=this&&this.__extends||function(){var v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,f){g.__proto__=f}||function(g,f){for(var i in f)f.hasOwnProperty(i)&&(g[i]=f[i])};return function(g,f){v(g,f);function i(){this.constructor=g}g.prototype=f===null?Object.create(f):(i.prototype=f.prototype,new i)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(19),O=function(v){k(g,v);function g(){return v!==null&&v.apply(this,arguments)||this}return g.formats=function(f){},g.prototype.format=function(f,i){v.prototype.formatAt.call(this,0,this.length(),f,i)},g.prototype.formatAt=function(f,i,e,t){f===0&&i===this.length()?this.format(e,t):v.prototype.formatAt.call(this,f,i,e,t)},g.prototype.formats=function(){return this.statics.formats(this.domNode)},g}(w.default);d.default=O},function(S,d,h){var k=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,i){f.__proto__=i}||function(f,i){for(var e in i)i.hasOwnProperty(e)&&(f[e]=i[e])};return function(f,i){g(f,i);function e(){this.constructor=f}f.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)}}();Object.defineProperty(d,"__esModule",{value:!0});var w=h(19),O=h(1),v=function(g){k(f,g);function f(i){var e=g.call(this,i)||this;return e.text=e.statics.value(e.domNode),e}return f.create=function(i){return document.createTextNode(i)},f.value=function(i){var e=i.data;return e.normalize&&(e=e.normalize()),e},f.prototype.deleteAt=function(i,e){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+e)},f.prototype.index=function(i,e){return this.domNode===i?e:-1},f.prototype.insertAt=function(i,e,t){t==null?(this.text=this.text.slice(0,i)+e+this.text.slice(i),this.domNode.data=this.text):g.prototype.insertAt.call(this,i,e,t)},f.prototype.length=function(){return this.text.length},f.prototype.optimize=function(i){g.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof f&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},f.prototype.position=function(i,e){return[this.domNode,i]},f.prototype.split=function(i,e){if(e===void 0&&(e=!1),!e){if(i===0)return this;if(i===this.length())return this.next}var t=O.create(this.domNode.splitText(i));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},f.prototype.update=function(i,e){var t=this;i.some(function(s){return s.type==="characterData"&&s.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},f.prototype.value=function(){return this.text},f.blotName="text",f.scope=O.Scope.INLINE_BLOT,f}(w.default);d.default=v},function(S,d,h){var k=document.createElement("div");if(k.classList.toggle("test-class",!1),k.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(O,v){return arguments.length>1&&!this.contains(O)==!v?v:w.call(this,O)}}String.prototype.startsWith||(String.prototype.startsWith=function(O,v){return v=v||0,this.substr(v,O.length)===O}),String.prototype.endsWith||(String.prototype.endsWith=function(O,v){var g=this.toString();(typeof v!="number"||!isFinite(v)||Math.floor(v)!==v||v>g.length)&&(v=g.length),v-=O.length;var f=g.indexOf(O,v);return f!==-1&&f===v}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(v){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof v!="function")throw new TypeError("predicate must be a function");for(var g=Object(this),f=g.length>>>0,i=arguments[1],e,t=0;t<f;t++)if(e=g[t],v.call(i,e,t,g))return e}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(S,d){var h=-1,k=1,w=0;function O(n,c,N){if(n==c)return n?[[w,n]]:[];(N<0||n.length<N)&&(N=null);var b=i(n,c),_=n.substring(0,b);n=n.substring(b),c=c.substring(b),b=e(n,c);var A=n.substring(n.length-b);n=n.substring(0,n.length-b),c=c.substring(0,c.length-b);var y=v(n,c);return _&&y.unshift([w,_]),A&&y.push([w,A]),s(y),N!=null&&(y=r(y,N)),y=o(y),y}function v(n,c){var N;if(!n)return[[k,c]];if(!c)return[[h,n]];var b=n.length>c.length?n:c,_=n.length>c.length?c:n,A=b.indexOf(_);if(A!=-1)return N=[[k,b.substring(0,A)],[w,_],[k,b.substring(A+_.length)]],n.length>c.length&&(N[0][0]=N[2][0]=h),N;if(_.length==1)return[[h,n],[k,c]];var y=t(n,c);if(y){var p=y[0],m=y[1],E=y[2],T=y[3],L=y[4],F=O(p,E),M=O(m,T);return F.concat([[w,L]],M)}return g(n,c)}function g(n,c){for(var N=n.length,b=c.length,_=Math.ceil((N+b)/2),A=_,y=2*_,p=new Array(y),m=new Array(y),E=0;E<y;E++)p[E]=-1,m[E]=-1;p[A+1]=0,m[A+1]=0;for(var T=N-b,L=T%2!=0,F=0,M=0,$=0,C=0,R=0;R<_;R++){for(var x=-R+F;x<=R-M;x+=2){var P=A+x,q;x==-R||x!=R&&p[P-1]<p[P+1]?q=p[P+1]:q=p[P-1]+1;for(var U=q-x;q<N&&U<b&&n.charAt(q)==c.charAt(U);)q++,U++;if(p[P]=q,q>N)M+=2;else if(U>b)F+=2;else if(L){var D=A+T-x;if(D>=0&&D<y&&m[D]!=-1){var j=N-m[D];if(q>=j)return f(n,c,q,U)}}}for(var B=-R+$;B<=R-C;B+=2){var D=A+B,j;B==-R||B!=R&&m[D-1]<m[D+1]?j=m[D+1]:j=m[D-1]+1;for(var H=j-B;j<N&&H<b&&n.charAt(N-j-1)==c.charAt(b-H-1);)j++,H++;if(m[D]=j,j>N)C+=2;else if(H>b)$+=2;else if(!L){var P=A+T-B;if(P>=0&&P<y&&p[P]!=-1){var q=p[P],U=A+q-P;if(j=N-j,q>=j)return f(n,c,q,U)}}}}return[[h,n],[k,c]]}function f(n,c,N,b){var _=n.substring(0,N),A=c.substring(0,b),y=n.substring(N),p=c.substring(b),m=O(_,A),E=O(y,p);return m.concat(E)}function i(n,c){if(!n||!c||n.charAt(0)!=c.charAt(0))return 0;for(var N=0,b=Math.min(n.length,c.length),_=b,A=0;N<_;)n.substring(A,_)==c.substring(A,_)?(N=_,A=N):b=_,_=Math.floor((b-N)/2+N);return _}function e(n,c){if(!n||!c||n.charAt(n.length-1)!=c.charAt(c.length-1))return 0;for(var N=0,b=Math.min(n.length,c.length),_=b,A=0;N<_;)n.substring(n.length-_,n.length-A)==c.substring(c.length-_,c.length-A)?(N=_,A=N):b=_,_=Math.floor((b-N)/2+N);return _}function t(n,c){var N=n.length>c.length?n:c,b=n.length>c.length?c:n;if(N.length<4||b.length*2<N.length)return null;function _(M,$,C){for(var R=M.substring(C,C+Math.floor(M.length/4)),x=-1,P="",q,U,D,j;(x=$.indexOf(R,x+1))!=-1;){var B=i(M.substring(C),$.substring(x)),H=e(M.substring(0,C),$.substring(0,x));P.length<H+B&&(P=$.substring(x-H,x)+$.substring(x,x+B),q=M.substring(0,C-H),U=M.substring(C+B),D=$.substring(0,x-H),j=$.substring(x+B))}return P.length*2>=M.length?[q,U,D,j,P]:null}var A=_(N,b,Math.ceil(N.length/4)),y=_(N,b,Math.ceil(N.length/2)),p;if(!A&&!y)return null;y?A?p=A[4].length>y[4].length?A:y:p=y:p=A;var m,E,T,L;n.length>c.length?(m=p[0],E=p[1],T=p[2],L=p[3]):(T=p[0],L=p[1],m=p[2],E=p[3]);var F=p[4];return[m,E,T,L,F]}function s(n){n.push([w,""]);for(var c=0,N=0,b=0,_="",A="",y;c<n.length;)switch(n[c][0]){case k:b++,A+=n[c][1],c++;break;case h:N++,_+=n[c][1],c++;break;case w:N+b>1?(N!==0&&b!==0&&(y=i(A,_),y!==0&&(c-N-b>0&&n[c-N-b-1][0]==w?n[c-N-b-1][1]+=A.substring(0,y):(n.splice(0,0,[w,A.substring(0,y)]),c++),A=A.substring(y),_=_.substring(y)),y=e(A,_),y!==0&&(n[c][1]=A.substring(A.length-y)+n[c][1],A=A.substring(0,A.length-y),_=_.substring(0,_.length-y))),N===0?n.splice(c-b,N+b,[k,A]):b===0?n.splice(c-N,N+b,[h,_]):n.splice(c-N-b,N+b,[h,_],[k,A]),c=c-N-b+(N?1:0)+(b?1:0)+1):c!==0&&n[c-1][0]==w?(n[c-1][1]+=n[c][1],n.splice(c,1)):c++,b=0,N=0,_="",A="";break}n[n.length-1][1]===""&&n.pop();var p=!1;for(c=1;c<n.length-1;)n[c-1][0]==w&&n[c+1][0]==w&&(n[c][1].substring(n[c][1].length-n[c-1][1].length)==n[c-1][1]?(n[c][1]=n[c-1][1]+n[c][1].substring(0,n[c][1].length-n[c-1][1].length),n[c+1][1]=n[c-1][1]+n[c+1][1],n.splice(c-1,1),p=!0):n[c][1].substring(0,n[c+1][1].length)==n[c+1][1]&&(n[c-1][1]+=n[c+1][1],n[c][1]=n[c][1].substring(n[c+1][1].length)+n[c+1][1],n.splice(c+1,1),p=!0)),c++;p&&s(n)}var a=O;a.INSERT=k,a.DELETE=h,a.EQUAL=w,S.exports=a;function l(n,c){if(c===0)return[w,n];for(var N=0,b=0;b<n.length;b++){var _=n[b];if(_[0]===h||_[0]===w){var A=N+_[1].length;if(c===A)return[b+1,n];if(c<A){n=n.slice();var y=c-N,p=[_[0],_[1].slice(0,y)],m=[_[0],_[1].slice(y)];return n.splice(b,1,p,m),[b+1,n]}else N=A}}throw new Error("cursor_pos is out of bounds!")}function r(n,c){var N=l(n,c),b=N[1],_=N[0],A=b[_],y=b[_+1];if(A==null)return n;if(A[0]!==w)return n;if(y!=null&&A[1]+y[1]===y[1]+A[1])return b.splice(_,2,y,A),u(b,_,2);if(y!=null&&y[1].indexOf(A[1])===0){b.splice(_,2,[y[0],A[1]],[0,A[1]]);var p=y[1].slice(A[1].length);return p.length>0&&b.splice(_+2,0,[y[0],p]),u(b,_,3)}else return n}function o(n){for(var c=!1,N=function(y){return y.charCodeAt(0)>=56320&&y.charCodeAt(0)<=57343},b=function(y){return y.charCodeAt(y.length-1)>=55296&&y.charCodeAt(y.length-1)<=56319},_=2;_<n.length;_+=1)n[_-2][0]===w&&b(n[_-2][1])&&n[_-1][0]===h&&N(n[_-1][1])&&n[_][0]===k&&N(n[_][1])&&(c=!0,n[_-1][1]=n[_-2][1].slice(-1)+n[_-1][1],n[_][1]=n[_-2][1].slice(-1)+n[_][1],n[_-2][1]=n[_-2][1].slice(0,-1));if(!c)return n;for(var A=[],_=0;_<n.length;_+=1)n[_][1].length>0&&A.push(n[_]);return A}function u(n,c,N){for(var b=c+N-1;b>=0&&b>=c-1;b--)if(b+1<n.length){var _=n[b],A=n[b+1];_[0]===A[1]&&n.splice(b,2,[_[0],_[1]+A[1]])}return n}},function(S,d){d=S.exports=typeof Object.keys=="function"?Object.keys:h,d.shim=h;function h(k){var w=[];for(var O in k)w.push(O);return w}},function(S,d){var h=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";d=S.exports=h?k:w,d.supported=k;function k(O){return Object.prototype.toString.call(O)=="[object Arguments]"}d.unsupported=w;function w(O){return O&&typeof O=="object"&&typeof O.length=="number"&&Object.prototype.hasOwnProperty.call(O,"callee")&&!Object.prototype.propertyIsEnumerable.call(O,"callee")||!1}},function(S,d){var h=Object.prototype.hasOwnProperty,k="~";function w(){}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(k=!1));function O(g,f,i){this.fn=g,this.context=f,this.once=i||!1}function v(){this._events=new w,this._eventsCount=0}v.prototype.eventNames=function(){var f=[],i,e;if(this._eventsCount===0)return f;for(e in i=this._events)h.call(i,e)&&f.push(k?e.slice(1):e);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(i)):f},v.prototype.listeners=function(f,i){var e=k?k+f:f,t=this._events[e];if(i)return!!t;if(!t)return[];if(t.fn)return[t.fn];for(var s=0,a=t.length,l=new Array(a);s<a;s++)l[s]=t[s].fn;return l},v.prototype.emit=function(f,i,e,t,s,a){var l=k?k+f:f;if(!this._events[l])return!1;var r=this._events[l],o=arguments.length,u,n;if(r.fn){switch(r.once&&this.removeListener(f,r.fn,void 0,!0),o){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,i),!0;case 3:return r.fn.call(r.context,i,e),!0;case 4:return r.fn.call(r.context,i,e,t),!0;case 5:return r.fn.call(r.context,i,e,t,s),!0;case 6:return r.fn.call(r.context,i,e,t,s,a),!0}for(n=1,u=new Array(o-1);n<o;n++)u[n-1]=arguments[n];r.fn.apply(r.context,u)}else{var c=r.length,N;for(n=0;n<c;n++)switch(r[n].once&&this.removeListener(f,r[n].fn,void 0,!0),o){case 1:r[n].fn.call(r[n].context);break;case 2:r[n].fn.call(r[n].context,i);break;case 3:r[n].fn.call(r[n].context,i,e);break;case 4:r[n].fn.call(r[n].context,i,e,t);break;default:if(!u)for(N=1,u=new Array(o-1);N<o;N++)u[N-1]=arguments[N];r[n].fn.apply(r[n].context,u)}}return!0},v.prototype.on=function(f,i,e){var t=new O(i,e||this),s=k?k+f:f;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},v.prototype.once=function(f,i,e){var t=new O(i,e||this,!0),s=k?k+f:f;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],t]:this._events[s].push(t):(this._events[s]=t,this._eventsCount++),this},v.prototype.removeListener=function(f,i,e,t){var s=k?k+f:f;if(!this._events[s])return this;if(!i)return--this._eventsCount===0?this._events=new w:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn===i&&(!t||a.once)&&(!e||a.context===e)&&(--this._eventsCount===0?this._events=new w:delete this._events[s]);else{for(var l=0,r=[],o=a.length;l<o;l++)(a[l].fn!==i||t&&!a[l].once||e&&a[l].context!==e)&&r.push(a[l]);r.length?this._events[s]=r.length===1?r[0]:r:--this._eventsCount===0?this._events=new w:delete this._events[s]}return this},v.prototype.removeAllListeners=function(f){var i;return f?(i=k?k+f:f,this._events[i]&&(--this._eventsCount===0?this._events=new w:delete this._events[i])):(this._events=new w,this._eventsCount=0),this},v.prototype.off=v.prototype.removeListener,v.prototype.addListener=v.prototype.on,v.prototype.setMaxListeners=function(){return this},v.prefixed=k,v.EventEmitter=v,typeof S<"u"&&(S.exports=v)},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.matchText=d.matchSpacing=d.matchNewline=d.matchBlot=d.matchAttributor=d.default=void 0;var k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},w=function(){function K(V,X){var J=[],G=!0,ie=!1,oe=void 0;try{for(var le=V[Symbol.iterator](),pe;!(G=(pe=le.next()).done)&&(J.push(pe.value),!(X&&J.length===X));G=!0);}catch(me){ie=!0,oe=me}finally{try{!G&&le.return&&le.return()}finally{if(ie)throw oe}}return J}return function(V,X){if(Array.isArray(V))return V;if(Symbol.iterator in Object(V))return K(V,X);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),O=function(){function K(V,X){for(var J=0;J<X.length;J++){var G=X[J];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(V,G.key,G)}}return function(V,X,J){return X&&K(V.prototype,X),J&&K(V,J),V}}(),v=h(3),g=m(v),f=h(2),i=m(f),e=h(0),t=m(e),s=h(5),a=m(s),l=h(10),r=m(l),o=h(9),u=m(o),n=h(36),c=h(37),N=h(13),b=m(N),_=h(26),A=h(38),y=h(39),p=h(40);function m(K){return K&&K.__esModule?K:{default:K}}function E(K,V,X){return V in K?Object.defineProperty(K,V,{value:X,enumerable:!0,configurable:!0,writable:!0}):K[V]=X,K}function T(K,V){if(!(K instanceof V))throw new TypeError("Cannot call a class as a function")}function L(K,V){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:K}function F(K,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);K.prototype=Object.create(V&&V.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(K,V):K.__proto__=V)}var M=(0,r.default)("quill:clipboard"),$="__ql-matcher",C=[[Node.TEXT_NODE,ae],[Node.TEXT_NODE,ne],["br",Q],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,Z],[Node.ELEMENT_NODE,W],[Node.ELEMENT_NODE,z],[Node.ELEMENT_NODE,fe],["li",te],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",ee]],R=[n.AlignAttribute,A.DirectionAttribute].reduce(function(K,V){return K[V.keyName]=V,K},{}),x=[n.AlignStyle,c.BackgroundStyle,_.ColorStyle,A.DirectionStyle,y.FontStyle,p.SizeStyle].reduce(function(K,V){return K[V.keyName]=V,K},{}),P=function(K){F(V,K);function V(X,J){T(this,V);var G=L(this,(V.__proto__||Object.getPrototypeOf(V)).call(this,X,J));return G.quill.root.addEventListener("paste",G.onPaste.bind(G)),G.container=G.quill.addContainer("ql-clipboard"),G.container.setAttribute("contenteditable",!0),G.container.setAttribute("tabindex",-1),G.matchers=[],C.concat(G.options.matchers).forEach(function(ie){var oe=w(ie,2),le=oe[0],pe=oe[1];!J.matchVisual&&pe===W||G.addMatcher(le,pe)}),G}return O(V,[{key:"addMatcher",value:function(J,G){this.matchers.push([J,G])}},{key:"convert",value:function(J){if(typeof J=="string")return this.container.innerHTML=J.replace(/\>\r?\n +\</g,"><"),this.convert();var G=this.quill.getFormat(this.quill.selection.savedRange.index);if(G[b.default.blotName]){var ie=this.container.innerText;return this.container.innerHTML="",new i.default().insert(ie,E({},b.default.blotName,G[b.default.blotName]))}var oe=this.prepareMatching(),le=w(oe,2),pe=le[0],me=le[1],ue=B(this.container,pe,me);return D(ue,`
`)&&ue.ops[ue.ops.length-1].attributes==null&&(ue=ue.compose(new i.default().retain(ue.length()-1).delete(1))),M.log("convert",this.container.innerHTML,ue),this.container.innerHTML="",ue}},{key:"dangerouslyPasteHTML",value:function(J,G){var ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof J=="string")this.quill.setContents(this.convert(J),G),this.quill.setSelection(0,a.default.sources.SILENT);else{var oe=this.convert(G);this.quill.updateContents(new i.default().retain(J).concat(oe),ie),this.quill.setSelection(J+oe.length(),a.default.sources.SILENT)}}},{key:"onPaste",value:function(J){var G=this;if(!(J.defaultPrevented||!this.quill.isEnabled())){var ie=this.quill.getSelection(),oe=new i.default().retain(ie.index),le=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(a.default.sources.SILENT),setTimeout(function(){oe=oe.concat(G.convert()).delete(ie.length),G.quill.updateContents(oe,a.default.sources.USER),G.quill.setSelection(oe.length()-ie.length,a.default.sources.SILENT),G.quill.scrollingContainer.scrollTop=le,G.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var J=this,G=[],ie=[];return this.matchers.forEach(function(oe){var le=w(oe,2),pe=le[0],me=le[1];switch(pe){case Node.TEXT_NODE:ie.push(me);break;case Node.ELEMENT_NODE:G.push(me);break;default:[].forEach.call(J.container.querySelectorAll(pe),function(ue){ue[$]=ue[$]||[],ue[$].push(me)});break}}),[G,ie]}}]),V}(u.default);P.DEFAULTS={matchers:[],matchVisual:!0};function q(K,V,X){return(typeof V>"u"?"undefined":k(V))==="object"?Object.keys(V).reduce(function(J,G){return q(J,G,V[G])},K):K.reduce(function(J,G){return G.attributes&&G.attributes[V]?J.push(G):J.insert(G.insert,(0,g.default)({},E({},V,X),G.attributes))},new i.default)}function U(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var V="__ql-computed-style";return K[V]||(K[V]=window.getComputedStyle(K))}function D(K,V){for(var X="",J=K.ops.length-1;J>=0&&X.length<V.length;--J){var G=K.ops[J];if(typeof G.insert!="string")break;X=G.insert+X}return X.slice(-1*V.length)===V}function j(K){if(K.childNodes.length===0)return!1;var V=U(K);return["block","list-item"].indexOf(V.display)>-1}function B(K,V,X){return K.nodeType===K.TEXT_NODE?X.reduce(function(J,G){return G(K,J)},new i.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(J,G){var ie=B(G,V,X);return G.nodeType===K.ELEMENT_NODE&&(ie=V.reduce(function(oe,le){return le(G,oe)},ie),ie=(G[$]||[]).reduce(function(oe,le){return le(G,oe)},ie)),J.concat(ie)},new i.default):new i.default}function H(K,V,X){return q(X,K,!0)}function z(K,V){var X=t.default.Attributor.Attribute.keys(K),J=t.default.Attributor.Class.keys(K),G=t.default.Attributor.Style.keys(K),ie={};return X.concat(J).concat(G).forEach(function(oe){var le=t.default.query(oe,t.default.Scope.ATTRIBUTE);le!=null&&(ie[le.attrName]=le.value(K),ie[le.attrName])||(le=R[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(ie[le.attrName]=le.value(K)||void 0),le=x[oe],le!=null&&(le.attrName===oe||le.keyName===oe)&&(le=x[oe],ie[le.attrName]=le.value(K)||void 0))}),Object.keys(ie).length>0&&(V=q(V,ie)),V}function Z(K,V){var X=t.default.query(K);if(X==null)return V;if(X.prototype instanceof t.default.Embed){var J={},G=X.value(K);G!=null&&(J[X.blotName]=G,V=new i.default().insert(J,X.formats(K)))}else typeof X.formats=="function"&&(V=q(V,X.blotName,X.formats(K)));return V}function Q(K,V){return D(V,`
`)||V.insert(`
`),V}function ee(){return new i.default}function te(K,V){var X=t.default.query(K);if(X==null||X.blotName!=="list-item"||!D(V,`
`))return V;for(var J=-1,G=K.parentNode;!G.classList.contains("ql-clipboard");)(t.default.query(G)||{}).blotName==="list"&&(J+=1),G=G.parentNode;return J<=0?V:V.compose(new i.default().retain(V.length()-1).retain(1,{indent:J}))}function ne(K,V){return D(V,`
`)||(j(K)||V.length()>0&&K.nextSibling&&j(K.nextSibling))&&V.insert(`
`),V}function W(K,V){if(j(K)&&K.nextElementSibling!=null&&!D(V,`

`)){var X=K.offsetHeight+parseFloat(U(K).marginTop)+parseFloat(U(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+X*1.5&&V.insert(`
`)}return V}function fe(K,V){var X={},J=K.style||{};return J.fontStyle&&U(K).fontStyle==="italic"&&(X.italic=!0),J.fontWeight&&(U(K).fontWeight.startsWith("bold")||parseInt(U(K).fontWeight)>=700)&&(X.bold=!0),Object.keys(X).length>0&&(V=q(V,X)),parseFloat(J.textIndent||0)>0&&(V=new i.default().insert("	").concat(V)),V}function ae(K,V){var X=K.data;if(K.parentNode.tagName==="O:P")return V.insert(X.trim());if(X.trim().length===0&&K.parentNode.classList.contains("ql-clipboard"))return V;if(!U(K.parentNode).whiteSpace.startsWith("pre")){var J=function(ie,oe){return oe=oe.replace(/[^\u00a0]/g,""),oe.length<1&&ie?" ":oe};X=X.replace(/\r\n/g," ").replace(/\n/g," "),X=X.replace(/\s\s+/g,J.bind(J,!0)),(K.previousSibling==null&&j(K.parentNode)||K.previousSibling!=null&&j(K.previousSibling))&&(X=X.replace(/^\s+/,J.bind(J,!1))),(K.nextSibling==null&&j(K.parentNode)||K.nextSibling!=null&&j(K.nextSibling))&&(X=X.replace(/\s+$/,J.bind(J,!1)))}return V.insert(X)}d.default=P,d.matchAttributor=z,d.matchBlot=Z,d.matchNewline=ne,d.matchSpacing=W,d.matchText=ae},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),w=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(6),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,[{key:"optimize",value:function(r){w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,r),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return w(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),a}(v.default);t.blotName="bold",t.tagName=["STRONG","B"],d.default=t},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.addControls=d.default=void 0;var k=function(){function p(m,E){var T=[],L=!0,F=!1,M=void 0;try{for(var $=m[Symbol.iterator](),C;!(L=(C=$.next()).done)&&(T.push(C.value),!(E&&T.length===E));L=!0);}catch(R){F=!0,M=R}finally{try{!L&&$.return&&$.return()}finally{if(F)throw M}}return T}return function(m,E){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return p(m,E);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function(){function p(m,E){for(var T=0;T<E.length;T++){var L=E[T];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(m,L.key,L)}}return function(m,E,T){return E&&p(m.prototype,E),T&&p(m,T),m}}(),O=h(2),v=r(O),g=h(0),f=r(g),i=h(5),e=r(i),t=h(10),s=r(t),a=h(9),l=r(a);function r(p){return p&&p.__esModule?p:{default:p}}function o(p,m,E){return m in p?Object.defineProperty(p,m,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[m]=E,p}function u(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function n(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function c(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var N=(0,s.default)("quill:toolbar"),b=function(p){c(m,p);function m(E,T){u(this,m);var L=n(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,E,T));if(Array.isArray(L.options.container)){var F=document.createElement("div");A(F,L.options.container),E.container.parentNode.insertBefore(F,E.container),L.container=F}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;if(!(L.container instanceof HTMLElement)){var M;return M=N.error("Container required for toolbar",L.options),n(L,M)}return L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function($){L.addHandler($,L.options.handlers[$])}),[].forEach.call(L.container.querySelectorAll("button, select"),function($){L.attach($)}),L.quill.on(e.default.events.EDITOR_CHANGE,function($,C){$===e.default.events.SELECTION_CHANGE&&L.update(C)}),L.quill.on(e.default.events.SCROLL_OPTIMIZE,function(){var $=L.quill.selection.getRange(),C=k($,1),R=C[0];L.update(R)}),L}return w(m,[{key:"addHandler",value:function(T,L){this.handlers[T]=L}},{key:"attach",value:function(T){var L=this,F=[].find.call(T.classList,function($){return $.indexOf("ql-")===0});if(F){if(F=F.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[F]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[F]==null){N.warn("ignoring attaching to disabled format",F,T);return}if(f.default.query(F)==null){N.warn("ignoring attaching to nonexistent format",F,T);return}}var M=T.tagName==="SELECT"?"change":"click";T.addEventListener(M,function($){var C=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var R=T.options[T.selectedIndex];R.hasAttribute("selected")?C=!1:C=R.value||!1}else T.classList.contains("ql-active")?C=!1:C=T.value||!T.hasAttribute("value"),$.preventDefault();L.quill.focus();var x=L.quill.selection.getRange(),P=k(x,1),q=P[0];if(L.handlers[F]!=null)L.handlers[F].call(L,C);else if(f.default.query(F).prototype instanceof f.default.Embed){if(C=prompt("Enter "+F),!C)return;L.quill.updateContents(new v.default().retain(q.index).delete(q.length).insert(o({},F,C)),e.default.sources.USER)}else L.quill.format(F,C,e.default.sources.USER);L.update(q)}),this.controls.push([F,T])}}},{key:"update",value:function(T){var L=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(F){var M=k(F,2),$=M[0],C=M[1];if(C.tagName==="SELECT"){var R=void 0;if(T==null)R=null;else if(L[$]==null)R=C.querySelector("option[selected]");else if(!Array.isArray(L[$])){var x=L[$];typeof x=="string"&&(x=x.replace(/\"/g,'\\"')),R=C.querySelector('option[value="'+x+'"]')}R==null?(C.value="",C.selectedIndex=-1):R.selected=!0}else if(T==null)C.classList.remove("ql-active");else if(C.hasAttribute("value")){var P=L[$]===C.getAttribute("value")||L[$]!=null&&L[$].toString()===C.getAttribute("value")||L[$]==null&&!C.getAttribute("value");C.classList.toggle("ql-active",P)}else C.classList.toggle("ql-active",L[$]!=null)})}}]),m}(l.default);b.DEFAULTS={};function _(p,m,E){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+m),E!=null&&(T.value=E),p.appendChild(T)}function A(p,m){Array.isArray(m[0])||(m=[m]),m.forEach(function(E){var T=document.createElement("span");T.classList.add("ql-formats"),E.forEach(function(L){if(typeof L=="string")_(T,L);else{var F=Object.keys(L)[0],M=L[F];Array.isArray(M)?y(T,F,M):_(T,F,M)}}),p.appendChild(T)})}function y(p,m,E){var T=document.createElement("select");T.classList.add("ql-"+m),E.forEach(function(L){var F=document.createElement("option");L!==!1?F.setAttribute("value",L):F.setAttribute("selected","selected"),T.appendChild(F)}),p.appendChild(T)}b.DEFAULTS={container:null,handlers:{clean:function(){var m=this,E=this.quill.getSelection();if(E!=null)if(E.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(L){f.default.query(L,f.default.Scope.INLINE)!=null&&m.quill.format(L,!1)})}else this.quill.removeFormat(E,e.default.sources.USER)},direction:function(m){var E=this.quill.getFormat().align;m==="rtl"&&E==null?this.quill.format("align","right",e.default.sources.USER):!m&&E==="right"&&this.quill.format("align",!1,e.default.sources.USER),this.quill.format("direction",m,e.default.sources.USER)},indent:function(m){var E=this.quill.getSelection(),T=this.quill.getFormat(E),L=parseInt(T.indent||0);if(m==="+1"||m==="-1"){var F=m==="+1"?1:-1;T.direction==="rtl"&&(F*=-1),this.quill.format("indent",L+F,e.default.sources.USER)}},link:function(m){m===!0&&(m=prompt("Enter link URL:")),this.quill.format("link",m,e.default.sources.USER)},list:function(m){var E=this.quill.getSelection(),T=this.quill.getFormat(E);m==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,e.default.sources.USER):this.quill.format("list","unchecked",e.default.sources.USER):this.quill.format("list",m,e.default.sources.USER)}}},d.default=b,d.addControls=A},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),w=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(28),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,r){f(this,a);var o=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.label.innerHTML=r,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),o}return k(a,[{key:"buildItem",value:function(r){var o=w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,r);return o.style.backgroundColor=r.getAttribute("value")||"",o}},{key:"selectItem",value:function(r,o){w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,r,o);var u=this.label.querySelector(".ql-color-label"),n=r&&r.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=n:u.style.fill=n)}}]),a}(v.default);d.default=t},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),w=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(28),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(l,r){f(this,a);var o=i(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=r[u.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return k(a,[{key:"selectItem",value:function(r,o){w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,r,o),r=r||this.defaultItem,this.label.innerHTML=r.innerHTML}}]),a}(v.default);d.default=t},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function v(g,f){for(var i=0;i<f.length;i++){var e=f[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(g,e.key,e)}}return function(g,f,i){return f&&v(g.prototype,f),i&&v(g,i),g}}();function w(v,g){if(!(v instanceof g))throw new TypeError("Cannot call a class as a function")}var O=function(){function v(g,f){var i=this;w(this,v),this.quill=g,this.boundsContainer=f||document.body,this.root=g.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"}),this.hide()}return k(v,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(f){var i=f.left+f.width/2-this.root.offsetWidth/2,e=f.bottom+this.quill.root.scrollTop;this.root.style.left=i+"px",this.root.style.top=e+"px",this.root.classList.remove("ql-flip");var t=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect(),a=0;if(s.right>t.right&&(a=t.right-s.right,this.root.style.left=i+a+"px"),s.left<t.left&&(a=t.left-s.left,this.root.style.left=i+a+"px"),s.bottom>t.bottom){var l=s.bottom-s.top,r=f.bottom-f.top+l;this.root.style.top=e-r+"px",this.root.classList.add("ql-flip")}return a}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),v}();d.default=O},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function y(p,m){var E=[],T=!0,L=!1,F=void 0;try{for(var M=p[Symbol.iterator](),$;!(T=($=M.next()).done)&&(E.push($.value),!(m&&E.length===m));T=!0);}catch(C){L=!0,F=C}finally{try{!T&&M.return&&M.return()}finally{if(L)throw F}}return E}return function(p,m){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return y(p,m);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=function y(p,m,E){p===null&&(p=Function.prototype);var T=Object.getOwnPropertyDescriptor(p,m);if(T===void 0){var L=Object.getPrototypeOf(p);return L===null?void 0:y(L,m,E)}else{if("value"in T)return T.value;var F=T.get;return F===void 0?void 0:F.call(E)}},O=function(){function y(p,m){for(var E=0;E<m.length;E++){var T=m[E];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}return function(p,m,E){return m&&y(p.prototype,m),E&&y(p,E),p}}(),v=h(3),g=u(v),f=h(8),i=u(f),e=h(43),t=u(e),s=h(27),a=u(s),l=h(15),r=h(41),o=u(r);function u(y){return y&&y.__esModule?y:{default:y}}function n(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function c(y,p){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:y}function N(y,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);y.prototype=Object.create(p&&p.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(y,p):y.__proto__=p)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],_=function(y){N(p,y);function p(m,E){n(this,p),E.modules.toolbar!=null&&E.modules.toolbar.container==null&&(E.modules.toolbar.container=b);var T=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m,E));return T.quill.container.classList.add("ql-snow"),T}return O(p,[{key:"extendToolbar",value:function(E){E.container.classList.add("ql-snow"),this.buildButtons([].slice.call(E.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(E.container.querySelectorAll("select")),o.default),this.tooltip=new A(this.quill,this.options.bounds),E.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,L){E.handlers.link.call(E,!L.format.link)})}}]),p}(t.default);_.DEFAULTS=(0,g.default)(!0,{},t.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var m=this.quill.getSelection();if(m==null||m.length==0)return;var E=this.quill.getText(m);/^\S+@\S+\.\S+$/.test(E)&&E.indexOf("mailto:")!==0&&(E="mailto:"+E);var T=this.quill.theme.tooltip;T.edit("link",E)}else this.quill.format("link",!1)}}}}});var A=function(y){N(p,y);function p(m,E){n(this,p);var T=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,m,E));return T.preview=T.root.querySelector("a.ql-preview"),T}return O(p,[{key:"listen",value:function(){var E=this;w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){E.root.classList.contains("ql-editing")?E.save():E.edit("link",E.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(E.linkRange!=null){var L=E.linkRange;E.restoreFocus(),E.quill.formatText(L,"link",!1,i.default.sources.USER),delete E.linkRange}T.preventDefault(),E.hide()}),this.quill.on(i.default.events.SELECTION_CHANGE,function(T,L,F){if(T!=null){if(T.length===0&&F===i.default.sources.USER){var M=E.quill.scroll.descendant(a.default,T.index),$=k(M,2),C=$[0],R=$[1];if(C!=null){E.linkRange=new l.Range(T.index-R,C.length());var x=a.default.formats(C.domNode);E.preview.textContent=x,E.preview.setAttribute("href",x),E.show(),E.position(E.quill.getBounds(E.linkRange));return}}else delete E.linkRange;E.hide()}})}},{key:"show",value:function(){w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(e.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),d.default=_},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(29),w=G(k),O=h(36),v=h(38),g=h(64),f=h(65),i=G(f),e=h(66),t=G(e),s=h(67),a=G(s),l=h(37),r=h(26),o=h(39),u=h(40),n=h(56),c=G(n),N=h(68),b=G(N),_=h(27),A=G(_),y=h(69),p=G(y),m=h(70),E=G(m),T=h(71),L=G(T),F=h(72),M=G(F),$=h(73),C=G($),R=h(13),x=G(R),P=h(74),q=G(P),U=h(75),D=G(U),j=h(57),B=G(j),H=h(41),z=G(H),Z=h(28),Q=G(Z),ee=h(59),te=G(ee),ne=h(60),W=G(ne),fe=h(61),ae=G(fe),K=h(108),V=G(K),X=h(62),J=G(X);function G(ie){return ie&&ie.__esModule?ie:{default:ie}}w.default.register({"attributors/attribute/direction":v.DirectionAttribute,"attributors/class/align":O.AlignClass,"attributors/class/background":l.BackgroundClass,"attributors/class/color":r.ColorClass,"attributors/class/direction":v.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":u.SizeClass,"attributors/style/align":O.AlignStyle,"attributors/style/background":l.BackgroundStyle,"attributors/style/color":r.ColorStyle,"attributors/style/direction":v.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":u.SizeStyle},!0),w.default.register({"formats/align":O.AlignClass,"formats/direction":v.DirectionClass,"formats/indent":g.IndentClass,"formats/background":l.BackgroundStyle,"formats/color":r.ColorStyle,"formats/font":o.FontClass,"formats/size":u.SizeClass,"formats/blockquote":i.default,"formats/code-block":x.default,"formats/header":t.default,"formats/list":a.default,"formats/bold":c.default,"formats/code":R.Code,"formats/italic":b.default,"formats/link":A.default,"formats/script":p.default,"formats/strike":E.default,"formats/underline":L.default,"formats/image":M.default,"formats/video":C.default,"formats/list/item":s.ListItem,"modules/formula":q.default,"modules/syntax":D.default,"modules/toolbar":B.default,"themes/bubble":V.default,"themes/snow":J.default,"ui/icons":z.default,"ui/picker":Q.default,"ui/icon-picker":W.default,"ui/color-picker":te.default,"ui/tooltip":ae.default},!0),d.default=w.default},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.IndentClass=void 0;var k=function(){function a(l,r){for(var o=0;o<r.length;o++){var u=r[o];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}return function(l,r,o){return r&&a(l.prototype,r),o&&a(l,o),l}}(),w=function a(l,r,o){l===null&&(l=Function.prototype);var u=Object.getOwnPropertyDescriptor(l,r);if(u===void 0){var n=Object.getPrototypeOf(l);return n===null?void 0:a(n,r,o)}else{if("value"in u)return u.value;var c=u.get;return c===void 0?void 0:c.call(o)}},O=h(0),v=g(O);function g(a){return a&&a.__esModule?a:{default:a}}function f(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}function i(a,l){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l&&(typeof l=="object"||typeof l=="function")?l:a}function e(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(a,l):a.__proto__=l)}var t=function(a){e(l,a);function l(){return f(this,l),i(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return k(l,[{key:"add",value:function(o,u){if(u==="+1"||u==="-1"){var n=this.value(o)||0;u=u==="+1"?n+1:n-1}return u===0?(this.remove(o),!0):w(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"add",this).call(this,o,u)}},{key:"canAdd",value:function(o,u){return w(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,u)||w(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"canAdd",this).call(this,o,parseInt(u))}},{key:"value",value:function(o){return parseInt(w(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"value",this).call(this,o))||void 0}}]),l}(v.default.Attributor.Class),s=new t("indent","ql-indent",{scope:v.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});d.IndentClass=s},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(4),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(w.default);i.blotName="blockquote",i.tagName="blockquote",d.default=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function t(s,a){for(var l=0;l<a.length;l++){var r=a[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}return function(s,a,l){return a&&t(s.prototype,a),l&&t(s,l),s}}(),w=h(4),O=v(w);function v(t){return t&&t.__esModule?t:{default:t}}function g(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function f(t,s){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s&&(typeof s=="object"||typeof s=="function")?s:t}function i(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof s);t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(t,s):t.__proto__=s)}var e=function(t){i(s,t);function s(){return g(this,s),f(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return k(s,null,[{key:"formats",value:function(l){return this.tagName.indexOf(l.tagName)+1}}]),s}(O.default);e.blotName="header",e.tagName=["H1","H2","H3","H4","H5","H6"],d.default=e},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.ListItem=void 0;var k=function(){function n(c,N){for(var b=0;b<N.length;b++){var _=N[b];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(c,_.key,_)}}return function(c,N,b){return N&&n(c.prototype,N),b&&n(c,b),c}}(),w=function n(c,N,b){c===null&&(c=Function.prototype);var _=Object.getOwnPropertyDescriptor(c,N);if(_===void 0){var A=Object.getPrototypeOf(c);return A===null?void 0:n(A,N,b)}else{if("value"in _)return _.value;var y=_.get;return y===void 0?void 0:y.call(b)}},O=h(0),v=t(O),g=h(4),f=t(g),i=h(25),e=t(i);function t(n){return n&&n.__esModule?n:{default:n}}function s(n,c,N){return c in n?Object.defineProperty(n,c,{value:N,enumerable:!0,configurable:!0,writable:!0}):n[c]=N,n}function a(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function l(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c&&(typeof c=="object"||typeof c=="function")?c:n}function r(n,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);n.prototype=Object.create(c&&c.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(n,c):n.__proto__=c)}var o=function(n){r(c,n);function c(){return a(this,c),l(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return k(c,[{key:"format",value:function(b,_){b===u.blotName&&!_?this.replaceWith(v.default.create(this.statics.scope)):w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,b,_)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(b,_){return this.parent.isolate(this.offset(this.parent),this.length()),b===this.parent.statics.blotName?(this.parent.replaceWith(b,_),this):(this.parent.unwrap(),w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replaceWith",this).call(this,b,_))}}],[{key:"formats",value:function(b){return b.tagName===this.tagName?void 0:w(c.__proto__||Object.getPrototypeOf(c),"formats",this).call(this,b)}}]),c}(f.default);o.blotName="list-item",o.tagName="LI";var u=function(n){r(c,n),k(c,null,[{key:"create",value:function(b){var _=b==="ordered"?"OL":"UL",A=w(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,_);return(b==="checked"||b==="unchecked")&&A.setAttribute("data-checked",b==="checked"),A}},{key:"formats",value:function(b){if(b.tagName==="OL")return"ordered";if(b.tagName==="UL")return b.hasAttribute("data-checked")?b.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function c(N){a(this,c);var b=l(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,N)),_=function(y){if(y.target.parentNode===N){var p=b.statics.formats(N),m=v.default.find(y.target);p==="checked"?m.format("list","unchecked"):p==="unchecked"&&m.format("list","checked")}};return N.addEventListener("touchstart",_),N.addEventListener("mousedown",_),b}return k(c,[{key:"format",value:function(b,_){this.children.length>0&&this.children.tail.format(b,_)}},{key:"formats",value:function(){return s({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(b,_){if(b instanceof o)w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"insertBefore",this).call(this,b,_);else{var A=_==null?this.length():_.offset(this),y=this.split(A);y.parent.insertBefore(b,y)}}},{key:"optimize",value:function(b){w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,b);var _=this.next;_!=null&&_.prev===this&&_.statics.blotName===this.statics.blotName&&_.domNode.tagName===this.domNode.tagName&&_.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(_.moveChildren(this),_.remove())}},{key:"replace",value:function(b){if(b.statics.blotName!==this.statics.blotName){var _=v.default.create(this.statics.defaultChild);b.moveChildren(_),this.appendChild(_)}w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replace",this).call(this,b)}}]),c}(e.default);u.blotName="list",u.scope=v.default.Scope.BLOCK_BLOT,u.tagName=["OL","UL"],u.defaultChild="list-item",u.allowedChildren=[o],d.ListItem=o,d.default=u},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(56),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(w.default);i.blotName="italic",i.tagName=["EM","I"],d.default=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function s(a,l){for(var r=0;r<l.length;r++){var o=l[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(a,o.key,o)}}return function(a,l,r){return l&&s(a.prototype,l),r&&s(a,r),a}}(),w=function s(a,l,r){a===null&&(a=Function.prototype);var o=Object.getOwnPropertyDescriptor(a,l);if(o===void 0){var u=Object.getPrototypeOf(a);return u===null?void 0:s(u,l,r)}else{if("value"in o)return o.value;var n=o.get;return n===void 0?void 0:n.call(r)}},O=h(6),v=g(O);function g(s){return s&&s.__esModule?s:{default:s}}function f(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function i(s,a){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a&&(typeof a=="object"||typeof a=="function")?a:s}function e(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(s,a):s.__proto__=a)}var t=function(s){e(a,s);function a(){return f(this,a),i(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return k(a,null,[{key:"create",value:function(r){return r==="super"?document.createElement("sup"):r==="sub"?document.createElement("sub"):w(a.__proto__||Object.getPrototypeOf(a),"create",this).call(this,r)}},{key:"formats",value:function(r){if(r.tagName==="SUB")return"sub";if(r.tagName==="SUP")return"super"}}]),a}(v.default);t.blotName="script",t.tagName=["SUB","SUP"],d.default=t},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(6),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(w.default);i.blotName="strike",i.tagName="S",d.default=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=h(6),w=O(k);function O(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function f(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=function(e){f(t,e);function t(){return v(this,t),g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return t}(w.default);i.blotName="underline",i.tagName="U",d.default=i},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),w=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var N=n.get;return N===void 0?void 0:N.call(u)}},O=h(0),v=f(O),g=h(27);function f(l){return l&&l.__esModule?l:{default:l}}function i(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function e(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function t(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var s=["alt","height","width"],a=function(l){t(r,l);function r(){return i(this,r),e(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"format",value:function(u,n){s.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):w(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=w(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,u);return typeof u=="string"&&n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return s.reduce(function(n,c){return u.hasAttribute(c)&&(n[c]=u.getAttribute(c)),n},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,g.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),r}(v.default.Embed);a.blotName="image",a.tagName="IMG",d.default=a},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0});var k=function(){function l(r,o){for(var u=0;u<o.length;u++){var n=o[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}return function(r,o,u){return o&&l(r.prototype,o),u&&l(r,u),r}}(),w=function l(r,o,u){r===null&&(r=Function.prototype);var n=Object.getOwnPropertyDescriptor(r,o);if(n===void 0){var c=Object.getPrototypeOf(r);return c===null?void 0:l(c,o,u)}else{if("value"in n)return n.value;var N=n.get;return N===void 0?void 0:N.call(u)}},O=h(4),v=h(27),g=f(v);function f(l){return l&&l.__esModule?l:{default:l}}function i(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function e(l,r){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r&&(typeof r=="object"||typeof r=="function")?r:l}function t(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(l,r):l.__proto__=r)}var s=["height","width"],a=function(l){t(r,l);function r(){return i(this,r),e(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return k(r,[{key:"format",value:function(u,n){s.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):w(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=w(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,u);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return s.reduce(function(n,c){return u.hasAttribute(c)&&(n[c]=u.getAttribute(c)),n},{})}},{key:"sanitize",value:function(u){return g.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),r}(O.BlockEmbed);a.blotName="video",a.className="ql-video",a.tagName="IFRAME",d.default=a},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.FormulaBlot=void 0;var k=function(){function u(n,c){for(var N=0;N<c.length;N++){var b=c[N];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,c,N){return c&&u(n.prototype,c),N&&u(n,N),n}}(),w=function u(n,c,N){n===null&&(n=Function.prototype);var b=Object.getOwnPropertyDescriptor(n,c);if(b===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:u(_,c,N)}else{if("value"in b)return b.value;var A=b.get;return A===void 0?void 0:A.call(N)}},O=h(35),v=t(O),g=h(5),f=t(g),i=h(9),e=t(i);function t(u){return u&&u.__esModule?u:{default:u}}function s(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function a(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:u}function l(u,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var r=function(u){l(n,u);function n(){return s(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return k(n,null,[{key:"create",value:function(N){var b=w(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,N);return typeof N=="string"&&(window.katex.render(N,b,{throwOnError:!1,errorColor:"#f00"}),b.setAttribute("data-value",N)),b}},{key:"value",value:function(N){return N.getAttribute("data-value")}}]),n}(v.default);r.blotName="formula",r.className="ql-formula",r.tagName="SPAN";var o=function(u){l(n,u),k(n,null,[{key:"register",value:function(){f.default.register(r,!0)}}]);function n(){s(this,n);var c=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return c}return n}(e.default);d.FormulaBlot=r,d.default=o},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.CodeToken=d.CodeBlock=void 0;var k=function(){function N(b,_){for(var A=0;A<_.length;A++){var y=_[A];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(b,y.key,y)}}return function(b,_,A){return _&&N(b.prototype,_),A&&N(b,A),b}}(),w=function N(b,_,A){b===null&&(b=Function.prototype);var y=Object.getOwnPropertyDescriptor(b,_);if(y===void 0){var p=Object.getPrototypeOf(b);return p===null?void 0:N(p,_,A)}else{if("value"in y)return y.value;var m=y.get;return m===void 0?void 0:m.call(A)}},O=h(0),v=a(O),g=h(5),f=a(g),i=h(9),e=a(i),t=h(13),s=a(t);function a(N){return N&&N.__esModule?N:{default:N}}function l(N,b){if(!(N instanceof b))throw new TypeError("Cannot call a class as a function")}function r(N,b){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:N}function o(N,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);N.prototype=Object.create(b&&b.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(N,b):N.__proto__=b)}var u=function(N){o(b,N);function b(){return l(this,b),r(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return k(b,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),w(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var y=this.domNode.textContent;this.cachedText!==y&&((y.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(y),this.domNode.normalize(),this.attach()),this.cachedText=y)}}]),b}(s.default);u.className="ql-syntax";var n=new v.default.Attributor.Class("token","hljs",{scope:v.default.Scope.INLINE}),c=function(N){o(b,N),k(b,null,[{key:"register",value:function(){f.default.register(n,!0),f.default.register(u,!0)}}]);function b(_,A){l(this,b);var y=r(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,_,A));if(typeof y.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return y.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){y.highlight(),p=null},y.options.interval)}),y.highlight(),y}return k(b,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(f.default.sources.USER);var y=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(p){p.highlight(A.options.highlight)}),this.quill.update(f.default.sources.SILENT),y!=null&&this.quill.setSelection(y,f.default.sources.SILENT)}}}]),b}(e.default);c.DEFAULTS={highlight:function(){return window.hljs==null?null:function(N){var b=window.hljs.highlightAuto(N);return b.value}}(),interval:1e3},d.CodeBlock=u,d.CodeToken=n,d.default=c},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(S,d){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(S,d){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(S,d){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(S,d){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(S,d){S.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(S,d,h){Object.defineProperty(d,"__esModule",{value:!0}),d.default=d.BubbleTooltip=void 0;var k=function b(_,A,y){_===null&&(_=Function.prototype);var p=Object.getOwnPropertyDescriptor(_,A);if(p===void 0){var m=Object.getPrototypeOf(_);return m===null?void 0:b(m,A,y)}else{if("value"in p)return p.value;var E=p.get;return E===void 0?void 0:E.call(y)}},w=function(){function b(_,A){for(var y=0;y<A.length;y++){var p=A[y];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(_,p.key,p)}}return function(_,A,y){return A&&b(_.prototype,A),y&&b(_,y),_}}(),O=h(3),v=l(O),g=h(8),f=l(g),i=h(43),e=l(i),t=h(15),s=h(41),a=l(s);function l(b){return b&&b.__esModule?b:{default:b}}function r(b,_){if(!(b instanceof _))throw new TypeError("Cannot call a class as a function")}function o(b,_){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:b}function u(b,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);b.prototype=Object.create(_&&_.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(b,_):b.__proto__=_)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],c=function(b){u(_,b);function _(A,y){r(this,_),y.modules.toolbar!=null&&y.modules.toolbar.container==null&&(y.modules.toolbar.container=n);var p=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,y));return p.quill.container.classList.add("ql-bubble"),p}return w(_,[{key:"extendToolbar",value:function(y){this.tooltip=new N(this.quill,this.options.bounds),this.tooltip.root.appendChild(y.container),this.buildButtons([].slice.call(y.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(y.container.querySelectorAll("select")),a.default)}}]),_}(e.default);c.DEFAULTS=(0,v.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(_){_?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var N=function(b){u(_,b);function _(A,y){r(this,_);var p=o(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,A,y));return p.quill.on(f.default.events.EDITOR_CHANGE,function(m,E,T,L){if(m===f.default.events.SELECTION_CHANGE)if(E!=null&&E.length>0&&L===f.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var F=p.quill.getLines(E.index,E.length);if(F.length===1)p.position(p.quill.getBounds(E));else{var M=F[F.length-1],$=p.quill.getIndex(M),C=Math.min(M.length()-1,E.index+E.length-$),R=p.quill.getBounds(new t.Range($,C));p.position(R)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return w(_,[{key:"listen",value:function(){var y=this;k(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){y.root.classList.remove("ql-editing")}),this.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!y.root.classList.contains("ql-hidden")){var p=y.quill.getSelection();p!=null&&y.position(y.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(y){var p=k(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"position",this).call(this,y),m=this.root.querySelector(".ql-tooltip-arrow");if(m.style.marginLeft="",p===0)return p;m.style.marginLeft=-1*p-m.offsetWidth/2+"px"}}]),_}(i.BaseTooltip);N.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),d.BubbleTooltip=N,d.default=c},function(S,d,h){S.exports=h(63)}]).default})})(Qe);var Kt=Qe.exports,$t=be&&be.__extends||function(){var re=function(Y,S){return re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var k in h)h.hasOwnProperty(k)&&(d[k]=h[k])},re(Y,S)};return function(Y,S){re(Y,S);function d(){this.constructor=Y}Y.prototype=S===null?Object.create(S):(d.prototype=S.prototype,new d)}}(),qe=be&&be.__assign||function(){return qe=Object.assign||function(re){for(var Y,S=1,d=arguments.length;S<d;S++){Y=arguments[S];for(var h in Y)Object.prototype.hasOwnProperty.call(Y,h)&&(re[h]=Y[h])}return re},qe.apply(this,arguments)},Vt=be&&be.__spreadArrays||function(){for(var re=0,Y=0,S=arguments.length;Y<S;Y++)re+=arguments[Y].length;for(var d=Array(re),h=0,Y=0;Y<S;Y++)for(var k=arguments[Y],w=0,O=k.length;w<O;w++,h++)d[h]=k[w];return d},Le=be&&be.__importDefault||function(re){return re&&re.__esModule?re:{default:re}},ve=Le(de),Zt=Le(ot),ke=Le(Tt),De=Le(Kt),Wt=function(re){$t(Y,re);function Y(S){var d=re.call(this,S)||this;d.dirtyProps=["modules","formats","bounds","theme","children"],d.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],d.state={generation:0},d.selection=null,d.onEditorChange=function(k,w,O,v){var g,f,i,e;k==="text-change"?(f=(g=d).onEditorChangeText)===null||f===void 0||f.call(g,d.editor.root.innerHTML,w,v,d.unprivilegedEditor):k==="selection-change"&&((e=(i=d).onEditorChangeSelection)===null||e===void 0||e.call(i,w,v,d.unprivilegedEditor))};var h=d.isControlled()?S.value:S.defaultValue;return d.value=h??"",d}return Y.prototype.validateProps=function(S){var d;if(ve.default.Children.count(S.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ve.default.Children.count(S.children)){var h=ve.default.Children.only(S.children);if(((d=h)===null||d===void 0?void 0:d.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&S.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},Y.prototype.shouldComponentUpdate=function(S,d){var h=this,k;if(this.validateProps(S),!this.editor||this.state.generation!==d.generation)return!0;if("value"in S){var w=this.getEditorContents(),O=(k=S.value,k??"");this.isEqualValue(O,w)||this.setEditorContents(this.editor,O)}return S.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,S.readOnly),Vt(this.cleanProps,this.dirtyProps).some(function(v){return!ke.default(S[v],h.props[v])})},Y.prototype.shouldComponentRegenerate=function(S){var d=this;return this.dirtyProps.some(function(h){return!ke.default(S[h],d.props[h])})},Y.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},Y.prototype.componentWillUnmount=function(){this.destroyEditor()},Y.prototype.componentDidUpdate=function(S,d){var h=this;if(this.editor&&this.shouldComponentRegenerate(S)){var k=this.editor.getContents(),w=this.editor.getSelection();this.regenerationSnapshot={delta:k,selection:w},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==d.generation){var O=this.regenerationSnapshot,k=O.delta,v=O.selection;delete this.regenerationSnapshot,this.instantiateEditor();var g=this.editor;g.setContents(k),Fe(function(){return h.setEditorSelection(g,v)})}},Y.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},Y.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},Y.prototype.isControlled=function(){return"value"in this.props},Y.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},Y.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},Y.prototype.createEditor=function(S,d){var h=new De.default(S,d);return d.tabIndex!=null&&this.setEditorTabIndex(h,d.tabIndex),this.hookEditor(h),h},Y.prototype.hookEditor=function(S){this.unprivilegedEditor=this.makeUnprivilegedEditor(S),S.on("editor-change",this.onEditorChange)},Y.prototype.unhookEditor=function(S){S.off("editor-change",this.onEditorChange)},Y.prototype.getEditorContents=function(){return this.value},Y.prototype.getEditorSelection=function(){return this.selection},Y.prototype.isDelta=function(S){return S&&S.ops},Y.prototype.isEqualValue=function(S,d){return this.isDelta(S)&&this.isDelta(d)?ke.default(S.ops,d.ops):ke.default(S,d)},Y.prototype.setEditorContents=function(S,d){var h=this;this.value=d;var k=this.getEditorSelection();typeof d=="string"?S.setContents(S.clipboard.convert(d)):S.setContents(d),Fe(function(){return h.setEditorSelection(S,k)})},Y.prototype.setEditorSelection=function(S,d){if(this.selection=d,d){var h=S.getLength();d.index=Math.max(0,Math.min(d.index,h-1)),d.length=Math.max(0,Math.min(d.length,h-1-d.index)),S.setSelection(d)}},Y.prototype.setEditorTabIndex=function(S,d){var h,k;!((k=(h=S)===null||h===void 0?void 0:h.scroll)===null||k===void 0)&&k.domNode&&(S.scroll.domNode.tabIndex=d)},Y.prototype.setEditorReadOnly=function(S,d){d?S.disable():S.enable()},Y.prototype.makeUnprivilegedEditor=function(S){var d=S;return{getHTML:function(){return d.root.innerHTML},getLength:d.getLength.bind(d),getText:d.getText.bind(d),getContents:d.getContents.bind(d),getSelection:d.getSelection.bind(d),getBounds:d.getBounds.bind(d)}},Y.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var S=Zt.default.findDOMNode(this.editingArea);if(!S)throw new Error("Cannot find element for editing area");if(S.nodeType===3)throw new Error("Editing area cannot be a text node");return S},Y.prototype.renderEditingArea=function(){var S=this,d=this.props,h=d.children,k=d.preserveWhitespace,w=this.state.generation,O={key:w,ref:function(v){S.editingArea=v}};return ve.default.Children.count(h)?ve.default.cloneElement(ve.default.Children.only(h),O):k?ve.default.createElement("pre",qe({},O)):ve.default.createElement("div",qe({},O))},Y.prototype.render=function(){var S;return ve.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(S=this.props.className,S??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},Y.prototype.onEditorChangeText=function(S,d,h,k){var w,O;if(this.editor){var v=this.isDelta(this.value)?k.getContents():k.getHTML();v!==this.getEditorContents()&&(this.lastDeltaChangeSet=d,this.value=v,(O=(w=this.props).onChange)===null||O===void 0||O.call(w,S,d,h,k))}},Y.prototype.onEditorChangeSelection=function(S,d,h){var k,w,O,v,g,f;if(this.editor){var i=this.getEditorSelection(),e=!i&&S,t=i&&!S;ke.default(S,i)||(this.selection=S,(w=(k=this.props).onChangeSelection)===null||w===void 0||w.call(k,S,d,h),e?(v=(O=this.props).onFocus)===null||v===void 0||v.call(O,S,d,h):t&&((f=(g=this.props).onBlur)===null||f===void 0||f.call(g,i,d,h)))}},Y.prototype.focus=function(){this.editor&&this.editor.focus()},Y.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},Y.displayName="React Quill",Y.Quill=De.default,Y.defaultProps={theme:"snow",modules:{},readOnly:!1},Y}(ve.default.Component);function Fe(re){Promise.resolve().then(re)}var Gt=Wt;const Yt=lt(Gt),Xt=({name:re,control:Y,label:S,...d})=>{const{field:h}=gt({name:re,control:Y,defaultValue:""}),k=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c5c5c"],w={toolbar:{container:[[{header:[1,2,3,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],["link","image"],[{color:k},{background:k}],[{align:[]}],["clean"]]},clipboard:{matchVisual:!1}},O=["header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","color","background","align"];return I.jsxs("div",{className:`mb-4 ${d.className||""}`,children:[S&&I.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:S}),I.jsx(Yt,{theme:"snow",value:h.value,onChange:(v,g,f,i)=>{h.onChange(i.getHTML())},modules:w,formats:O,placeholder:d.placeholder,className:"bg-white rounded-md [&_.ql-editor]:min-h-[150px]"})]})},Je=Xt,Qt=re=>{const Y={title:se().required("Title is required"),submittedBy:re!=="Author"?se().required("Author is required"):se().notRequired(),abstract:se().required("Abstract is required"),keywords:se(),references:se().notRequired(),journalId:se().required("Journal is required"),hasContributors:_t(),contributors:Ot().of(Te().shape({fullName:se().when("hasContributors",{is:!0,then:S=>S.required("Full name is required"),otherwise:S=>S.notRequired()}),email:se().when("hasContributors",{is:!0,then:S=>S.email("Invalid email").required("Email is required"),otherwise:S=>S.notRequired()}),affiliation:se().when("hasContributors",{is:!0,then:S=>S.required("Affiliation is required"),otherwise:S=>S.notRequired()}),bioStatement:se().when("hasContributors",{is:!0,then:S=>S.required("Bio statement is required"),otherwise:S=>S.notRequired()})})),manuscriptFile:xt().test("fileRequired","Manuscript file is required",S=>re==="EDIT_MODE"?!0:!!S).test("fileType","Only PDF, DOC or DOCX files are accepted",S=>{if(!S)return!0;const d=Array.isArray(S)?S[0]:S;return d&&["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(d.type)}).test("fileSize","File size must be less than 10MB",S=>{if(!S)return!0;const d=Array.isArray(S)?S[0]:S;return d&&d.size<=10485760})};return re!=="Author"?Te().shape({...Y,submittedBy:se().required("Author is required")}):Te().shape(Y)};function Jt({open:re,setOpen:Y,title:S,id:d,edit:h,setEdit:k,refetch:w}){var p,m,E,T,L,F;const[O,v]=de.useState(""),g=Ge({}),f=kt({}),{user:i}=Ue(),e=Qt((i==null?void 0:i.role)||""),{data:t,isFetching:s}=xe({api:`${ye.getSubmissionsById}/${d}`,options:{enabled:h}}),a=xe({api:`${ye.getAllJournal}?page=1&limit=100`,options:{enabled:!0}}),l=xe({api:`${ye.getAvailableAuthors}?page=1&limit=100`,options:{enabled:!0}}),r=ze({defaultValues:{title:"",abstract:"",references:"",keywords:"",journalId:"",manuscriptFile:void 0,hasContributors:!1,contributors:[],...(i==null?void 0:i.role)!=="Author"&&{submittedBy:""}},resolver:Ke(e)}),{fields:o,append:u,remove:n}=bt({control:r.control,name:"contributors"}),c=M=>{if(M.target.files&&M.target.files[0]){const $=M.target.files[0];if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes($.type)){he.error("Only PDF, DOC or DOCX files are allowed");return}if($.size>10*1024*1024){he.error("File size should not exceed 10MB");return}r.setValue("manuscriptFile",$),v($.name),he.success("Manuscript file selected successfully")}},N=()=>{r.setValue("manuscriptFile",""),v("")},b=()=>{u({fullName:"",email:"",affiliation:"",bioStatement:""})},_=async M=>{var $,C,R,x;try{const P=new FormData;if(P.append("title",M.title),P.append("abstract",M.abstract),P.append("references",String(M.references)),(i==null?void 0:i.role)!=="Author"&&(M!=null&&M.submittedBy)&&P.append("submittedBy",M==null?void 0:M.submittedBy),M.keywords){const q=M.keywords.split(",").map(U=>U.trim()).filter(U=>U);P.append("keywords",JSON.stringify(q))}if(P.append("journalId",M.journalId),P.append("hasContributors",String(M.hasContributors)),M.hasContributors&&M.contributors&&P.append("contributors",JSON.stringify(M.contributors)),M.manuscriptFile&&typeof M.manuscriptFile!="string"){const q=Array.isArray(M.manuscriptFile)?M.manuscriptFile[0]:M.manuscriptFile;P.append("manuscriptFile",q)}if(h&&d){const q=await f.mutateAsync({api:`${ye.updateSubmissions}/${d}`,data:P,headers:{"Content-Type":"multipart/form-data"}});($=q.data)!=null&&$.success?he.success((C=q==null?void 0:q.data)==null?void 0:C.message):he.error("Submission not updated successfully")}else{const q=await g.mutateAsync({api:ye.createSubmissions,data:P,headers:{"Content-Type":"multipart/form-data"}});(R=q.data)!=null&&R.success?he.success((x=q==null?void 0:q.data)==null?void 0:x.message):he.error("Submission not created successfully")}Y(!1),k&&k(!1),w&&w()}catch{he.error("Failed to submit the form")}};de.useEffect(()=>{var M,$,C,R,x,P,q,U,D,j,B,H,z,Z,Q,ee,te;if(h&&t){const ne={title:(M=t==null?void 0:t.data)==null?void 0:M.title,abstract:($=t==null?void 0:t.data)==null?void 0:$.abstract,references:(C=t==null?void 0:t.data)==null?void 0:C.references,keywords:(x=(R=t==null?void 0:t.data)==null?void 0:R.keywords)==null?void 0:x.join(", "),journalId:((q=(P=t==null?void 0:t.data)==null?void 0:P.journalId)==null?void 0:q._id)||((U=t==null?void 0:t.data)==null?void 0:U.journalId),manuscriptFile:(D=t==null?void 0:t.data)==null?void 0:D.manuscriptFile,hasContributors:((B=(j=t==null?void 0:t.data)==null?void 0:j.contributors)==null?void 0:B.length)>0,contributors:((H=t==null?void 0:t.data)==null?void 0:H.contributors)||[]};(i==null?void 0:i.role)!=="Author"&&(ne.submittedBy=((Z=(z=t==null?void 0:t.data)==null?void 0:z.submittedBy)==null?void 0:Z._id)||((Q=t==null?void 0:t.data)==null?void 0:Q.submittedBy)),r.reset(ne),(ee=t==null?void 0:t.data)!=null&&ee.manuscriptFile&&v(((te=t==null?void 0:t.data)==null?void 0:te.manuscriptFile.split("/").pop())||"Current manuscript file")}else{const ne={title:"",abstract:"",references:"",keywords:"",journalId:"",manuscriptFile:void 0,hasContributors:!1,contributors:[]};(i==null?void 0:i.role)!=="Author"&&(ne.submittedBy=""),r.reset(ne),v("")}},[h,t,r.reset,i==null?void 0:i.role]);const A=()=>{const M=r.formState.errors,$=Object.entries(M).map(([,C])=>C==null?void 0:C.message).filter(Boolean);$.length>0&&he.error($.join(", "))},y=r.watch("hasContributors");return I.jsx(Ze,{open:re,setOpen:Y,title:S,setEdit:k,edit:h,isLoading:s,children:I.jsx($e,{methods:r,onSubmit:r.handleSubmit(_,A),children:I.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[I.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[(i==null?void 0:i.role)!=="Author"&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Author Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(je,{name:"submittedBy",label:"Select Author",data:(E=(m=(p=l==null?void 0:l.data)==null?void 0:p.data)==null?void 0:m.docs)==null?void 0:E.map(M=>({label:M.fullName,value:M._id})),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Ye,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"relative",children:I.jsx(ge,{name:"title",label:"Submission Title",placeholder:"Enter a descriptive title for your submission",className:"pr-2 pl-2"})}),I.jsx("div",{className:"relative w-full",children:I.jsx(Je,{name:"abstract",control:r.control,label:"Abstract",placeholder:"Enter your abstract here..."})}),I.jsx("div",{className:"flex flex-col w-full",children:I.jsx(Xe,{control:r.control,name:"keywords",label:"Keywords",placeholder:"Type and press Enter to add keywords"})})]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("div",{className:"flex items-center justify-between mb-3",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 flex items-center",children:[I.jsx(Pt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Contributors"]}),I.jsx(Ht,{name:"hasContributors",label:"Has Contributors"})]}),y&&I.jsxs("div",{className:"space-y-4",children:[o.map((M,$)=>I.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[I.jsxs("div",{className:"flex justify-between items-center mb-2",children:[I.jsxs("h4",{className:"font-medium text-gray-700",children:["Contributor #",$+1]}),I.jsx("button",{type:"button",onClick:()=>n($),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsx(ge,{name:`contributors.${$}.fullName`,label:"Full Name",placeholder:"Enter full name"}),I.jsx(ge,{name:`contributors.${$}.email`,label:"Email",placeholder:"Enter email",type:"email"}),I.jsx(ge,{name:`contributors.${$}.affiliation`,label:"Affiliation",placeholder:"Enter institution/organization"}),I.jsx(ge,{name:`contributors.${$}.bioStatement`,label:"Bio Statement",placeholder:"Department and rank"})]})]},M.id)),I.jsxs("button",{type:"button",onClick:b,className:"flex items-center justify-center w-full py-2 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors",children:[I.jsx(qt,{className:"h-4 w-4 mr-2 text-blue-600"}),"Add Another Contributor"]})]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(je,{name:"journalId",label:"Select Journal",data:(F=(L=(T=a==null?void 0:a.data)==null?void 0:T.data)==null?void 0:L.docs)==null?void 0:F.map(M=>({label:M.title,value:M._id})),className:"pr-2 pl-2"})})]}),I.jsx("div",{className:"relative w-full",children:I.jsx(Et,{name:"references",label:"References",placeholder:"Enter your references here...",rows:8,className:"w-full border rounded-md p-1 shadow-sm"})}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Lt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Manuscript File"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-4 bg-blue-50 hover:bg-blue-100 transition-colors",children:I.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[I.jsx(Me,{className:"h-10 w-10 text-blue-500"}),I.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Upload your manuscript file (PDF, DOC, DOCX - max 10MB)"}),I.jsx("input",{type:"file",id:"manuscriptUpload",accept:".pdf,.doc,.docx,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document",onChange:c,className:"hidden"}),I.jsxs("label",{htmlFor:"manuscriptUpload",className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[I.jsx(Me,{className:"h-4 w-4 inline mr-2"}),"Select Manuscript File"]})]})}),O&&I.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:I.jsxs("div",{className:"flex items-center justify-between",children:[I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(we,{className:"h-5 w-5 text-blue-600"}),I.jsx("span",{className:"text-gray-700 font-medium",children:O})]}),I.jsx("button",{type:"button",onClick:N,className:"text-red-500 hover:text-red-700",children:I.jsx(wt,{className:"h-4 w-4"})})]})})]})]})]}),I.jsx("div",{className:"mt-4",children:I.jsxs(Ve,{isLoading:r.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:r.formState.isSubmitting,children:[I.jsx(We,{className:"h-5 w-5 mr-2"}),h?"Update Submission":"Submit Manuscript"]})})]})})})}const en=re=>{const Y={title:se().required("Title is required"),submittedBy:re!=="Author"?se().required("Author is required"):se().notRequired(),abstract:se().required("Abstract is required"),keywords:se(),issueId:se().required("Issue  is required"),submissionId:se(),doi:se(),pages:se().matches(/^\d+-\d+$/,"Pages must be in format XXXX-XXXX"),publicationDate:se().required("Publication date is required")};return re!=="Author"?Te().shape({...Y,submittedBy:se().required("Author is required")}):Te().shape(Y)};function tn({open:re,setOpen:Y,title:S,id:d,edit:h,setEdit:k,refetch:w}){var u,n,c,N,b,_;const[O,v]=de.useState(""),g=Ge({}),{user:f}=Ue(),i=en((f==null?void 0:f.role)||""),{data:e,isFetching:t}=xe({api:`${ye.getSubmissionsById}/${d}`,options:{enabled:h}}),s=xe({api:`${ye.getAllIssue}?page=1&limit=100`,options:{enabled:!0}}),a=xe({api:`${ye.getAvailableAuthors}?page=1&limit=100`,options:{enabled:!0}}),l=ze({defaultValues:{title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",...(f==null?void 0:f.role)!=="Author"&&{submittedBy:""}},resolver:Ke(i)}),r=async A=>{var y,p,m;try{const E={title:A.title,abstract:A.abstract,issueId:A.issueId,submissionId:d,doi:A.doi,pages:A.pages,publicationDate:A.publicationDate,manuscriptFile:(y=e==null?void 0:e.data)==null?void 0:y.fullManuscriptUrl};if((f==null?void 0:f.role)!=="Author"&&(A!=null&&A.submittedBy)&&(E.submittedBy=A.submittedBy),A.keywords){const T=A.keywords.split(",").map(L=>L.trim()).filter(L=>L);E.keywords=T}if(h&&d){const T=await g.mutateAsync({api:ye.createPublication,data:E});(p=T.data)!=null&&p.success?he.success((m=T==null?void 0:T.data)==null?void 0:m.message):he.error("Submission not created successfully")}Y(!1),k&&k(!1),w&&w()}catch{he.error("Failed to submit the form")}};de.useEffect(()=>{var A,y,p,m,E,T,L,F,M,$,C,R;if(h&&e){const x={title:(A=e==null?void 0:e.data)==null?void 0:A.title,abstract:(y=e==null?void 0:e.data)==null?void 0:y.abstract,keywords:(m=(p=e==null?void 0:e.data)==null?void 0:p.keywords)==null?void 0:m.join(", "),journalId:((T=(E=e==null?void 0:e.data)==null?void 0:E.journalId)==null?void 0:T._id)||((L=e==null?void 0:e.data)==null?void 0:L.journalId)};(f==null?void 0:f.role)!=="Author"&&(x.submittedBy=((M=(F=e==null?void 0:e.data)==null?void 0:F.submittedBy)==null?void 0:M._id)||(($=e==null?void 0:e.data)==null?void 0:$.submittedBy)),l.reset(x),(C=e==null?void 0:e.data)!=null&&C.fullManuscriptUrl&&v(((R=e==null?void 0:e.data)==null?void 0:R.fullManuscriptUrl.split("/").pop())||"Current manuscript file")}else{const x={title:"",abstract:"",keywords:"",issueId:""};(f==null?void 0:f.role)!=="Author"&&(x.submittedBy=""),l.reset(x),v("")}},[h,e,l.reset,f==null?void 0:f.role]);const o=()=>{const A=l.formState.errors,y=Object.entries(A).map(([,p])=>p==null?void 0:p.message).filter(Boolean);y.length>0&&he.error(y.join(", "))};return I.jsx(Ze,{open:re,setOpen:Y,title:S,setEdit:k,edit:h,isLoading:t,children:I.jsx($e,{methods:l,onSubmit:l.handleSubmit(r,o),children:I.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[I.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[(f==null?void 0:f.role)!=="Author"&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Author Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(je,{name:"submittedBy",label:"Select Author",data:(c=(n=(u=a==null?void 0:a.data)==null?void 0:u.data)==null?void 0:n.docs)==null?void 0:c.map(A=>({label:A.fullName,value:A._id})),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Ye,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),I.jsxs("div",{className:"space-y-4",children:[I.jsx("div",{className:"relative",children:I.jsx(ge,{name:"title",label:"Submission Title",placeholder:"Enter a descriptive title for your submission",className:"pr-2 pl-2"})}),I.jsx("div",{className:"relative w-full",children:I.jsx(Je,{name:"abstract",control:l.control,label:"Abstract",placeholder:"Enter your abstract here..."})}),I.jsx("div",{className:"flex flex-col w-full",children:I.jsx(Xe,{control:l.control,name:"keywords",label:"Keywords",placeholder:"Type and press Enter to add keywords"})})]})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Pe,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Information"]}),I.jsx("div",{className:"space-y-4",children:I.jsx(je,{name:"issueId",label:"Select Issue",data:(_=(b=(N=s==null?void 0:s.data)==null?void 0:N.data)==null?void 0:b.docs)==null?void 0:_.map(A=>{var y;return{label:`${(y=A.journal)==null?void 0:y.title} - Vol. ${A.volume}, No. ${A.issueNumber}`,value:A._id}}),className:"pr-2 pl-2"})})]}),I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(Nt,{className:"h-5 w-5 mr-2 text-blue-600"}),"Publication Details"]}),I.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Ct,{className:"h-4 w-4 text-blue-600"}),I.jsx(ge,{name:"publicationDate",label:"Publication Date",type:"date",className:"pr-2 pl-2"})]}),I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(At,{className:"h-4 w-4 text-blue-600"}),I.jsx(ge,{name:"doi",label:"DOI",placeholder:"e.g., 10.1000/xyz123",className:"pr-2 pl-2"})]})]}),I.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:I.jsxs("div",{className:"flex items-center gap-2",children:[I.jsx(Dt,{className:"h-4 w-4 text-blue-600"}),I.jsx(ge,{name:"pages",label:"Page Range",placeholder:"e.g., 123-145",className:"pr-2 pl-2"})]})})]}),O&&I.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[I.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[I.jsx(we,{className:"h-5 w-5 mr-2 text-blue-600"}),"Manuscript File"]}),I.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:I.jsxs("div",{className:"flex items-center space-x-2",children:[I.jsx(we,{className:"h-5 w-5 text-blue-600"}),I.jsx("span",{className:"text-gray-700 font-medium",children:O})]})})]})]}),I.jsx("div",{className:"mt-4",children:I.jsxs(Ve,{isLoading:l.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:l.formState.isSubmitting,children:[I.jsx(We,{className:"h-5 w-5 mr-2"}),h?"Update Publication":"Submit Manuscript"]})})]})})})}function nn(){var p,m,E,T,L,F,M,$,C,R,x,P,q,U,D,j,B,H,z,Z,Q,ee,te,ne;const re=at(),[Y,S]=de.useState(1),[d,h]=de.useState(10),[k,w]=de.useState(""),[O,v]=de.useState(!1),[g,f]=de.useState(!1),[i,e]=de.useState(""),[t,s]=de.useState(!1),[a,l]=de.useState(!1),[r,o]=de.useState("all"),u=xe({api:`${ye.getAllSubmissions}?page=${Y}&limit=${d}&q=${k}${r!=="all"?`&status=${r}`:""}`,key:"getAllSubmissions",value:[Y,d,k,r],options:{enabled:!0}}),n=W=>{f(!0),s(!0),e(W)},c=W=>{v(!0),l(!0),e(W)},N=W=>{re(`/journal/submissions/${W}`)},b=W=>{w(W.target.value)},_=W=>{W.preventDefault(),S(1),u.refetch()},A=W=>{o(W),S(1)},y=({submission:W,handleViewDetails:fe})=>{var ae,K;return I.jsx(ft,{className:"mb-4",children:I.jsxs(ct,{className:"pt-4",children:[I.jsxs("div",{className:"flex justify-between items-start mb-2",children:[I.jsxs("div",{children:[I.jsx("h3",{className:"font-medium",children:W==null?void 0:W.title}),I.jsxs("p",{className:"text-sm text-gray-500",children:[(ae=W==null?void 0:W.journal)==null?void 0:ae.title,"  Submitted by ",(K=W==null?void 0:W.author)==null?void 0:K.fullName]})]}),I.jsx(Be,{variant:"outline"})]}),I.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:W==null?void 0:W.abstract}),I.jsxs("div",{className:"flex justify-between items-center mt-2",children:[I.jsxs("div",{className:"flex gap-2",children:[I.jsxs(Ne,{size:"sm",onClick:()=>n(W==null?void 0:W._id),className:"flex items-center gap-1",children:[I.jsx(Ce,{size:14})," Edit"]}),I.jsxs(Ne,{size:"sm",variant:"destructive",className:"flex items-center gap-1",children:[I.jsx(Ie,{size:14})," Delete"]})]}),I.jsx("div",{className:"flex ",children:I.jsxs(Ne,{size:"sm",variant:"outline",onClick:()=>fe(W==null?void 0:W._id),children:[I.jsx(we,{size:14,className:"mr-2"})," View Details"]})})]})]})})};return I.jsxs("main",{className:"container mx-auto px-4 py-6",children:[I.jsx(Jt,{open:g,setOpen:f,title:t?"Edit Submission":"Add Submission",id:i,edit:t,setEdit:s,refetch:u.refetch}),I.jsx(tn,{open:O,setOpen:v,title:a?"Publication":"Add Publication",id:i,edit:a,setEdit:l,refetch:u.refetch}),I.jsx("div",{className:"bg-white rounded-lg shadow",children:I.jsxs("div",{className:"p-4 md:p-6",children:[I.jsxs("div",{className:"flex flex-col gap-6 mb-6",children:[I.jsxs("div",{className:"flex justify-between items-center",children:[I.jsx(ut,{className:"text-xl font-bold",children:"Submission Management"}),I.jsxs(Ne,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{s(!1),e(""),f(!0)},children:[I.jsx(Ft,{size:18}),"Add Submission"]})]}),I.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[I.jsx(St,{defaultValue:"all",value:r,onValueChange:A,className:"w-full md:w-auto",children:I.jsxs(jt,{className:"w-full grid grid-cols-5 bg-gray-100 p-1 rounded-lg",children:[I.jsx(Ae,{value:"all",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"All"}),I.jsx(Ae,{value:"submitted",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Submitted"}),I.jsx(Ae,{value:"under_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Reviewing"}),I.jsx(Ae,{value:"completed_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Completed"}),I.jsx(Ae,{value:"rejected_review",className:"data-[state=active]:bg-white data-[state=active]:shadow-sm data-[state=active]:text-primary rounded-md py-1.5",children:"Rejected"})]})}),I.jsxs("form",{onSubmit:_,className:"relative w-full md:w-64",children:[I.jsx("input",{type:"text",placeholder:"Search submissions...",value:k,onChange:b,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),I.jsx(Ut,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]})]}),I.jsxs(st,{className:"mb-4",children:["Total ",r==="all"?"Reviews":r==="submitted"?"Submitted":r==="under_review"?"Under Review":r==="rejected_review"?"Rejected Review":"Completed Review"," Submissions: ",((m=(p=u==null?void 0:u.data)==null?void 0:p.data)==null?void 0:m.totalDocs)||0]}),u!=null&&u.isLoading?I.jsx("div",{className:"flex h-32 items-center justify-center",children:I.jsx(nt,{})}):I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"hidden md:block overflow-x-auto",children:I.jsxs(dt,{children:[I.jsx(ht,{children:I.jsxs(Re,{children:[I.jsx(Ee,{className:"w-12",children:"#"}),I.jsx(Ee,{children:"Title"}),I.jsx(Ee,{children:"Journal"}),I.jsx(Ee,{children:"Submitted By"}),I.jsx(Ee,{children:"Status"}),I.jsx(Ee,{className:"text-right",children:"Actions"})]})}),I.jsx(pt,{children:((L=(T=(E=u==null?void 0:u.data)==null?void 0:E.data)==null?void 0:T.docs)==null?void 0:L.length)===0?I.jsx(Re,{children:I.jsxs(Oe,{colSpan:7,className:"text-center py-8",children:["No ",r==="all"?"":r==="submitted"?"submitted":r==="under_review"?"under review":"completed review"," submissions found"]})}):($=(M=(F=u==null?void 0:u.data)==null?void 0:F.data)==null?void 0:M.docs)==null?void 0:$.map((W,fe)=>{var ae,K;return I.jsxs(Re,{children:[I.jsx(Oe,{children:Y*d-d+fe+1}),I.jsx(Oe,{className:"font-medium",children:W==null?void 0:W.title}),I.jsx(Oe,{children:(ae=W==null?void 0:W.journal)==null?void 0:ae.title}),I.jsx(Oe,{children:(K=W==null?void 0:W.author)==null?void 0:K.fullName}),I.jsx(Oe,{children:I.jsx(Be,{variant:"outline",className:`capitalize ${(W==null?void 0:W.status)==="submitted"?"bg-blue-50 text-blue-700 border-blue-200":(W==null?void 0:W.status)==="under_review"?"bg-amber-50 text-amber-700 border-amber-200":(W==null?void 0:W.status)==="rejected_review"?"bg-red-50 text-red-500 border-black":"bg-green-50 text-green-700 border-green-200"}`,children:(W==null?void 0:W.status)||"N/A"})}),I.jsx(Oe,{className:"text-right",children:I.jsxs(It,{children:[I.jsx(Mt,{asChild:!0,children:I.jsxs(Ne,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",I.jsx(rt,{size:14})]})}),I.jsxs(Bt,{align:"end",children:[I.jsxs(Se,{onClick:()=>n(W==null?void 0:W._id),children:[I.jsx(Ce,{size:14,className:"mr-2"})," Edit"]}),I.jsxs(Se,{onClick:()=>N(W==null?void 0:W._id),children:[I.jsx(we,{size:14,className:"mr-2"})," View Details"]}),I.jsxs(Se,{onClick:()=>c(W==null?void 0:W._id),children:[I.jsx(we,{size:14,className:"mr-2"})," Publication"]}),I.jsxs(Se,{className:"text-red-600",children:[I.jsx(Ie,{size:14,className:"mr-2"})," Delete"]})]})]})})]},W==null?void 0:W._id)})})]})}),I.jsx("div",{className:"md:hidden",children:((x=(R=(C=u==null?void 0:u.data)==null?void 0:C.data)==null?void 0:R.docs)==null?void 0:x.length)===0?I.jsxs("div",{className:"text-center py-8",children:["No ",r==="all"?"":r==="submitted"?"submitted":r==="under_review"?"under review":"completed review"," submissions found"]}):(U=(q=(P=u==null?void 0:u.data)==null?void 0:P.data)==null?void 0:q.docs)==null?void 0:U.map((W,fe)=>I.jsx(y,{submission:W,index:fe,handleViewDetails:N},W==null?void 0:W._id))}),I.jsx(Rt,{className:"my-4"}),I.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[I.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(Y-1)*d+1," to ",Math.min(Y*d,((j=(D=u==null?void 0:u.data)==null?void 0:D.data)==null?void 0:j.totalDocs)||0)," of ",((H=(B=u==null?void 0:u.data)==null?void 0:B.data)==null?void 0:H.totalDocs)||0," entries"]}),I.jsx(vt,{page:Y,perPage:d,totalPage:(Z=(z=u==null?void 0:u.data)==null?void 0:z.data)==null?void 0:Z.totalDocs,hasNextPage:(ee=(Q=u==null?void 0:u.data)==null?void 0:Q.data)==null?void 0:ee.hasNextPage,hasPrevPage:(ne=(te=u==null?void 0:u.data)==null?void 0:te.data)==null?void 0:ne.hasPrevPage,setPage:S,setPerPage:h})]})]})]})})]})}function Bn(){return I.jsx(it,{title:"Submission List",children:I.jsx("div",{children:I.jsx(nn,{})})})}export{Bn as default};
