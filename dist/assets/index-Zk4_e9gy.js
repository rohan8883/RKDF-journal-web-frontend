import{c as Ke,j as i,U as Xt,b as Zt,P as Qt,l as ce,_ as O,a as Jt,B as he,S as en,C as tn}from"./index-qpQYrg8D.js";import{P as nn}from"./index-jqKdOx7X.js";import{r as u,R as w,t as ft,a as rn}from"./router-DMIetGpf.js";import{c as ln,d as an,C as sn,a as on}from"./card-ReX3hggF.js";import{T as cn,a as un,b as He,c as ie,d as dn,e as ee,P as mn}from"./index-Bdg4XSpZ.js";import{u as fn,o as hn,F as pn,k as gn,R as ye,B as vn,c as xn,a as fe}from"./file-upload-DUUER_JG.js";import{S as Ft}from"./separator-DzM_CpjD.js";import{D as bn}from"./index-DjVvuNL5.js";import{u as wn,a as Pt,b as Re}from"./useCustomQuery-Bmkk5bpv.js";import{S as yn}from"./shield-BTcKO9Jg.js";import{E as En,a as jn}from"./eye-DYT1TVlQ.js";import{g as ht}from"./services-KQnp_8oA.js";import{n as L,u as Me,o as ge,s as ve,a as pe,p as Xe,b as S,t as Ze,c as Ne,K as U,y as G,T as Nn,L as q,d as Cn,f as qe,e as Be,O as ze,A as ue,m as Sn,g as $n,H as Fn,w as Pn,Y as pt}from"./switch-cchuJY35.js";import{B as gt}from"./badge-BbaaeNzJ.js";import{D as Tn,a as Rn,b as kn,c as vt,S as xt}from"./dropdown-menu-CfhyfzvJ.js";import{S as Mn}from"./search-D7z0G3sp.js";import{C as An}from"./circle-plus-BXDiFOSI.js";import{B as Ln}from"./badge-check-DiOfzbLT.js";import{C as In}from"./circle-x-CSoGIZq5.js";import"./axios-DmypytPv.js";import"./check-roh18dN7.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=Ke("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ke("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Ke("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);let Dn=u.createContext(()=>{});function Hn({value:e,children:t}){return w.createElement(Dn.Provider,{value:e},t)}let _n=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Tt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(l){return r.add(l),()=>r.delete(l)},dispatch(l,...s){let o=t[l].call(n,...s);o&&(n=o,r.forEach(c=>c()))}}}function Rt(e){return u.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let qn=new _n(()=>Tt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function xe(e,t){let n=qn.get(t),r=u.useId(),l=Rt(n);if(L(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let s=l.indexOf(r),o=l.length;return s===-1&&(s=o,o+=1),s===o-1}let Ve=new Map,Ce=new Map;function wt(e){var t;let n=(t=Ce.get(e))!=null?t:0;return Ce.set(e,n+1),n!==0?()=>yt(e):(Ve.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),e.setAttribute("aria-hidden","true"),e.inert=!0,()=>yt(e))}function yt(e){var t;let n=(t=Ce.get(e))!=null?t:1;if(n===1?Ce.delete(e):Ce.set(e,n-1),n!==1)return;let r=Ve.get(e);r&&(r["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",r["aria-hidden"]),e.inert=r.inert,Ve.delete(e))}function Bn(e,{allowed:t,disallowed:n}={}){let r=xe(e,"inert-others");L(()=>{var l,s;if(!r)return;let o=ge();for(let a of(l=n==null?void 0:n())!=null?l:[])a&&o.add(wt(a));let c=(s=t==null?void 0:t())!=null?s:[];for(let a of c){if(!a)continue;let m=Me(a);if(!m)continue;let f=a.parentElement;for(;f&&f!==m.body;){for(let h of f.children)c.some(x=>h.contains(x))||o.add(wt(h));f=f.parentElement}}return o.dispose},[r,t,n])}function zn(e,t,n){let r=ve(l=>{let s=l.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&n()});u.useEffect(()=>{if(!e)return;let l=t===null?null:t instanceof HTMLElement?t:t.current;if(!l)return;let s=ge();if(typeof ResizeObserver<"u"){let o=new ResizeObserver(()=>r.current(l));o.observe(l),s.add(()=>o.disconnect())}if(typeof IntersectionObserver<"u"){let o=new IntersectionObserver(()=>r.current(l));o.observe(l),s.add(()=>o.disconnect())}return()=>s.dispose()},[t,r,e])}let ke=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),Vn=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var W=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(W||{}),We=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(We||{}),Wn=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Wn||{});function Yn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(ke)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function Gn(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Vn)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var kt=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(kt||{});function Kn(e,t=0){var n;return e===((n=Me(e))==null?void 0:n.body)?!1:pe(t,{0(){return e.matches(ke)},1(){let r=e;for(;r!==null;){if(r.matches(ke))return!0;r=r.parentElement}return!1}})}var Xn=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Xn||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Y(e){e==null||e.focus({preventScroll:!0})}let Zn=["textarea","input"].join(",");function Qn(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,Zn))!=null?n:!1}function Jn(e,t=n=>n){return e.slice().sort((n,r)=>{let l=t(n),s=t(r);if(l===null||s===null)return 0;let o=l.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Se(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:l=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?n?Jn(e):e:t&64?Gn(e):Yn(e);l.length>0&&o.length>1&&(o=o.filter(g=>!l.some(v=>v!=null&&"current"in v?(v==null?void 0:v.current)===g:v===g))),r=r??s.activeElement;let c=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(r))-1;if(t&4)return Math.max(0,o.indexOf(r))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),m=t&32?{preventScroll:!0}:{},f=0,h=o.length,x;do{if(f>=h||f+h<=0)return 0;let g=a+f;if(t&16)g=(g+h)%h;else{if(g<0)return 3;if(g>=h)return 1}x=o[g],x==null||x.focus(m),f+=c}while(x!==s.activeElement);return t&6&&Qn(x)&&x.select(),2}function Mt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function er(){return/Android/gi.test(window.navigator.userAgent)}function tr(){return Mt()||er()}function Ee(e,t,n,r){let l=ve(n);u.useEffect(()=>{if(!e)return;function s(o){l.current(o)}return document.addEventListener(t,s,r),()=>document.removeEventListener(t,s,r)},[e,t,r])}function At(e,t,n,r){let l=ve(n);u.useEffect(()=>{if(!e)return;function s(o){l.current(o)}return window.addEventListener(t,s,r),()=>window.removeEventListener(t,s,r)},[e,t,r])}const Et=30;function nr(e,t,n){let r=xe(e,"outside-click"),l=ve(n),s=u.useCallback(function(a,m){if(a.defaultPrevented)return;let f=m(a);if(f===null||!f.getRootNode().contains(f)||!f.isConnected)return;let h=function x(g){return typeof g=="function"?x(g()):Array.isArray(g)||g instanceof Set?g:[g]}(t);for(let x of h)if(x!==null&&(x.contains(f)||a.composed&&a.composedPath().includes(x)))return;return!Kn(f,kt.Loose)&&f.tabIndex!==-1&&a.preventDefault(),l.current(a,f)},[l,t]),o=u.useRef(null);Ee(r,"pointerdown",a=>{var m,f;o.current=((f=(m=a.composedPath)==null?void 0:m.call(a))==null?void 0:f[0])||a.target},!0),Ee(r,"mousedown",a=>{var m,f;o.current=((f=(m=a.composedPath)==null?void 0:m.call(a))==null?void 0:f[0])||a.target},!0),Ee(r,"click",a=>{tr()||o.current&&(s(a,()=>o.current),o.current=null)},!0);let c=u.useRef({x:0,y:0});Ee(r,"touchstart",a=>{c.current.x=a.touches[0].clientX,c.current.y=a.touches[0].clientY},!0),Ee(r,"touchend",a=>{let m={x:a.changedTouches[0].clientX,y:a.changedTouches[0].clientY};if(!(Math.abs(m.x-c.current.x)>=Et||Math.abs(m.y-c.current.y)>=Et))return s(a,()=>a.target instanceof HTMLElement?a.target:null)},!0),At(r,"blur",a=>s(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function $e(...e){return u.useMemo(()=>Me(...e),[...e])}function Lt(e,t,n,r){let l=ve(n);u.useEffect(()=>{e=e??window;function s(o){l.current(o)}return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s,r)},[e,t,r])}function rr(){let e;return{before({doc:t}){var n;let r=t.documentElement,l=(n=t.defaultView)!=null?n:window;e=Math.max(0,l.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,l=Math.max(0,r.clientWidth-r.offsetWidth),s=Math.max(0,e-l);n.style(r,"paddingRight",`${s}px`)}}}function lr(){return Mt()?{before({doc:e,d:t,meta:n}){function r(l){return n.containers.flatMap(s=>s()).some(s=>s.contains(l))}t.microTask(()=>{var l;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let c=ge();c.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>c.dispose()))}let s=(l=window.scrollY)!=null?l:window.pageYOffset,o=null;t.addEventListener(e,"click",c=>{if(c.target instanceof HTMLElement)try{let a=c.target.closest("a");if(!a)return;let{hash:m}=new URL(a.href),f=e.querySelector(m);f&&!r(f)&&(o=f)}catch{}},!0),t.addEventListener(e,"touchstart",c=>{if(c.target instanceof HTMLElement)if(r(c.target)){let a=c.target;for(;a.parentElement&&r(a.parentElement);)a=a.parentElement;t.style(a,"overscrollBehavior","contain")}else t.style(c.target,"touchAction","none")}),t.addEventListener(e,"touchmove",c=>{if(c.target instanceof HTMLElement){if(c.target.tagName==="INPUT")return;if(r(c.target)){let a=c.target;for(;a.parentElement&&a.dataset.headlessuiPortal!==""&&!(a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth);)a=a.parentElement;a.dataset.headlessuiPortal===""&&c.preventDefault()}else c.preventDefault()}},{passive:!1}),t.add(()=>{var c;let a=(c=window.scrollY)!=null?c:window.pageYOffset;s!==a&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function ar(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function sr(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let de=Tt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:ge(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:sr(n)},l=[lr(),rr(),ar()];l.forEach(({before:s})=>s==null?void 0:s(r)),l.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});de.subscribe(()=>{let e=de.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",l=n.count!==0;(l&&!r||!l&&r)&&de.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&de.dispatch("TEARDOWN",n)}});function ir(e,t,n=()=>({containers:[]})){let r=Rt(de),l=t?r.get(t):void 0,s=l?l.count>0:!1;return L(()=>{if(!(!t||!e))return de.dispatch("PUSH",t,n),()=>de.dispatch("POP",t,n)},[e,t]),s}function or(e,t,n=()=>[document.body]){let r=xe(e,"scroll-lock");ir(r,t,l=>{var s;return{containers:[...(s=l.containers)!=null?s:[],n]}})}function cr(e=0){let[t,n]=u.useState(e),r=u.useCallback(a=>n(a),[t]),l=u.useCallback(a=>n(m=>m|a),[t]),s=u.useCallback(a=>(t&a)===a,[t]),o=u.useCallback(a=>n(m=>m&~a),[n]),c=u.useCallback(a=>n(m=>m^a),[n]);return{flags:t,setFlag:r,addFlag:l,hasFlag:s,removeFlag:o,toggleFlag:c}}var ur={},jt,Nt;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((jt=process==null?void 0:ur)==null?void 0:jt.NODE_ENV)==="test"&&typeof((Nt=Element==null?void 0:Element.prototype)==null?void 0:Nt.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return[]});var dr=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))(dr||{});function mr(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function fr(e,t,n,r){let[l,s]=u.useState(n),{hasFlag:o,addFlag:c,removeFlag:a}=cr(e&&l?3:0),m=u.useRef(!1),f=u.useRef(!1),h=Xe();return L(()=>{var x;if(e){if(n&&s(!0),!t){n&&c(3);return}return(x=r==null?void 0:r.start)==null||x.call(r,n),hr(t,{inFlight:m,prepare(){f.current?f.current=!1:f.current=m.current,m.current=!0,!f.current&&(n?(c(3),a(4)):(c(4),a(2)))},run(){f.current?n?(a(3),c(4)):(a(4),c(3)):n?a(1):c(1)},done(){var g;f.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(m.current=!1,a(7),n||s(!1),(g=r==null?void 0:r.end)==null||g.call(r,n))}})}},[e,n,t,h]),e?[l,{closed:o(1),enter:o(2),leave:o(4),transition:o(2)||o(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function hr(e,{prepare:t,run:n,done:r,inFlight:l}){let s=ge();return gr(e,{prepare:t,inFlight:l}),s.nextFrame(()=>{n(),s.requestAnimationFrame(()=>{s.add(pr(e,r))})}),s.dispose}function pr(e,t){var n,r;let l=ge();if(!e)return l.dispose;let s=!1;l.add(()=>{s=!0});let o=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(c=>c instanceof CSSTransition))!=null?r:[];return o.length===0?(t(),l.dispose):(Promise.allSettled(o.map(c=>c.finished)).then(()=>{s||t()}),l.dispose)}function gr(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Qe(e,t){let n=u.useRef([]),r=S(e);u.useEffect(()=>{let l=[...n.current];for(let[s,o]of t.entries())if(n.current[s]!==o){let c=r(t,l);return n.current=t,c}},[r,...t])}let Ae=u.createContext(null);Ae.displayName="OpenClosedContext";var D=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(D||{});function Le(){return u.useContext(Ae)}function vr({value:e,children:t}){return w.createElement(Ae.Provider,{value:e},t)}function xr({children:e}){return w.createElement(Ae.Provider,{value:null},e)}function br(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let te=[];br(()=>{function e(t){if(!(t.target instanceof HTMLElement)||t.target===document.body||te[0]===t.target)return;let n=t.target;n=n.closest(ke),te.unshift(n??t.target),te=te.filter(r=>r!=null&&r.isConnected),te.splice(10)}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function It(e){let t=S(e),n=u.useRef(!1);u.useEffect(()=>(n.current=!1,()=>{n.current=!0,Ze(()=>{n.current&&t()})}),[t])}function wr(){let e=typeof document>"u";return"useSyncExternalStore"in ft?(t=>t.useSyncExternalStore)(ft)(()=>()=>{},()=>!1,()=>!e):!1}function Fe(){let e=wr(),[t,n]=u.useState(Ne.isHandoffComplete);return t&&Ne.isHandoffComplete===!1&&n(!1),u.useEffect(()=>{t!==!0&&n(!0)},[t]),u.useEffect(()=>Ne.handoff(),[]),e?!1:t}let Ot=u.createContext(!1);function yr(){return u.useContext(Ot)}function Ct(e){return w.createElement(Ot.Provider,{value:e.force},e.children)}function Er(e){let t=yr(),n=u.useContext(Dt),r=$e(e),[l,s]=u.useState(()=>{var o;if(!t&&n!==null)return(o=n.current)!=null?o:null;if(Ne.isServer)return null;let c=r==null?void 0:r.getElementById("headlessui-portal-root");if(c)return c;if(r===null)return null;let a=r.createElement("div");return a.setAttribute("id","headlessui-portal-root"),r.body.appendChild(a)});return u.useEffect(()=>{l!==null&&(r!=null&&r.body.contains(l)||r==null||r.body.appendChild(l))},[l,r]),u.useEffect(()=>{t||n!==null&&s(n.current)},[n,s,t]),l}let Ut=u.Fragment,jr=U(function(e,t){let n=e,r=u.useRef(null),l=G(Nn(h=>{r.current=h}),t),s=$e(r),o=Er(r),[c]=u.useState(()=>{var h;return Ne.isServer?null:(h=s==null?void 0:s.createElement("div"))!=null?h:null}),a=u.useContext(Ye),m=Fe();L(()=>{!o||!c||o.contains(c)||(c.setAttribute("data-headlessui-portal",""),o.appendChild(c))},[o,c]),L(()=>{if(c&&a)return a.register(c)},[a,c]),It(()=>{var h;!o||!c||(c instanceof Node&&o.contains(c)&&o.removeChild(c),o.childNodes.length<=0&&((h=o.parentElement)==null||h.removeChild(o)))});let f=q();return m?!o||!c?null:rn.createPortal(f({ourProps:{ref:l},theirProps:n,slot:{},defaultTag:Ut,name:"Portal"}),c):null});function Nr(e,t){let n=G(t),{enabled:r=!0,...l}=e,s=q();return r?w.createElement(jr,{...l,ref:n}):s({ourProps:{ref:n},theirProps:l,slot:{},defaultTag:Ut,name:"Portal"})}let Cr=u.Fragment,Dt=u.createContext(null);function Sr(e,t){let{target:n,...r}=e,l={ref:G(t)},s=q();return w.createElement(Dt.Provider,{value:n},s({ourProps:l,theirProps:r,defaultTag:Cr,name:"Popover.Group"}))}let Ye=u.createContext(null);function $r(){let e=u.useContext(Ye),t=u.useRef([]),n=S(s=>(t.current.push(s),e&&e.register(s),()=>r(s))),r=S(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),l=u.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,u.useMemo(()=>function({children:s}){return w.createElement(Ye.Provider,{value:l},s)},[l])]}let Fr=U(Nr),Ht=U(Sr),Pr=Object.assign(Fr,{Group:Ht});function Tr(e,t=typeof document<"u"?document.defaultView:null,n){let r=xe(e,"escape");Lt(t,"keydown",l=>{r&&(l.defaultPrevented||l.key===Cn.Escape&&n(l))})}function Rr(){var e;let[t]=u.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=u.useState((e=t==null?void 0:t.matches)!=null?e:!1);return L(()=>{if(!t)return;function l(s){r(s.matches)}return t.addEventListener("change",l),()=>t.removeEventListener("change",l)},[t]),n}function kr({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=$e(n),l=S(()=>{var s,o;let c=[];for(let a of e)a!==null&&(a instanceof HTMLElement?c.push(a):"current"in a&&a.current instanceof HTMLElement&&c.push(a.current));if(t!=null&&t.current)for(let a of t.current)c.push(a);for(let a of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((o=n==null?void 0:n.getRootNode())==null?void 0:o.host))||c.some(m=>a.contains(m))||c.push(a));return c});return{resolveContainers:l,contains:S(s=>l().some(o=>o.contains(s)))}}let _t=u.createContext(null);function St({children:e,node:t}){let[n,r]=u.useState(null),l=qt(t??n);return w.createElement(_t.Provider,{value:l},e,l===null&&w.createElement(qe,{features:Be.Hidden,ref:s=>{var o,c;if(s){for(let a of(c=(o=Me(s))==null?void 0:o.querySelectorAll("html > *, body > *"))!=null?c:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(s)){r(a);break}}}}))}function qt(e=null){var t;return(t=u.useContext(_t))!=null?t:e}function Je(){let e=u.useRef(!1);return L(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var je=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(je||{});function Mr(){let e=u.useRef(0);return At(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Bt(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Ar="div";var oe=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(oe||{});function Lr(e,t){let n=u.useRef(null),r=G(n,t),{initialFocus:l,initialFocusFallback:s,containers:o,features:c=15,...a}=e;Fe()||(c=0);let m=$e(n);Dr(c,{ownerDocument:m});let f=Hr(c,{ownerDocument:m,container:n,initialFocus:l,initialFocusFallback:s});_r(c,{ownerDocument:m,container:n,containers:o,previousActiveElement:f});let h=Mr(),x=S(N=>{let b=n.current;b&&(j=>j())(()=>{pe(h.current,{[je.Forwards]:()=>{Se(b,W.First,{skipElements:[N.relatedTarget,s]})},[je.Backwards]:()=>{Se(b,W.Last,{skipElements:[N.relatedTarget,s]})}})})}),g=xe(!!(c&2),"focus-trap#tab-lock"),v=Xe(),E=u.useRef(!1),y={ref:r,onKeyDown(N){N.key=="Tab"&&(E.current=!0,v.requestAnimationFrame(()=>{E.current=!1}))},onBlur(N){if(!(c&4))return;let b=Bt(o);n.current instanceof HTMLElement&&b.add(n.current);let j=N.relatedTarget;j instanceof HTMLElement&&j.dataset.headlessuiFocusGuard!=="true"&&(zt(b,j)||(E.current?Se(n.current,pe(h.current,{[je.Forwards]:()=>W.Next,[je.Backwards]:()=>W.Previous})|W.WrapAround,{relativeTo:N.target}):N.target instanceof HTMLElement&&Y(N.target)))}},p=q();return w.createElement(w.Fragment,null,g&&w.createElement(qe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:Be.Focusable}),p({ourProps:y,theirProps:a,defaultTag:Ar,name:"FocusTrap"}),g&&w.createElement(qe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:x,features:Be.Focusable}))}let Ir=U(Lr),Or=Object.assign(Ir,{features:oe});function Ur(e=!0){let t=u.useRef(te.slice());return Qe(([n],[r])=>{r===!0&&n===!1&&Ze(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=te.slice())},[e,te,t]),S(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function Dr(e,{ownerDocument:t}){let n=!!(e&8),r=Ur(n);Qe(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&Y(r())},[n]),It(()=>{n&&Y(r())})}function Hr(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:l}){let s=u.useRef(null),o=xe(!!(e&1),"focus-trap#initial-focus"),c=Je();return Qe(()=>{if(e===0)return;if(!o){l!=null&&l.current&&Y(l.current);return}let a=n.current;a&&Ze(()=>{if(!c.current)return;let m=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===m){s.current=m;return}}else if(a.contains(m)){s.current=m;return}if(r!=null&&r.current)Y(r.current);else{if(e&16){if(Se(a,W.First|W.AutoFocus)!==We.Error)return}else if(Se(a,W.First)!==We.Error)return;if(l!=null&&l.current&&(Y(l.current),(t==null?void 0:t.activeElement)===l.current))return}s.current=t==null?void 0:t.activeElement})},[l,o,e]),s}function _r(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:l}){let s=Je(),o=!!(e&4);Lt(t==null?void 0:t.defaultView,"focus",c=>{if(!o||!s.current)return;let a=Bt(r);n.current instanceof HTMLElement&&a.add(n.current);let m=l.current;if(!m)return;let f=c.target;f&&f instanceof HTMLElement?zt(a,f)?(l.current=f,Y(f)):(c.preventDefault(),c.stopPropagation(),Y(m)):Y(l.current)},!0)}function zt(e,t){for(let n of e)if(n.contains(t))return!0;return!1}function Vt(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:Yt)!==u.Fragment||w.Children.count(e.children)===1}let Ie=u.createContext(null);Ie.displayName="TransitionContext";var qr=(e=>(e.Visible="visible",e.Hidden="hidden",e))(qr||{});function Br(){let e=u.useContext(Ie);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function zr(){let e=u.useContext(Oe);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Oe=u.createContext(null);Oe.displayName="NestingContext";function Ue(e){return"children"in e?Ue(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function Wt(e,t){let n=ve(e),r=u.useRef([]),l=Je(),s=Xe(),o=S((g,v=ue.Hidden)=>{let E=r.current.findIndex(({el:y})=>y===g);E!==-1&&(pe(v,{[ue.Unmount](){r.current.splice(E,1)},[ue.Hidden](){r.current[E].state="hidden"}}),s.microTask(()=>{var y;!Ue(r)&&l.current&&((y=n.current)==null||y.call(n))}))}),c=S(g=>{let v=r.current.find(({el:E})=>E===g);return v?v.state!=="visible"&&(v.state="visible"):r.current.push({el:g,state:"visible"}),()=>o(g,ue.Unmount)}),a=u.useRef([]),m=u.useRef(Promise.resolve()),f=u.useRef({enter:[],leave:[]}),h=S((g,v,E)=>{a.current.splice(0),t&&(t.chains.current[v]=t.chains.current[v].filter(([y])=>y!==g)),t==null||t.chains.current[v].push([g,new Promise(y=>{a.current.push(y)})]),t==null||t.chains.current[v].push([g,new Promise(y=>{Promise.all(f.current[v].map(([p,N])=>N)).then(()=>y())})]),v==="enter"?m.current=m.current.then(()=>t==null?void 0:t.wait.current).then(()=>E(v)):E(v)}),x=S((g,v,E)=>{Promise.all(f.current[v].splice(0).map(([y,p])=>p)).then(()=>{var y;(y=a.current.shift())==null||y()}).then(()=>E(v))});return u.useMemo(()=>({children:r,register:c,unregister:o,onStart:h,onStop:x,wait:m,chains:f}),[c,o,r,h,x,f,m])}let Yt=u.Fragment,Gt=ze.RenderStrategy;function Vr(e,t){var n,r;let{transition:l=!0,beforeEnter:s,afterEnter:o,beforeLeave:c,afterLeave:a,enter:m,enterFrom:f,enterTo:h,entered:x,leave:g,leaveFrom:v,leaveTo:E,...y}=e,[p,N]=u.useState(null),b=u.useRef(null),j=Vt(e),$=G(...j?[b,t,N]:t===null?[]:[t]),P=(n=y.unmount)==null||n?ue.Unmount:ue.Hidden,{show:F,appear:H,initial:I}=Br(),[R,_]=u.useState(F?"visible":"hidden"),K=zr(),{register:B,unregister:z}=K;L(()=>B(b),[B,b]),L(()=>{if(P===ue.Hidden&&b.current){if(F&&R!=="visible"){_("visible");return}return pe(R,{hidden:()=>z(b),visible:()=>B(b)})}},[R,b,B,z,F,P]);let X=Fe();L(()=>{if(j&&X&&R==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,R,X,j]);let ne=I&&!H,re=H&&F&&I,Z=u.useRef(!1),A=Wt(()=>{Z.current||(_("hidden"),z(b))},K),le=S(me=>{Z.current=!0;let se=me?"enter":"leave";A.onStart(b,se,J=>{J==="enter"?s==null||s():J==="leave"&&(c==null||c())})}),C=S(me=>{let se=me?"enter":"leave";Z.current=!1,A.onStop(b,se,J=>{J==="enter"?o==null||o():J==="leave"&&(a==null||a())}),se==="leave"&&!Ue(A)&&(_("hidden"),z(b))});u.useEffect(()=>{j&&l||(le(F),C(F))},[F,j,l]);let ae=!(!l||!j||!X||ne),[,T]=fr(ae,p,F,{start:le,end:C}),Pe=Sn({ref:$,className:((r=$n(y.className,re&&m,re&&f,T.enter&&m,T.enter&&T.closed&&f,T.enter&&!T.closed&&h,T.leave&&g,T.leave&&!T.closed&&v,T.leave&&T.closed&&E,!T.transition&&F&&x))==null?void 0:r.trim())||void 0,...mr(T)}),Q=0;R==="visible"&&(Q|=D.Open),R==="hidden"&&(Q|=D.Closed),T.enter&&(Q|=D.Opening),T.leave&&(Q|=D.Closing);let Te=q();return w.createElement(Oe.Provider,{value:A},w.createElement(vr,{value:Q},Te({ourProps:Pe,theirProps:y,defaultTag:Yt,features:Gt,visible:R==="visible",name:"Transition.Child"})))}function Wr(e,t){let{show:n,appear:r=!1,unmount:l=!0,...s}=e,o=u.useRef(null),c=Vt(e),a=G(...c?[o,t]:t===null?[]:[t]);Fe();let m=Le();if(n===void 0&&m!==null&&(n=(m&D.Open)===D.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[f,h]=u.useState(n?"visible":"hidden"),x=Wt(()=>{n||h("hidden")}),[g,v]=u.useState(!0),E=u.useRef([n]);L(()=>{g!==!1&&E.current[E.current.length-1]!==n&&(E.current.push(n),v(!1))},[E,n]);let y=u.useMemo(()=>({show:n,appear:r,initial:g}),[n,r,g]);L(()=>{n?h("visible"):!Ue(x)&&o.current!==null&&h("hidden")},[n,x]);let p={unmount:l},N=S(()=>{var $;g&&v(!1),($=e.beforeEnter)==null||$.call(e)}),b=S(()=>{var $;g&&v(!1),($=e.beforeLeave)==null||$.call(e)}),j=q();return w.createElement(Oe.Provider,{value:x},w.createElement(Ie.Provider,{value:y},j({ourProps:{...p,as:u.Fragment,children:w.createElement(Kt,{ref:a,...p,...s,beforeEnter:N,beforeLeave:b})},theirProps:{},defaultTag:u.Fragment,features:Gt,visible:f==="visible",name:"Transition"})))}function Yr(e,t){let n=u.useContext(Ie)!==null,r=Le()!==null;return w.createElement(w.Fragment,null,!n&&r?w.createElement(Ge,{ref:t,...e}):w.createElement(Kt,{ref:t,...e}))}let Ge=U(Wr),Kt=U(Vr),et=U(Yr),Gr=Object.assign(Ge,{Child:et,Root:Ge});var Kr=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Kr||{}),Xr=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Xr||{});let Zr={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},tt=u.createContext(null);tt.displayName="DialogContext";function De(e){let t=u.useContext(tt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,De),n}return t}function Qr(e,t){return pe(t.type,Zr,e,t)}let $t=U(function(e,t){let n=u.useId(),{id:r=`headlessui-dialog-${n}`,open:l,onClose:s,initialFocus:o,role:c="dialog",autoFocus:a=!0,__demoMode:m=!1,unmount:f=!1,...h}=e,x=u.useRef(!1);c=function(){return c==="dialog"||c==="alertdialog"?c:(x.current||(x.current=!0),"dialog")}();let g=Le();l===void 0&&g!==null&&(l=(g&D.Open)===D.Open);let v=u.useRef(null),E=G(v,t),y=$e(v),p=l?0:1,[N,b]=u.useReducer(Qr,{titleId:null,descriptionId:null,panelRef:u.createRef()}),j=S(()=>s(!1)),$=S(C=>b({type:0,id:C})),P=Fe()?p===0:!1,[F,H]=$r(),I={get current(){var C;return(C=N.panelRef.current)!=null?C:v.current}},R=qt(),{resolveContainers:_}=kr({mainTreeNode:R,portals:F,defaultContainers:[I]}),K=g!==null?(g&D.Closing)===D.Closing:!1;Bn(m||K?!1:P,{allowed:S(()=>{var C,ae;return[(ae=(C=v.current)==null?void 0:C.closest("[data-headlessui-portal]"))!=null?ae:null]}),disallowed:S(()=>{var C;return[(C=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?C:null]})}),nr(P,_,C=>{C.preventDefault(),j()}),Tr(P,y==null?void 0:y.defaultView,C=>{C.preventDefault(),C.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),j()}),or(m||K?!1:P,y,_),zn(P,v,j);let[B,z]=Pn(),X=u.useMemo(()=>[{dialogState:p,close:j,setTitleId:$,unmount:f},N],[p,N,j,$,f]),ne=u.useMemo(()=>({open:p===0}),[p]),re={ref:E,id:r,role:c,tabIndex:-1,"aria-modal":m?void 0:p===0?!0:void 0,"aria-labelledby":N.titleId,"aria-describedby":B,unmount:f},Z=!Rr(),A=oe.None;P&&!m&&(A|=oe.RestoreFocus,A|=oe.TabLock,a&&(A|=oe.AutoFocus),Z&&(A|=oe.InitialFocus));let le=q();return w.createElement(xr,null,w.createElement(Ct,{force:!0},w.createElement(Pr,null,w.createElement(tt.Provider,{value:X},w.createElement(Ht,{target:v},w.createElement(Ct,{force:!1},w.createElement(z,{slot:ne},w.createElement(H,null,w.createElement(Or,{initialFocus:o,initialFocusFallback:v,containers:_,features:A},w.createElement(Hn,{value:j},le({ourProps:re,theirProps:h,slot:ne,defaultTag:Jr,features:el,visible:p===0,name:"Dialog"})))))))))))}),Jr="div",el=ze.RenderStrategy|ze.Static;function tl(e,t){let{transition:n=!1,open:r,...l}=e,s=Le(),o=e.hasOwnProperty("open")||s!==null,c=e.hasOwnProperty("onClose");if(!o&&!c)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!o)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!c)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!l.static?w.createElement(St,null,w.createElement(Gr,{show:r,transition:n,unmount:l.unmount},w.createElement($t,{ref:t,...l}))):w.createElement(St,null,w.createElement($t,{ref:t,open:r,...l}))}let nl="div";function rl(e,t){let n=u.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:l=!1,...s}=e,[{dialogState:o,unmount:c},a]=De("Dialog.Panel"),m=G(t,a.panelRef),f=u.useMemo(()=>({open:o===0}),[o]),h=S(y=>{y.stopPropagation()}),x={ref:m,id:r,onClick:h},g=l?et:u.Fragment,v=l?{unmount:c}:{},E=q();return w.createElement(g,{...v},E({ourProps:x,theirProps:s,slot:f,defaultTag:nl,name:"Dialog.Panel"}))}let ll="div";function al(e,t){let{transition:n=!1,...r}=e,[{dialogState:l,unmount:s}]=De("Dialog.Backdrop"),o=u.useMemo(()=>({open:l===0}),[l]),c={ref:t,"aria-hidden":!0},a=n?et:u.Fragment,m=n?{unmount:s}:{},f=q();return w.createElement(a,{...m},f({ourProps:c,theirProps:r,slot:o,defaultTag:ll,name:"Dialog.Backdrop"}))}let sl="h2";function il(e,t){let n=u.useId(),{id:r=`headlessui-dialog-title-${n}`,...l}=e,[{dialogState:s,setTitleId:o}]=De("Dialog.Title"),c=G(t);u.useEffect(()=>(o(r),()=>o(null)),[r,o]);let a=u.useMemo(()=>({open:s===0}),[s]),m={ref:c,id:r};return q()({ourProps:m,theirProps:l,slot:a,defaultTag:sl,name:"Dialog.Title"})}let ol=U(tl),cl=U(rl);U(al);let ul=U(il),_e=Object.assign(ol,{Panel:cl,Title:ul,Description:Fn});const dl=xn().shape({roleId:fe().required("Role is required"),fullName:fe().required("Full name is required"),userName:fe().required("Username is required"),email:fe().email("Invalid email").required("Email is required"),mobile:fe().required("Mobile number is required").matches(/^[0-9]+$/,"Must be only digits").min(10,"Must be at least 10 digits"),password:fe().when("edit",{is:!1,then:e=>e.required("Password is required").min(8,"Password must be at least 8 characters")})});function ml({open:e,setOpen:t,title:n,id:r,edit:l,setEdit:s,refetch:o}){var y,p,N;const c=wn({}),a=Pt({}),[m,f]=u.useState(!1),{data:h,isFetching:x}=Re({api:`${ce.getUserById}/${r}`,options:{enabled:l}}),g=Re({api:`${ce.getAllRole}?page=1&limit=10`,options:{enabled:!0}}),v=fn({defaultValues:{roleId:"",fullName:"",userName:"",email:"",mobile:"",password:""},resolver:hn(dl),context:{edit:l}}),E=async b=>{var j,$,P,F;try{const H={roleId:b.roleId,fullName:b.fullName,userName:b.userName,email:b.email,mobile:b.mobile,...!l&&{password:b.password}};if(l){const I=await a.mutateAsync({api:`${ce.updateUser}/${r}`,data:H});(j=I.data)!=null&&j.success?O.success("User updated successfully"):O.error((($=I.data)==null?void 0:$.message)||"Failed to update user")}else{const I=await c.mutateAsync({api:Jt.register,data:H});(P=I.data)!=null&&P.success?(O.success("User created successfully"),v.reset()):O.error(((F=I.data)==null?void 0:F.message)||"Failed to create user")}t(!1),s&&s(!1),o&&o()}catch{O.error("An unexpected error occurred")}};return u.useEffect(()=>{var b,j,$,P,F;l&&h?v.reset({roleId:(b=h==null?void 0:h.userDetails)==null?void 0:b.roleId,fullName:(j=h==null?void 0:h.userDetails)==null?void 0:j.fullName,userName:($=h==null?void 0:h.userDetails)==null?void 0:$.userName,email:(P=h==null?void 0:h.userDetails)==null?void 0:P.email,mobile:(F=h==null?void 0:h.userDetails)==null?void 0:F.mobile}):v.reset({roleId:"",fullName:"",userName:"",email:"",mobile:"",password:""})},[l,h,v]),i.jsx(bn,{open:e,setOpen:t,title:n||(l?"Edit User":"Create User"),setEdit:s,edit:l,isLoading:x,children:i.jsx(pn,{methods:v,onSubmit:v.handleSubmit(E),children:i.jsxs("div",{className:"space-y-8 py-2",children:[i.jsxs("div",{className:"bg-gradient-to-r from-indigo-100 to-blue-50 p-4 rounded-lg shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-indigo-800 flex items-center",children:[i.jsx(On,{className:"mr-2 h-5 w-5"}),l?"Update User Details":"Create New User Account"]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1 ml-7",children:l?"Modify the existing user information below":"Fill in the required information to create a new user"})]}),i.jsxs("div",{className:"w-full bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx(yn,{className:"h-4 w-4 text-indigo-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"User Role"})]}),i.jsx(gn,{name:"roleId",label:"Select Role",data:(N=(p=(y=g==null?void 0:g.data)==null?void 0:y.data)==null?void 0:p.docs)==null?void 0:N.map(b=>({label:b.roleName,value:b._id})),disabled:l,className:"w-full"})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Xt,{className:"h-4 w-4 text-indigo-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Personal Information"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsx(ye,{name:"fullName",label:"Full Name",placeholder:"Enter full name"}),i.jsx(ye,{name:"userName",label:"Username",placeholder:"Enter username",disabled:l})]})]}),i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Zt,{className:"h-4 w-4 text-indigo-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Contact Information"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsx(ye,{name:"email",label:"Email Address",placeholder:"Enter email address",type:"email"}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{name:"mobile",label:"Mobile Number",placeholder:"Enter mobile number",inputValidation:["mobile","number"]}),i.jsx(Qt,{className:"absolute right-3 top-9 h-4 w-4 text-gray-400"})]})]})]}),!l&&i.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Un,{className:"h-4 w-4 text-indigo-600 mr-2"}),i.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Security"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ye,{name:"password",label:"Password",placeholder:"Enter password",type:m?"text":"password"}),i.jsx("button",{type:"button",onClick:()=>f(!m),className:"absolute right-3 top-9 text-gray-500 hover:text-indigo-600 focus:outline-none transition-colors",children:m?i.jsx(En,{className:"h-5 w-5"}):i.jsx(jn,{className:"h-5 w-5"})}),i.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-1",children:"Minimum 8 characters required"})]})]}),i.jsx(Ft,{className:"my-6"}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>{t(!1),s&&s(!1)},className:"px-5 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-md hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200",children:"Cancel"}),i.jsx(vn,{isLoading:v.formState.isSubmitting,type:"submit",className:"px-5 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200 shadow-sm",children:l?"Update User":"Create User"})]})]})})})}function fl({open:e,setOpen:t,selectedUserId:n,roleList:r,onSubmit:l}){const[s,o]=u.useState(""),c=()=>{s&&n&&(l(s),t(!1))};return i.jsxs(_e,{open:e,onClose:()=>t(!1),className:"relative z-50",children:[i.jsx("div",{className:"fixed inset-0 bg-black/30","aria-hidden":"true"}),i.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:i.jsxs(_e.Panel,{className:"w-full max-w-md rounded bg-white p-6 shadow-lg",children:[i.jsx(_e.Title,{className:"text-lg font-semibold mb-4",children:"Change User Role"}),i.jsx("div",{className:"space-y-2",children:r.map(a=>i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"radio",name:"role",value:a._id,checked:s===a._id,onChange:()=>o(a._id)}),i.jsx("span",{children:a.roleName})]},a._id))}),i.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[i.jsx(he,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(he,{onClick:c,children:"Update Role"})]})]})})]})}function hl(){var R,_,K,B,z,X,ne,re,Z,A,le,C,ae,T,Pe,Q,Te,me,se,J,nt,rt,lt,at,st,it;const[e,t]=u.useState(1),n=Pt({}),[r,l]=u.useState(10),[s,o]=u.useState(""),[c,a]=u.useState(!1),[m,f]=u.useState(""),[h,x]=u.useState(!1),[g,v]=u.useState(!1),[E,y]=u.useState(""),p=Re({api:`${ce.getAllUser}?page=${e}&limit=${r}&q=${s}`,key:"getAllUser",value:[e,r,s],options:{enabled:!0}}),N=Re({api:`${ce.getAllRole}?page=1&limit=10`,options:{enabled:!0}}),b=async d=>{var V,be,we,k,ot,ct,ut,dt,mt;try{const M=await n.mutateAsync({api:`${(V=ce)==null?void 0:V.updateUserStatus}/${d}`,data:{id:d}});(be=M==null?void 0:M.data)!=null&&be.success?(p.refetch(),((k=(we=M==null?void 0:M.data)==null?void 0:we.data)==null?void 0:k.status)===1?O.success((ot=M.data)==null?void 0:ot.message):((ut=(ct=M==null?void 0:M.data)==null?void 0:ct.data)==null?void 0:ut.status)===0&&O.error((dt=M.data)==null?void 0:dt.message)):O.error((mt=M.data)==null?void 0:mt.message)}catch(M){O.error(ht(M))}},j=d=>{a(!0),x(!0),f(d)},$=d=>{y(d),v(!0)},P=async d=>{var V,be,we;try{const k=await n.mutateAsync({api:`${ce.updateUserRole}/${E}`,data:{roleId:d}});(V=k==null?void 0:k.data)!=null&&V.success?(O.success(((be=k==null?void 0:k.data)==null?void 0:be.message)||"Role updated successfully"),p.refetch(),v(!1)):O.error(((we=k==null?void 0:k.data)==null?void 0:we.message)||"Something went wrong")}catch(k){O.error(ht(k))}},F=d=>{o(d.target.value)},H=d=>{d.preventDefault(),t(1),p.refetch()},I=d=>i.jsx(sn,{className:"mb-4",children:i.jsxs(on,{className:"pt-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:d==null?void 0:d.fullName}),i.jsx("p",{className:"text-sm text-gray-500",children:d==null?void 0:d.email})]}),i.jsx(gt,{variant:(d==null?void 0:d.status)===1?"success":"destructive",children:(d==null?void 0:d.status)===1?"Active":"Inactive"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Role:"})," ",d==null?void 0:d.role]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium",children:"Mobile:"})," ",d==null?void 0:d.mobile]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsxs(pt,{checked:(d==null?void 0:d.status)===1,onChange:()=>b(d._id),className:`${(d==null?void 0:d.status)===1?"bg-primary":"bg-gray-200"} relative inline-flex items-center h-6 rounded-full w-11`,children:[i.jsx("span",{className:"sr-only",children:"Toggle status"}),i.jsx("span",{className:`${(d==null?void 0:d.status)===1?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full`})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(he,{size:"sm",onClick:()=>j(d==null?void 0:d._id),className:"flex items-center gap-1",children:[i.jsx(xt,{size:14})," Edit"]}),i.jsxs(he,{size:"sm",variant:"outline",onClick:()=>$(d==null?void 0:d._id),className:"flex items-center gap-1",children:[i.jsx(bt,{size:14})," Role"]})]})]})]})});return i.jsxs("main",{className:"container mx-auto px-4 py-6",children:[i.jsx(fl,{open:g,setOpen:v,selectedUserId:E,roleList:((_=(R=N==null?void 0:N.data)==null?void 0:R.data)==null?void 0:_.docs)||[],onSubmit:P}),i.jsx(ml,{open:c,setOpen:a,title:h?"Edit User":"Add User",id:m,edit:h,setEdit:x,refetch:p.refetch}),i.jsx("div",{className:"bg-white rounded-lg shadow",children:i.jsxs("div",{className:"p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[i.jsx(ln,{className:"text-xl font-bold",children:"User Management"}),i.jsxs("div",{className:"flex flex-col sm:flex-row w-full md:w-auto gap-3",children:[i.jsxs("form",{onSubmit:H,className:"relative w-full sm:w-64",children:[i.jsx("input",{type:"text",placeholder:"Search users...",value:s,onChange:F,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),i.jsx(Mn,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),i.jsxs(he,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{x(!1),f(""),a(!0)},children:[i.jsx(An,{size:18}),"Add User"]})]})]}),i.jsxs(an,{className:"mb-4",children:["Total Users: ",((B=(K=p.data)==null?void 0:K.data)==null?void 0:B.totalDocs)||0]}),p.isLoading?i.jsx("div",{className:"flex h-32 items-center justify-center",children:i.jsx(en,{})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden md:block overflow-x-auto",children:i.jsxs(cn,{children:[i.jsx(un,{children:i.jsxs(He,{children:[i.jsx(ie,{className:"w-12",children:"#"}),i.jsx(ie,{children:"Role"}),i.jsx(ie,{children:"Name"}),i.jsx(ie,{children:"Mobile"}),i.jsx(ie,{children:"Email"}),i.jsx(ie,{children:"Status"}),i.jsx(ie,{className:"text-right",children:"Actions"})]})}),i.jsx(dn,{children:((ne=(X=(z=p==null?void 0:p.data)==null?void 0:z.data)==null?void 0:X.docs)==null?void 0:ne.length)===0?i.jsx(He,{children:i.jsx(ee,{colSpan:7,className:"text-center py-8",children:"No users found"})}):(A=(Z=(re=p==null?void 0:p.data)==null?void 0:re.data)==null?void 0:Z.docs)==null?void 0:A.map((d,V)=>i.jsxs(He,{children:[i.jsx(ee,{children:e*r-r+V+1}),i.jsx(ee,{children:i.jsx(gt,{variant:"outline",children:d==null?void 0:d.role})}),i.jsx(ee,{className:"font-medium",children:d==null?void 0:d.fullName}),i.jsx(ee,{children:d==null?void 0:d.mobile}),i.jsx(ee,{children:d==null?void 0:d.email}),i.jsx(ee,{children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs(pt,{checked:(d==null?void 0:d.status)===1,onChange:()=>b(d._id),className:`${(d==null?void 0:d.status)===1?"bg-primary":"bg-gray-200"} relative inline-flex items-center h-6 rounded-full w-11 mr-2`,children:[i.jsx("span",{className:"sr-only",children:"Toggle status"}),i.jsx("span",{className:`${(d==null?void 0:d.status)===1?"translate-x-6":"translate-x-1"} inline-block w-4 h-4 transform bg-white rounded-full`})]}),(d==null?void 0:d.status)===1?i.jsxs("span",{className:"text-xs text-green-600 flex items-center",children:[i.jsx(Ln,{size:16,className:"mr-1"})," Active"]}):i.jsxs("span",{className:"text-xs text-red-600 flex items-center",children:[i.jsx(In,{size:16,className:"mr-1"})," Inactive"]})]})}),i.jsx(ee,{className:"text-right",children:i.jsxs(Tn,{children:[i.jsx(Rn,{asChild:!0,children:i.jsxs(he,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",i.jsx(tn,{size:14})]})}),i.jsxs(kn,{align:"end",children:[i.jsxs(vt,{onClick:()=>j(d==null?void 0:d._id),children:[i.jsx(xt,{size:14,className:"mr-2"})," Edit User"]}),i.jsxs(vt,{onClick:()=>$(d==null?void 0:d._id),children:[i.jsx(bt,{size:14,className:"mr-2"})," Change Role"]})]})]})})]},d==null?void 0:d._id))})]})}),i.jsx("div",{className:"md:hidden",children:((ae=(C=(le=p==null?void 0:p.data)==null?void 0:le.data)==null?void 0:C.docs)==null?void 0:ae.length)===0?i.jsx("div",{className:"text-center py-8",children:"No users found"}):(Q=(Pe=(T=p==null?void 0:p.data)==null?void 0:T.data)==null?void 0:Pe.docs)==null?void 0:Q.map((d,V)=>i.jsx(I,{user:d,index:V},d==null?void 0:d._id))}),i.jsx(Ft,{className:"my-4"}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(e-1)*r+1," to ",Math.min(e*r,((me=(Te=p==null?void 0:p.data)==null?void 0:Te.data)==null?void 0:me.totalDocs)||0)," of ",((J=(se=p==null?void 0:p.data)==null?void 0:se.data)==null?void 0:J.totalDocs)||0," entries"]}),i.jsx(mn,{page:e,perPage:r,totalPage:(rt=(nt=p==null?void 0:p.data)==null?void 0:nt.data)==null?void 0:rt.totalDocs,hasNextPage:(at=(lt=p==null?void 0:p.data)==null?void 0:lt.data)==null?void 0:at.hasNextPage,hasPrevPage:(it=(st=p==null?void 0:p.data)==null?void 0:st.data)==null?void 0:it.hasPrevPage,setPage:t,setPerPage:l})]})]})]})})]})}function Ol(){return i.jsx(nn,{title:"Role",children:i.jsx("div",{children:i.jsx(hl,{})})})}export{Ol as default};
