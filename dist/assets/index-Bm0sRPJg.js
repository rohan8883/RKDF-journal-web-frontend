import{j as s,S as u,B as f,l as g}from"./index-DB-U-9Cm.js";import{d as N,r as b}from"./router-DMIetGpf.js";import{C as S,a as C,d as T,c as v}from"./card-Bw6yfvlv.js";import{T as y,a as L,b as x,c as r,d as w,e as i}from"./table-CbXT1Hu0.js";import{b as A}from"./useCustomQuery-DlPzsp6X.js";import{S as B}from"./separator-Dx7ufEei.js";import{S as k}from"./index-mYgWSCXV.js";import"./axios-DmypytPv.js";function V(){var l,t,n,c,d;const h=N(),[j,p]=b.useState(""),e=A({api:`${(l=g)==null?void 0:l.getAllLoans}`,key:"getAllLoans",options:{enabled:!0}});return s.jsx("main",{className:"grid items-start m-2",children:s.jsxs("div",{className:"grid auto-rows-max items-start gap-4 md:gap-2 lg:col-span-2",children:[s.jsx("div",{className:"flex justify-between w-full gap-2",children:s.jsx("div",{children:s.jsx(k,{search:j,setSearch:p,refetch:e.refetch,isFetching:e.isLoading})})}),s.jsxs(S,{className:"",children:[s.jsx(C,{className:"px-7",children:s.jsxs(T,{children:["Total Month: ",(n=(t=e==null?void 0:e.data)==null?void 0:t.data)==null?void 0:n.length]})}),s.jsx(v,{children:e.isLoading?s.jsx("div",{className:"flex justify-center items-center h-32",children:s.jsx(u,{})}):s.jsxs(s.Fragment,{children:[s.jsxs(y,{children:[s.jsx(L,{children:s.jsxs(x,{children:[s.jsx(r,{className:"",children:"Full Name"}),s.jsx(r,{className:"",children:"Mobile No."}),s.jsx(r,{className:"",children:"Status"}),s.jsx(r,{className:"text-center",children:"Action"})]})}),s.jsx(w,{children:(d=(c=e==null?void 0:e.data)==null?void 0:c.loans)==null?void 0:d.map(a=>{var o,m;return s.jsxs(x,{children:[s.jsx(i,{children:(o=a.user)==null?void 0:o.name}),s.jsx(i,{children:(m=a.user)==null?void 0:m.phone}),s.jsx(i,{children:a.status}),s.jsx(i,{children:s.jsx(f,{size:"sm",className:"bg-primary",onClick:()=>h(`/loan/make-payment/${a._id}`),children:"View"})})]},a._id)})})]}),s.jsx(B,{className:"mt-4 mb-2"})]})})]})]})})}export{V as default};
