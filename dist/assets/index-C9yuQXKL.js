import{c as W,j as e,r as P,_ as h,B as M,X as ve,S as we,C as Ae}from"./index-F4tHwxXJ.js";import{P as Fe}from"./index-B6_BmV4Z.js";import{r as u}from"./router-DMIetGpf.js";import{c as ke,d as Se,C as Te,a as Pe}from"./card-A-082u39.js";import{T as Me,a as Ie,b as de,c as w,d as Ce,e as b,P as De}from"./index-Bmc7Ds5M.js";import{u as ze,o as qe,F as Be,R as K,k as ue,B as $e,c as Ve,a as N,l as Le,T as he}from"./file-upload-FlvDYF5z.js";import{R as _e}from"./RHFTextArea-CCqhkqaU.js";import{D as He,T as Re,S as Ee}from"./index-DMj0855B.js";import{u as Oe,a as Xe,b as te}from"./useCustomQuery-CaKRkAjg.js";import{B as Ue}from"./book-qXRH-IG9.js";import{T as Je}from"./tag-C9vk0PDw.js";import{C as ge}from"./calendar-BFyrpM0i.js";import{A as Ze}from"./archive-CkW_wqCP.js";import{F as le}from"./file-text-CZtHMso-.js";import{U as fe}from"./upload-CALe0PA2.js";import{S as ce}from"./separator-4sCpi2kH.js";import{B as I}from"./badge-DFJJMvFs.js";import{D as Ge,a as Ke,b as We,c as oe,S as je}from"./dropdown-menu-Dg5aLj9g.js";import{D as Qe,a as Ye,b as es,c as ss}from"./dialog-D6eSvhs-.js";import{B as as}from"./book-open-C09mVfSx.js";import{G as ts}from"./globe-JDb1OIAe.js";import{f as me}from"./format-CWZx4aKk.js";import{S as ls}from"./search-DPen85KJ.js";import{C as is}from"./circle-plus-BzMjxGp4.js";import"./axios-DmypytPv.js";import"./check-FFEHQhxy.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=W("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=W("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=W("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=W("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=W("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),cs=Ve().shape({title:N().required("Title is required"),abstract:N().required("Abstract is required"),keywords:N(),issueId:N().required("Issue is required"),submissionId:N(),doi:N(),pages:N().matches(/^\d+-\d+$/,"Pages must be in format XXXX-XXXX"),publicationDate:N().required("Publication date is required"),fullTextFile:Le().required("PDF file is required").test("fileType","Only PDF files are accepted",t=>{if(!t)return!1;const o=Array.isArray(t)?t[0]:t;return o&&o.type==="application/pdf"}).test("fileSize","File size must be less than 10MB",t=>{if(!t)return!1;const o=Array.isArray(t)?t[0]:t;return o&&o.size<=10*1024*1024})});function ms({open:t,setOpen:o,title:m,id:f,edit:x,setEdit:y,refetch:Q}){var ae,C,D,z,q,B;const[A,F]=u.useState(""),Y=Oe({}),ee=Xe({}),{data:a,isFetching:ie}=te({api:`${P.getArticlesById}/${f}`,options:{enabled:x}}),k=te({api:`${P.getAllIssue}?page=1&limit=100`,options:{enabled:!0}}),S=te({api:`${P.getAllSubmissions}?page=1&limit=100`,options:{enabled:!0}}),c=ze({defaultValues:{title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",fullTextFile:void 0},resolver:qe(cs)}),i=l=>{if(l.target.files&&l.target.files[0]){const n=l.target.files[0];if(n.type!=="application/pdf"){h.error("Only PDF files are allowed");return}if(n.size>10*1024*1024){h.error("File size should not exceed 10MB");return}c.setValue("fullTextFile",n),F(n.name),h.success("PDF file selected successfully")}},se=()=>{c.setValue("fullTextFile",""),F("")},ne=async l=>{var n,p,j,g;try{const r=new FormData;r.append("title",l.title),r.append("abstract",l.abstract),l.keywords&&r.append("keywords",l.keywords),r.append("issueId",l.issueId),l.submissionId&&r.append("submissionId",l.submissionId),l.doi&&r.append("doi",l.doi),l.pages&&r.append("pages",l.pages),r.append("publicationDate",l.publicationDate);const v=Array.isArray(l.fullTextFile)?l.fullTextFile[0]:l.fullTextFile;if(r.append("fullTextFile",v),r.append("fileType","pdf"),x&&f){const d=await ee.mutateAsync({api:`${P.updateArticles}/${f}`,data:r,headers:{"Content-Type":"multipart/form-data"}});(n=d.data)!=null&&n.success?h.success((p=d==null?void 0:d.data)==null?void 0:p.message):h.error("Article not updated successfully")}else{const d=await Y.mutateAsync({api:P.createArticles,data:r,headers:{"Content-Type":"multipart/form-data"}});(j=d.data)!=null&&j.success?h.success((g=d==null?void 0:d.data)==null?void 0:g.message):h.error("Article not created successfully")}o(!1),y&&y(!1),Q&&Q()}catch{h.error("Failed to submit the form")}};u.useEffect(()=>{var l,n,p,j,g,r,v,d,$,V,L,_,H,R,E,O,X;x&&a?(c.reset({title:(l=a==null?void 0:a.data)==null?void 0:l.title,abstract:(n=a==null?void 0:a.data)==null?void 0:n.abstract,keywords:(j=(p=a==null?void 0:a.data)==null?void 0:p.keywords)==null?void 0:j.join(", "),issueId:((r=(g=a==null?void 0:a.data)==null?void 0:g.issueId)==null?void 0:r._id)||((v=a==null?void 0:a.data)==null?void 0:v.issueId),submissionId:(($=(d=a==null?void 0:a.data)==null?void 0:d.submissionId)==null?void 0:$._id)||((V=a==null?void 0:a.data)==null?void 0:V.submissionId),doi:(L=a==null?void 0:a.data)==null?void 0:L.doi,pages:(_=a==null?void 0:a.data)==null?void 0:_.pages,publicationDate:(R=(H=a==null?void 0:a.data)==null?void 0:H.publicationDate)==null?void 0:R.split("T")[0],fullTextFile:void 0}),(E=a==null?void 0:a.data)!=null&&E.fullText&&((O=a==null?void 0:a.data)==null?void 0:O.fileType)==="pdf"&&F(((X=a==null?void 0:a.data)==null?void 0:X.fullText.split("/").pop())||"Current PDF file")):(c.reset({title:"",abstract:"",keywords:"",issueId:"",submissionId:"",doi:"",pages:"",publicationDate:"",fullTextFile:void 0}),F(""))},[x,a,c.reset]);const re=()=>{const l=c.formState.errors,n=Object.entries(l).map(([,p])=>p==null?void 0:p.message).filter(Boolean);n.length>0&&h.error(n.join(", "))};return e.jsx(He,{open:t,setOpen:o,title:m,setEdit:y,edit:x,isLoading:ie,children:e.jsx(Be,{methods:c,onSubmit:c.handleSubmit(ne,re),children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"space-y-4 max-h-[75vh] overflow-y-auto pr-2",children:[e.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(Ue,{className:"h-5 w-5 mr-2 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative",children:e.jsx(K,{name:"title",label:"Article Title",placeholder:"Enter a descriptive title for your article",className:"pr-2 pl-2"})}),e.jsx("div",{className:"relative w-full",children:e.jsx(_e,{name:"abstract",label:"Abstract",placeholder:"Provide a concise summary of your article",rows:4,className:"w-full border rounded-md p-1 shadow-sm "})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Je,{className:"h-4 w-4 text-blue-600"}),e.jsx(K,{name:"keywords",label:"Keywords",placeholder:"E.g., research, medicine, technology (comma separated)",className:"pr-2 pl-2"})]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(ns,{className:"h-5 w-5 mr-2 text-blue-600"}),"Publication Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ge,{className:"h-4 w-4 text-blue-600"}),e.jsx(K,{name:"publicationDate",label:"Publication Date",type:"date",className:"pr-2 pl-2"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(os,{className:"h-4 w-4 text-blue-600"}),e.jsx(K,{name:"doi",label:"DOI",placeholder:"e.g., 10.1000/xyz123",className:"pr-2 pl-2"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-4 w-4 text-blue-600"}),e.jsx(K,{name:"pages",label:"Page Range",placeholder:"e.g., 123-145",className:"pr-2 pl-2"})]})})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(Ze,{className:"h-5 w-5 mr-2 text-blue-600"}),"Journal Details"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ue,{name:"issueId",label:"Select Issue",data:(D=(C=(ae=k==null?void 0:k.data)==null?void 0:ae.data)==null?void 0:C.docs)==null?void 0:D.map(l=>{var n;return{label:`${(n=l.journal)==null?void 0:n.title} - Vol. ${l.volume}, No. ${l.issueNumber}`,value:l._id}}),className:"pr-2 pl-2"}),e.jsx(ue,{name:"submissionId",label:"Related Submission (Optional)",data:(B=(q=(z=S==null?void 0:S.data)==null?void 0:z.data)==null?void 0:q.docs)==null?void 0:B.map(l=>({label:l.title,value:l._id})),className:"pr-2 pl-2"})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-800 mb-3 flex items-center",children:[e.jsx(le,{className:"h-5 w-5 mr-2 text-blue-600"}),"Article Full Text (PDF)"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border-2 border-dashed border-blue-200 rounded-lg p-4 bg-blue-50 hover:bg-blue-100 transition-colors",children:e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[e.jsx(fe,{className:"h-10 w-10 text-blue-500"}),e.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Upload PDF file containing the full text of your article (max 10MB)"}),e.jsx("input",{type:"file",id:"pdfUpload",accept:"application/pdf",onChange:i,className:"hidden"}),e.jsxs("label",{htmlFor:"pdfUpload",className:"px-4 py-2 bg-blue-600 text-white rounded-md cursor-pointer hover:bg-blue-700 transition-colors",children:[e.jsx(fe,{className:"h-4 w-4 inline mr-2"}),"Select PDF File"]})]})}),A&&e.jsx("div",{className:"bg-gray-100 p-3 rounded-md",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(rs,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{className:"text-gray-700 font-medium",children:A})]}),e.jsx("button",{type:"button",onClick:se,className:"text-red-500 hover:text-red-700",children:e.jsx(Re,{className:"h-4 w-4"})})]})}),e.jsx("input",{type:"hidden",...c.register("fullTextFile")})]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs($e,{isLoading:c.formState.isSubmitting,type:"submit",className:"h-12 w-full rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-medium flex items-center justify-center",disabled:c.formState.isSubmitting,children:[e.jsx(Ee,{className:"h-5 w-5 mr-2"}),x?"Update Article":"Publish Article"]})})]})})})}function xs({article:t,open:o,onOpenChange:m}){var f;return e.jsx(Qe,{open:o,onOpenChange:m,children:e.jsxs(Ye,{className:"max-w-4xl overflow-y-auto max-h-[90vh]",children:[e.jsx(es,{children:e.jsxs(ss,{className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-5 w-5"}),"Article Details"]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:t.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(I,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ge,{className:"h-3 w-3"}),me(new Date(t.publicationDate),"MMMM d, yyyy")]}),t.doi&&e.jsxs(I,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(be,{className:"h-3 w-3"}),"DOI: ",t.doi]}),t.pages&&e.jsxs(I,{variant:"outline",className:"flex items-center gap-1",children:[e.jsx(ds,{className:"h-3 w-3"}),"Pages: ",t.pages]})]})]}),e.jsx(ce,{}),t.journal&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h3",{className:"flex items-center gap-2 font-semibold",children:[e.jsx(as,{className:"h-4 w-4"}),"Journal Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Journal"}),e.jsx("p",{children:t.journal.title||"N/A"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ISSN"}),e.jsx("p",{children:t.journal.issn||"N/A"})]}),t.issue&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Volume/Issue"}),e.jsxs("p",{children:["Vol.",t.issue.volume," , No. ",t.issue.issueNumber]})]}),t.journal.website&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Website"}),e.jsxs("a",{href:t.journal.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[e.jsx(ts,{className:"h-3 w-3"}),"Visit Journal"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Abstract"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.abstract})]}),((f=t.keywords)==null?void 0:f.length)>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Keywords"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keywords.map((x,y)=>e.jsx(I,{variant:"secondary",children:x},y))})]}),e.jsx(ce,{}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:"Full Text"}),e.jsx("div",{className:"prose max-w-none text-gray-700 whitespace-pre-line",children:t.fullText.startsWith("http")?e.jsx("a",{href:t.fullText,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Download PDF"}):t.fullText})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsxs(M,{variant:"outline",onClick:()=>m(!1),className:"flex items-center gap-2",children:[e.jsx(ve,{className:"h-4 w-4"}),"Close"]})})]})]})})}function ps(){var C,D,z,q,B,l,n,p,j,g,r,v,d,$,V,L,_,H,R,E,O,X,xe,pe;const[t,o]=u.useState(1),[m,f]=u.useState(10),[x,y]=u.useState(""),[Q,A]=u.useState(!1),[F,Y]=u.useState(""),[ee,a]=u.useState(!1),[ie,k]=u.useState(!1),[S,c]=u.useState(null),i=te({api:`${P.getAllArticles}?page=${t}&limit=${m}&q=${x}`,key:"getAllArticles",value:[t,m,x],options:{enabled:!0}}),se=s=>{A(!0),a(!0),Y(s)},ne=s=>{y(s.target.value)},re=s=>{s.preventDefault(),o(1),i.refetch()},ae=({article:s})=>{var T,U,J,Z,G;return e.jsx(Te,{className:"mb-4",children:e.jsxs(Pe,{className:"pt-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s==null?void 0:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:[(U=(T=s==null?void 0:s.issue)==null?void 0:T.journal)==null?void 0:U.title," - Vol. ",(J=s==null?void 0:s.issue)==null?void 0:J.volume,", No. ",(Z=s==null?void 0:s.issue)==null?void 0:Z.issueNumber]})]}),e.jsx(I,{variant:"outline",children:me(new Date(s==null?void 0:s.publicationDate),"MMM d, yyyy")})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:s.abstract}),((G=s==null?void 0:s.keywords)==null?void 0:G.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.keywords.map((Ne,ye)=>e.jsx(I,{variant:"secondary",children:Ne},ye))}),e.jsxs("div",{className:"flex justify-between items-center mt-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(M,{size:"sm",onClick:()=>se(s==null?void 0:s._id),className:"flex items-center gap-1",children:[e.jsx(je,{size:14})," Edit"]}),e.jsxs(M,{size:"sm",variant:"destructive",className:"flex items-center gap-1",children:[e.jsx(he,{size:14})," Delete"]})]}),e.jsxs(M,{size:"sm",variant:"outline",children:[e.jsx(le,{size:14,className:"mr-2"})," View Details"]})]})]})})};return e.jsxs("main",{className:"container mx-auto px-4 py-6",children:[S&&e.jsx(xs,{article:S,open:ie,onOpenChange:k}),e.jsx(ms,{open:Q,setOpen:A,title:ee?"Edit Article":"Add Article",id:F,edit:ee,setEdit:a,refetch:i.refetch}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsxs("div",{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsx(ke,{className:"text-xl font-bold",children:"Article Management"}),e.jsxs("div",{className:"flex flex-col sm:flex-row w-full md:w-auto gap-3",children:[e.jsxs("form",{onSubmit:re,className:"relative w-full sm:w-64",children:[e.jsx("input",{type:"text",placeholder:"Search articles...",value:x,onChange:ne,className:"w-full h-10 pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"}),e.jsx(ls,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]}),e.jsxs(M,{className:"flex items-center gap-2 whitespace-nowrap",onClick:()=>{a(!1),Y(""),A(!0)},children:[e.jsx(is,{size:18}),"Add Article"]})]})]}),e.jsxs(Se,{className:"mb-4",children:["Total Articles: ",((D=(C=i.data)==null?void 0:C.data)==null?void 0:D.totalDocs)||0]}),i.isLoading?e.jsx("div",{className:"flex h-32 items-center justify-center",children:e.jsx(we,{})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden md:block overflow-x-auto",children:e.jsxs(Me,{children:[e.jsx(Ie,{children:e.jsxs(de,{children:[e.jsx(w,{className:"w-12",children:"#"}),e.jsx(w,{children:"Title"}),e.jsx(w,{children:"Journal/Issue"}),e.jsx(w,{children:"Publication Date"}),e.jsx(w,{children:"Pages"}),e.jsx(w,{children:"Status"}),e.jsx(w,{className:"text-right",children:"Actions"})]})}),e.jsx(Ce,{children:((B=(q=(z=i==null?void 0:i.data)==null?void 0:z.data)==null?void 0:q.docs)==null?void 0:B.length)===0?e.jsx(de,{children:e.jsx(b,{colSpan:6,className:"text-center py-8",children:"No articles found"})}):(p=(n=(l=i==null?void 0:i.data)==null?void 0:l.data)==null?void 0:n.docs)==null?void 0:p.map((s,T)=>{var U,J,Z,G;return e.jsxs(de,{children:[e.jsx(b,{children:t*m-m+T+1}),e.jsx(b,{className:"font-medium",children:s==null?void 0:s.title}),e.jsxs(b,{children:[(J=(U=s==null?void 0:s.issue)==null?void 0:U.journal)==null?void 0:J.title," - Vol. ",(Z=s==null?void 0:s.issue)==null?void 0:Z.volume,", No. ",(G=s==null?void 0:s.issue)==null?void 0:G.issueNumber]}),e.jsx(b,{children:me(new Date(s==null?void 0:s.publicationDate),"MMM d, yyyy")}),e.jsx(b,{children:(s==null?void 0:s.pages)||"N/A"}),e.jsx(b,{children:(s==null?void 0:s.status)==1?"Review":"Pending"}),e.jsx(b,{className:"text-right",children:e.jsxs(Ge,{children:[e.jsx(Ke,{asChild:!0,children:e.jsxs(M,{variant:"outline",size:"sm",className:"h-8 ml-auto flex items-center gap-1",children:["Actions ",e.jsx(Ae,{size:14})]})}),e.jsxs(We,{align:"end",children:[e.jsxs(oe,{onClick:()=>se(s==null?void 0:s._id),children:[e.jsx(je,{size:14,className:"mr-2"})," Edit"]}),e.jsxs(oe,{className:"text-red-600",children:[e.jsx(he,{size:14,className:"mr-2"})," Delete"]}),e.jsxs(oe,{onClick:()=>{c(s),k(!0)},children:[e.jsx(le,{size:14,className:"mr-2"})," View Details"]})]})]})})]},s==null?void 0:s._id)})})]})}),e.jsx("div",{className:"md:hidden",children:((r=(g=(j=i==null?void 0:i.data)==null?void 0:j.data)==null?void 0:g.docs)==null?void 0:r.length)===0?e.jsx("div",{className:"text-center py-8",children:"No articles found"}):($=(d=(v=i==null?void 0:i.data)==null?void 0:v.data)==null?void 0:d.docs)==null?void 0:$.map((s,T)=>e.jsx(ae,{article:s,index:T},s==null?void 0:s._id))}),e.jsx(ce,{className:"my-4"}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",(t-1)*m+1," to ",Math.min(t*m,((L=(V=i==null?void 0:i.data)==null?void 0:V.data)==null?void 0:L.totalDocs)||0)," of ",((H=(_=i==null?void 0:i.data)==null?void 0:_.data)==null?void 0:H.totalDocs)||0," entries"]}),e.jsx(De,{page:t,perPage:m,totalPage:(E=(R=i==null?void 0:i.data)==null?void 0:R.data)==null?void 0:E.totalDocs,hasNextPage:(X=(O=i==null?void 0:i.data)==null?void 0:O.data)==null?void 0:X.hasNextPage,hasPrevPage:(pe=(xe=i==null?void 0:i.data)==null?void 0:xe.data)==null?void 0:pe.hasPrevPage,setPage:o,setPerPage:f})]})]})]})})]})}function _s(){return e.jsx(Fe,{title:"Article List",children:e.jsx("div",{children:e.jsx(ps,{})})})}export{_s as default};
